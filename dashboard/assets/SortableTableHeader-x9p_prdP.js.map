{"version":3,"file":"SortableTableHeader-x9p_prdP.js","sources":["../../src/components/common/SortableTableHeader.tsx"],"sourcesContent":["import React from \"react\";\n\nexport type SortDirection = \"asc\" | \"desc\" | null;\n\nexport interface SortableTableHeaderProps {\n  /** Column key for sorting */\n  columnKey: string;\n  /** Display label */\n  children: React.ReactNode;\n  /** Current sort column */\n  sortColumn: string | null;\n  /** Current sort direction */\n  sortDirection: SortDirection;\n  /** Callback when header is clicked */\n  onSort: (columnKey: string) => void;\n  /** Additional className for alignment */\n  className?: string;\n}\n\n/**\n * Sortable table header with visual sort indicators.\n * Click to toggle sort direction: none → asc → desc → none\n */\nconst SortableTableHeader: React.FC<SortableTableHeaderProps> = ({\n  columnKey,\n  children,\n  sortColumn,\n  sortDirection,\n  onSort,\n  className = \"\",\n}) => {\n  const isActive = sortColumn === columnKey;\n\n  return (\n    <th\n      className={`cursor-pointer select-none hover:bg-gray-100 transition-colors ${className}`}\n      onClick={() => onSort(columnKey)}\n      role=\"columnheader\"\n      aria-sort={isActive ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n    >\n      <div className=\"flex items-center gap-1\">\n        <span>{children}</span>\n        <span className=\"inline-flex flex-col text-[10px] leading-none ml-1\">\n          <span\n            className={`${isActive && sortDirection === \"asc\" ? \"text-blue-600\" : \"text-gray-300\"}`}\n          >\n            ▲\n          </span>\n          <span\n            className={`${\n              isActive && sortDirection === \"desc\" ? \"text-blue-600\" : \"text-gray-300\"\n            }`}\n          >\n            ▼\n          </span>\n        </span>\n      </div>\n    </th>\n  );\n};\n\nexport default SortableTableHeader;\n\n/**\n * Hook to manage table sorting state\n */\nexport function useTableSort<T>(\n  data: T[] | undefined,\n  defaultColumn: string | null = null,\n  defaultDirection: SortDirection = null\n) {\n  const [sortColumn, setSortColumn] = React.useState<string | null>(defaultColumn);\n  const [sortDirection, setSortDirection] = React.useState<SortDirection>(defaultDirection);\n\n  const handleSort = React.useCallback(\n    (columnKey: string) => {\n      if (sortColumn !== columnKey) {\n        setSortColumn(columnKey);\n        setSortDirection(\"asc\");\n      } else if (sortDirection === \"asc\") {\n        setSortDirection(\"desc\");\n      } else if (sortDirection === \"desc\") {\n        setSortColumn(null);\n        setSortDirection(null);\n      } else {\n        setSortColumn(columnKey);\n        setSortDirection(\"asc\");\n      }\n    },\n    [sortColumn, sortDirection]\n  );\n\n  const sortedData = React.useMemo(() => {\n    if (!data || !sortColumn || !sortDirection) return data;\n\n    return [...data].sort((a, b) => {\n      const aVal = (a as Record<string, unknown>)[sortColumn];\n      const bVal = (b as Record<string, unknown>)[sortColumn];\n\n      // Handle null/undefined\n      if (aVal == null && bVal == null) return 0;\n      if (aVal == null) return sortDirection === \"asc\" ? 1 : -1;\n      if (bVal == null) return sortDirection === \"asc\" ? -1 : 1;\n\n      // Compare values\n      let comparison = 0;\n      if (typeof aVal === \"string\" && typeof bVal === \"string\") {\n        comparison = aVal.localeCompare(bVal);\n      } else if (typeof aVal === \"number\" && typeof bVal === \"number\") {\n        comparison = aVal - bVal;\n      } else {\n        comparison = String(aVal).localeCompare(String(bVal));\n      }\n\n      return sortDirection === \"asc\" ? comparison : -comparison;\n    });\n  }, [data, sortColumn, sortDirection]);\n\n  return {\n    sortColumn,\n    sortDirection,\n    handleSort,\n    sortedData,\n  };\n}\n"],"names":["SortableTableHeader","columnKey","children","sortColumn","sortDirection","onSort","className","isActive","jsx","jsxs","useTableSort","data","defaultColumn","defaultDirection","setSortColumn","React","setSortDirection","handleSort","sortedData","a","b","aVal","bVal","comparison"],"mappings":"+CAuBA,MAAMA,EAA0D,CAAC,CAC/D,UAAAC,EACA,SAAAC,EACA,WAAAC,EACA,cAAAC,EACA,OAAAC,EACA,UAAAC,EAAY,EACd,IAAM,CACJ,MAAMC,EAAWJ,IAAeF,EAEhC,OACEO,EAAAA,IAAC,KAAA,CACC,UAAW,kEAAkEF,CAAS,GACtF,QAAS,IAAMD,EAAOJ,CAAS,EAC/B,KAAK,eACL,YAAWM,EAAYH,IAAkB,MAAQ,YAAc,aAAgB,OAE/E,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAD,MAAC,QAAM,SAAAN,EAAS,EAChBO,EAAAA,KAAC,OAAA,CAAK,UAAU,qDACd,SAAA,CAAAD,EAAAA,IAAC,OAAA,CACC,UAAW,GAAGD,GAAYH,IAAkB,MAAQ,gBAAkB,eAAe,GACtF,SAAA,GAAA,CAAA,EAGDI,EAAAA,IAAC,OAAA,CACC,UAAW,GACTD,GAAYH,IAAkB,OAAS,gBAAkB,eAC3D,GACD,SAAA,GAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAGN,EAOO,SAASM,EACdC,EACAC,EAA+B,KAC/BC,EAAkC,KAClC,CACA,KAAM,CAACV,EAAYW,CAAa,EAAIC,EAAM,SAAwBH,CAAa,EACzE,CAACR,EAAeY,CAAgB,EAAID,EAAM,SAAwBF,CAAgB,EAElFI,EAAaF,EAAM,YACtBd,GAAsB,CACjBE,IAAeF,GACjBa,EAAcb,CAAS,EACvBe,EAAiB,KAAK,GACbZ,IAAkB,MAC3BY,EAAiB,MAAM,EACdZ,IAAkB,QAC3BU,EAAc,IAAI,EAClBE,EAAiB,IAAI,IAErBF,EAAcb,CAAS,EACvBe,EAAiB,KAAK,EAE1B,EACA,CAACb,EAAYC,CAAa,CAAA,EAGtBc,EAAaH,EAAM,QAAQ,IAC3B,CAACJ,GAAQ,CAACR,GAAc,CAACC,EAAsBO,EAE5C,CAAC,GAAGA,CAAI,EAAE,KAAK,CAACQ,EAAGC,IAAM,CAC9B,MAAMC,EAAQF,EAA8BhB,CAAU,EAChDmB,EAAQF,EAA8BjB,CAAU,EAGtD,GAAIkB,GAAQ,MAAQC,GAAQ,KAAM,MAAO,GACzC,GAAID,GAAQ,KAAM,OAAOjB,IAAkB,MAAQ,EAAI,GACvD,GAAIkB,GAAQ,KAAM,OAAOlB,IAAkB,MAAQ,GAAK,EAGxD,IAAImB,EAAa,EACjB,OAAI,OAAOF,GAAS,UAAY,OAAOC,GAAS,SAC9CC,EAAaF,EAAK,cAAcC,CAAI,EAC3B,OAAOD,GAAS,UAAY,OAAOC,GAAS,SACrDC,EAAaF,EAAOC,EAEpBC,EAAa,OAAOF,CAAI,EAAE,cAAc,OAAOC,CAAI,CAAC,EAG/ClB,IAAkB,MAAQmB,EAAa,CAACA,CACjD,CAAC,EACA,CAACZ,EAAMR,EAAYC,CAAa,CAAC,EAEpC,MAAO,CACL,WAAAD,EACA,cAAAC,EACA,WAAAa,EACA,WAAAC,CAAA,CAEJ"}