import{r as d,j as e,R as le,L as re}from"./index-QjjBz54k.js";import{a as ie}from"./useQueries-D0hkDoVR.js";import{a as Q,L as oe}from"./appStore-9AaCbw7y.js";import{u as ce,S as W}from"./SortableTableHeader-DEn_XO8b.js";import{i as de}from"./echarts-BKm1kV0g.js";const ae=new Map,ue=({onResolved:o,className:k=""})=>{const[h,u]=d.useState(""),[m,c]=d.useState("all"),[a,n]=d.useState(!1),[i,f]=d.useState(null),[g,S]=d.useState(null),R=d.useRef(null),_=d.useCallback(async()=>{const v=h.trim();if(!v){f("Please enter an object name");return}const p=`${m}:${v.toLowerCase()}`,N=ae.get(p);if(N){S(N),f(null),o(N.ra,N.dec,N.objectName);return}R.current&&R.current.abort(),R.current=new AbortController,n(!0),f(null),S(null);try{const l=`https://cdsweb.u-strasbg.fr/cgi-bin/nph-sesame/-oI/${m==="all"?"A":m.charAt(0).toUpperCase()}?${encodeURIComponent(v)}`,j=await fetch(l,{signal:R.current.signal});if(!j.ok)throw new Error(`HTTP error: ${j.status}`);const T=(await j.text()).split(`
`).find(F=>F.startsWith("%J"));if(!T)throw new Error("Could not resolve object. Please check the name and try again.");const A=T.match(/%J\s+([\d.+-]+)\s+([\d.+-]+)/);if(!A)throw new Error("Failed to parse coordinates from response.");const E=parseFloat(A[1]),r=parseFloat(A[2]),y={ra:E,dec:r,objectName:v,service:m};ae.set(p,y),S(y),o(E,r,v)}catch(b){if(b instanceof Error&&b.name==="AbortError")return;const l=b instanceof Error?b.message:"Resolution failed";l.includes("fetch")||l.includes("network")?f("Network error. CORS may be blocking the request. Try using a backend proxy."):f(l)}finally{n(!1)}},[h,m,o]),M=v=>{v.key==="Enter"&&_()};return e.jsxs("div",{className:`space-y-3 ${k}`,children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h,onChange:v=>u(v.target.value),onKeyDown:M,placeholder:"Object name (e.g., M31, Crab Nebula, PSR J0534+2200)",className:"form-control flex-1"}),e.jsx("button",{onClick:_,disabled:a||!h.trim(),className:"btn btn-primary",children:a?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Resolving..."]}):"Resolve"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),["all","simbad","ned","vizier"].map(v=>e.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"sesame-service",value:v,checked:m===v,onChange:()=>c(v),className:"w-4 h-4 text-vast-green"}),e.jsx("span",{className:"capitalize",children:v==="all"?"All":v.toUpperCase()})]},v))]}),i&&e.jsxs("div",{className:"text-red-600 text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i]}),g&&e.jsxs("div",{className:"text-green-600 text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:["Resolved: RA=",g.ra.toFixed(6),"°, Dec=",g.dec.toFixed(6),"°"]})]})]})},me=({values:o,onChange:k,className:h=""})=>{const u=(c,a,n)=>{const i=o[c]||{type:"peak"};k({...o,[c]:{...i,[a]:a==="type"?n:n===""?void 0:Number(n)}})},m=(c,a,n)=>{const i=o[a]||{type:"peak"};return e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("label",{className:"form-label mb-0 font-semibold",children:c}),e.jsx("span",{className:"text-gray-400 cursor-help",title:n,children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("input",{type:"number",value:i.min??"",onChange:f=>u(a,"min",f.target.value),placeholder:"Min (mJy)",step:"0.01",className:"form-control"}),e.jsx("input",{type:"number",value:i.max??"",onChange:f=>u(a,"max",f.target.value),placeholder:"Max (mJy)",step:"0.01",className:"form-control"}),e.jsxs("select",{value:i.type||"peak",onChange:f=>u(a,"type",f.target.value),className:"form-select",children:[e.jsx("option",{value:"peak",children:"Peak Flux"}),e.jsx("option",{value:"int",children:"Int Flux"})]})]})]})};return e.jsxs("div",{className:`space-y-4 ${h}`,children:[m("Min. Flux","minFlux","The minimum flux of a source. Peak or integrated flux can be selected."),m("Max. Flux","maxFlux","The maximum flux of a source. Peak or integrated flux can be selected."),m("Avg. Flux","avgFlux","The average flux of a source. Peak or integrated flux can be selected.")]})},xe=({values:o,onChange:k,className:h=""})=>{const u=(c,a,n)=>{const i=o[c]||{type:"peak"};k({...o,[c]:{...i,[a]:a==="type"?n:n===""?void 0:Number(n)}})},m=(c,a,n,i=!0)=>{const f=o[a]||{type:"peak"};return e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("label",{className:"form-label mb-0 font-semibold",children:c}),e.jsx("span",{className:"text-gray-400 cursor-help",title:n,children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:`grid ${i?"grid-cols-3":"grid-cols-2"} gap-2`,children:[e.jsx("input",{type:"number",value:f.min??"",onChange:g=>u(a,"min",g.target.value),placeholder:"Min",step:"0.01",className:"form-control"}),e.jsx("input",{type:"number",value:f.max??"",onChange:g=>u(a,"max",g.target.value),placeholder:"Max",step:"0.01",className:"form-control"}),i&&e.jsxs("select",{value:f.type||"peak",onChange:g=>u(a,"type",g.target.value),className:"form-select",children:[e.jsx("option",{value:"peak",children:"Peak Flux"}),e.jsx("option",{value:"int",children:"Int Flux"})]})]})]})};return e.jsxs("div",{className:`space-y-4 ${h}`,children:[m("η (Eta) Metric","eta","The weighted reduced chi-squared variability metric. Higher values indicate more variability."),m("V Metric","v","The variability index, equivalent to fractional variability. V = σ/μ."),m("Max |Vs| Metric","vs","The maximum two-epoch variability t-statistic value derived from the source."),m("Max |m| Metric","m","The maximum two-epoch modulation index derived from the source (measure of variability).")]})},he=({availableTags:o,includeTags:k,excludeTags:h,onIncludeChange:u,onExcludeChange:m,className:c=""})=>{const[a,n]=d.useState(""),[i,f]=d.useState(""),[g,S]=d.useState(!1),[R,_]=d.useState(!1),M=(b,l)=>{if(!b.trim())return[];const j=b.toLowerCase();return o.filter(C=>C.toLowerCase().includes(j)&&!l.includes(C)).slice(0,10)},v=(b,l,j,C)=>{l.includes(b)||j([...l,b]),C("")},p=(b,l,j)=>{j(l.filter(C=>C!==b))},N=(b,l,j,C,T,A,E,r)=>{const y=M(l,C);return e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("label",{className:"form-label mb-0 font-semibold",children:b}),e.jsx("span",{className:"text-gray-400 cursor-help",title:r,children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),C.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:C.map(F=>e.jsxs("span",{className:"badge badge-secondary flex items-center gap-1",children:[F,e.jsx("button",{onClick:()=>p(F,C,T),className:"hover:text-red-500",children:"×"})]},F))}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:l,onChange:F=>{j(F.target.value),E(!0)},onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),onKeyDown:F=>{F.key==="Enter"&&l.trim()&&(F.preventDefault(),y.length>0?v(y[0],C,T,j):o.includes(l.trim())&&v(l.trim(),C,T,j))},placeholder:"Type to search tags...",className:"form-control w-full"}),A&&y.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-48 overflow-auto",children:y.map(F=>e.jsx("button",{onClick:()=>v(F,C,T,j),className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:F},F))})]})]})};return e.jsxs("div",{className:`space-y-4 ${c}`,children:[N("Include Tags",a,n,k,u,g,S,"Only return sources that have the given tags."),N("Exclude Tags",i,f,h,m,R,_,"Only return sources that do NOT have the given tags.")]})};function ge(o){if(!o||typeof o!="string")return null;const k=o.trim();if(!k)return null;const h=parseFloat(k);if(!isNaN(h)&&!k.includes(":")&&!k.match(/[hms°'"]/i))return h>=0&&h<360?h:h>=0&&h<24?h*15:null;const u=k.match(/^(\d{1,2})(?:h|:|\s)\s*(\d{1,2})(?:m|:|\s)\s*(\d{1,2}(?:\.\d+)?)\s*s?$/i);if(u){const c=parseInt(u[1],10),a=parseInt(u[2],10),n=parseFloat(u[3]);if(c>=0&&c<24&&a>=0&&a<60&&n>=0&&n<60)return(c+a/60+n/3600)*15}const m=k.match(/^(\d{1,2})(?:h|:|\s)\s*(\d{1,2})(?:m)?$/i);if(m){const c=parseInt(m[1],10),a=parseInt(m[2],10);if(c>=0&&c<24&&a>=0&&a<60)return(c+a/60)*15}return null}function pe(o){if(!o||typeof o!="string")return null;const k=o.trim();if(!k)return null;let h=1,u=k;u.startsWith("-")?(h=-1,u=u.slice(1).trim()):u.startsWith("+")&&(u=u.slice(1).trim());const m=parseFloat(u);if(!isNaN(m)&&!u.includes(":")&&!u.match(/[dms°'"]/i)){const n=h*m;return n>=-90&&n<=90?n:null}const c=u.match(/^(\d{1,2})(?:d|°|:|\s)\s*(\d{1,2})(?:m|'|:|\s)\s*(\d{1,2}(?:\.\d+)?)\s*(?:s|")?$/i);if(c){const n=parseInt(c[1],10),i=parseInt(c[2],10),f=parseFloat(c[3]);if(n>=0&&n<=90&&i>=0&&i<60&&f>=0&&f<60){const g=n+i/60+f/3600,S=h*g;if(S>=-90&&S<=90)return S}}const a=u.match(/^(\d{1,2})(?:d|°|:|\s)\s*(\d{1,2})(?:m|')?$/i);if(a){const n=parseInt(a[1],10),i=parseInt(a[2],10);if(n>=0&&n<=90&&i>=0&&i<60){const f=n+i/60,g=h*f;if(g>=-90&&g<=90)return g}}return null}const G={radiusUnit:"arcmin",coordFrame:"icrs",includeTags:[],excludeTags:[]},fe=({runs:o=[],availableTags:k=[],onSubmit:h,onReset:u,initialParams:m,className:c=""})=>{var F,L,D,z,P,U,I,B;const[a,n]=d.useState({...G,...m}),[i,f]=d.useState(new Set(["cone","filters"])),[g,S]=d.useState({}),[R,_]=d.useState(((F=m==null?void 0:m.ra)==null?void 0:F.toString())??""),[M,v]=d.useState(((L=m==null?void 0:m.dec)==null?void 0:L.toString())??""),p=le.useRef(null),N=d.useCallback(()=>{const s=window.location.hash.slice(1);if(!s)return{};const t={};return s.split("&").forEach(x=>{const[$,V]=x.split("=");if(!$||!V)return;const w=decodeURIComponent(V);switch($){case"ra":t.ra=parseFloat(w);break;case"dec":t.dec=parseFloat(w);break;case"radius":t.radius=parseFloat(w);break;case"radius_unit":["arcsec","arcmin","deg"].includes(w)&&(t.radiusUnit=w);break;case"coord_frame":["icrs","galactic"].includes(w)&&(t.coordFrame=w);break;case"new_source":t.newSource=w==="true";break;case"no_siblings":t.noSiblings=w==="true";break;case"run_name":t.runName=w;break;case"include_tags":t.includeTags=w.split(",").filter(Boolean);break;case"exclude_tags":t.excludeTags=w.split(",").filter(Boolean);break;case"min_flux_min":t.minFlux={...t.minFlux,min:parseFloat(w),type:"peak"};break;case"min_flux_max":t.minFlux={...t.minFlux,max:parseFloat(w),type:"peak"};break;case"max_flux_min":t.maxFlux={...t.maxFlux,min:parseFloat(w),type:"peak"};break;case"max_flux_max":t.maxFlux={...t.maxFlux,max:parseFloat(w),type:"peak"};break;case"eta_min":t.eta={...t.eta,min:parseFloat(w),type:"peak"};break;case"eta_max":t.eta={...t.eta,max:parseFloat(w),type:"peak"};break;case"v_min":t.v={...t.v,min:parseFloat(w),type:"peak"};break;case"v_max":t.v={...t.v,max:parseFloat(w),type:"peak"};break}}),t},[]),b=d.useCallback(s=>{var $,V,w,H,O,K,q,J;const t=[];s.ra!=null&&t.push(`ra=${s.ra.toFixed(6)}`),s.dec!=null&&t.push(`dec=${s.dec.toFixed(6)}`),s.radius!=null&&t.push(`radius=${s.radius}`),s.radiusUnit!==G.radiusUnit&&t.push(`radius_unit=${s.radiusUnit}`),s.coordFrame!==G.coordFrame&&t.push(`coord_frame=${s.coordFrame}`),s.newSource&&t.push("new_source=true"),s.noSiblings&&t.push("no_siblings=true"),s.runName&&t.push(`run_name=${encodeURIComponent(s.runName)}`),s.includeTags.length>0&&t.push(`include_tags=${s.includeTags.map(encodeURIComponent).join(",")}`),s.excludeTags.length>0&&t.push(`exclude_tags=${s.excludeTags.map(encodeURIComponent).join(",")}`),(($=s.minFlux)==null?void 0:$.min)!=null&&t.push(`min_flux_min=${s.minFlux.min}`),((V=s.minFlux)==null?void 0:V.max)!=null&&t.push(`min_flux_max=${s.minFlux.max}`),((w=s.maxFlux)==null?void 0:w.min)!=null&&t.push(`max_flux_min=${s.maxFlux.min}`),((H=s.maxFlux)==null?void 0:H.max)!=null&&t.push(`max_flux_max=${s.maxFlux.max}`),((O=s.eta)==null?void 0:O.min)!=null&&t.push(`eta_min=${s.eta.min}`),((K=s.eta)==null?void 0:K.max)!=null&&t.push(`eta_max=${s.eta.max}`),((q=s.v)==null?void 0:q.min)!=null&&t.push(`v_min=${s.v.min}`),((J=s.v)==null?void 0:J.max)!=null&&t.push(`v_max=${s.v.max}`);const x=t.length>0?`#${t.join("&")}`:"";window.location.hash!==x&&window.history.replaceState(null,"",x||window.location.pathname)},[]),l=d.useCallback(s=>{const t={};return s.ra!=null&&(s.ra<0||s.ra>360)&&(t.ra="RA must be between 0 and 360 degrees"),s.dec!=null&&(s.dec<-90||s.dec>90)&&(t.dec="Dec must be between -90 and 90 degrees"),s.radius!=null&&s.radius<0&&(t.radius="Radius must be non-negative"),(s.ra!=null||s.dec!=null||s.radius!=null)&&(s.ra==null||s.dec==null||s.radius==null)&&(s.ra==null&&(t.ra="RA required for cone search"),s.dec==null&&(t.dec="Dec required for cone search"),s.radius==null&&(t.radius="Radius required for cone search")),t},[]);d.useEffect(()=>{const s=N();Object.keys(s).length>0&&n(t=>({...t,...s}))},[N]),d.useEffect(()=>(p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b(a),S(l(a))},500),()=>{p.current&&window.clearTimeout(p.current)}),[a,b,l]);const j=d.useCallback(s=>{f(t=>{const x=new Set(t);return x.has(s)?x.delete(s):x.add(s),x})},[]),C=d.useCallback((s,t)=>{n(x=>({...x,ra:s,dec:t})),_(s.toFixed(6)),v(t.toFixed(6))},[]),T=d.useCallback(()=>{n({...G}),S({}),_(""),v(""),window.history.replaceState(null,"",window.location.pathname),u==null||u()},[u]),A=d.useCallback(()=>{const s=l(a);S(s),Object.keys(s).length===0&&h(a)},[a,h,l]),E=d.useMemo(()=>{var t,x,$,V,w,H,O,K,q,J,Z,X,Y,ee,se,te;let s=0;return a.ra!=null&&a.dec!=null&&s++,(((t=a.minFlux)==null?void 0:t.min)!=null||((x=a.minFlux)==null?void 0:x.max)!=null)&&s++,((($=a.maxFlux)==null?void 0:$.min)!=null||((V=a.maxFlux)==null?void 0:V.max)!=null)&&s++,(((w=a.avgFlux)==null?void 0:w.min)!=null||((H=a.avgFlux)==null?void 0:H.max)!=null)&&s++,(((O=a.eta)==null?void 0:O.min)!=null||((K=a.eta)==null?void 0:K.max)!=null)&&s++,(((q=a.v)==null?void 0:q.min)!=null||((J=a.v)==null?void 0:J.max)!=null)&&s++,(((Z=a.snrMin)==null?void 0:Z.min)!=null||((X=a.snrMin)==null?void 0:X.max)!=null)&&s++,(((Y=a.snrMax)==null?void 0:Y.min)!=null||((ee=a.snrMax)==null?void 0:ee.max)!=null)&&s++,(((se=a.datapoints)==null?void 0:se.min)!=null||((te=a.datapoints)==null?void 0:te.max)!=null)&&s++,a.newSource&&s++,a.noSiblings&&s++,a.includeTags.length>0&&s++,a.excludeTags.length>0&&s++,a.runName&&s++,s},[a]),r=Object.keys(g).length>0,y=(s,t,x)=>{const $=i.has(s);return e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>j(s),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:t}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${$?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&e.jsx("div",{className:"p-4 space-y-4",children:x})]})};return e.jsxs("div",{className:`card ${c}`,children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:["Source Query",E>0&&e.jsxs("span",{className:"badge badge-primary",children:[E," filters"]})]}),e.jsx("button",{onClick:T,className:"text-sm text-gray-500 hover:text-red-500",children:"Reset all"})]}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[y("source","Data Source",e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Pipeline Run"}),e.jsxs("select",{value:a.runName||"",onChange:s=>n(t=>({...t,runName:s.target.value||void 0})),className:"form-select w-full",children:[e.jsx("option",{value:"",children:"All Runs"}),o.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]})),y("cone","Cone Search",e.jsxs(e.Fragment,{children:[e.jsx(ue,{onResolved:C}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"RA (deg or HMS)"}),e.jsx("input",{type:"text",value:R,onChange:s=>{const t=s.target.value;_(t);const x=ge(t);n($=>({...$,ra:x??void 0}))},onBlur:()=>{a.ra!=null&&_(a.ra.toFixed(6))},placeholder:"180.0 or 12:00:00",className:`form-control ${g.ra?"border-red-500":""}`}),g.ra&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.ra})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Dec (deg or DMS)"}),e.jsx("input",{type:"text",value:M,onChange:s=>{const t=s.target.value;v(t);const x=pe(t);n($=>({...$,dec:x??void 0}))},onBlur:()=>{a.dec!=null&&v(a.dec.toFixed(6))},placeholder:"+45.0 or +45:00:00",className:`form-control ${g.dec?"border-red-500":""}`}),g.dec&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.dec})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Radius"}),e.jsx("input",{type:"number",value:a.radius??"",onChange:s=>n(t=>({...t,radius:s.target.value?parseFloat(s.target.value):void 0})),placeholder:"2",min:0,step:.1,className:`form-control ${g.radius?"border-red-500":""}`}),g.radius&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.radius})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Unit"}),e.jsxs("select",{value:a.radiusUnit,onChange:s=>n(t=>({...t,radiusUnit:s.target.value})),className:"form-select",children:[e.jsx("option",{value:"arcsec",children:"arcsec"}),e.jsx("option",{value:"arcmin",children:"arcmin"}),e.jsx("option",{value:"deg",children:"deg"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Frame"}),e.jsxs("select",{value:a.coordFrame,onChange:s=>n(t=>({...t,coordFrame:s.target.value})),className:"form-select",children:[e.jsx("option",{value:"icrs",children:"ICRS"}),e.jsx("option",{value:"galactic",children:"Galactic"})]})]})]})]})),y("flux","Flux Filters",e.jsx(me,{values:{minFlux:a.minFlux,maxFlux:a.maxFlux,avgFlux:a.avgFlux},onChange:s=>n(t=>({...t,...s}))})),y("variability","Variability Metrics",e.jsx(xe,{values:{eta:a.eta,v:a.v,vs:a.vs,m:a.m},onChange:s=>n(t=>({...t,...s}))})),y("snr","SNR & Data Counts",e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Min SNR"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:((D=a.snrMin)==null?void 0:D.min)??"",onChange:s=>n(t=>({...t,snrMin:{...t.snrMin,min:s.target.value?Number(s.target.value):void 0}})),placeholder:"Min",className:"form-control"}),e.jsx("input",{type:"number",value:((z=a.snrMin)==null?void 0:z.max)??"",onChange:s=>n(t=>({...t,snrMin:{...t.snrMin,max:s.target.value?Number(s.target.value):void 0}})),placeholder:"Max",className:"form-control"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Max SNR"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:((P=a.snrMax)==null?void 0:P.min)??"",onChange:s=>n(t=>({...t,snrMax:{...t.snrMax,min:s.target.value?Number(s.target.value):void 0}})),placeholder:"Min",className:"form-control"}),e.jsx("input",{type:"number",value:((U=a.snrMax)==null?void 0:U.max)??"",onChange:s=>n(t=>({...t,snrMax:{...t.snrMax,max:s.target.value?Number(s.target.value):void 0}})),placeholder:"Max",className:"form-control"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Datapoints"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:((I=a.datapoints)==null?void 0:I.min)??"",onChange:s=>n(t=>({...t,datapoints:{...t.datapoints,min:s.target.value?Number(s.target.value):void 0}})),placeholder:"Min",min:1,className:"form-control"}),e.jsx("input",{type:"number",value:((B=a.datapoints)==null?void 0:B.max)??"",onChange:s=>n(t=>({...t,datapoints:{...t.datapoints,max:s.target.value?Number(s.target.value):void 0}})),placeholder:"Max",min:1,className:"form-control"})]})]})]})),y("flags","Source Type",e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.newSource||!1,onChange:s=>n(t=>({...t,newSource:s.target.checked})),className:"w-4 h-4 text-vast-green rounded"}),e.jsx("span",{children:"New source"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"(appeared after first observation)"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.noSiblings||!1,onChange:s=>n(t=>({...t,noSiblings:s.target.checked})),className:"w-4 h-4 text-vast-green rounded"}),e.jsx("span",{children:"No siblings"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"(no multi-component islands)"})]})]})),y("tags","Tags",e.jsx(he,{availableTags:k,includeTags:a.includeTags,excludeTags:a.excludeTags,onIncludeChange:s=>n(t=>({...t,includeTags:s})),onExcludeChange:s=>n(t=>({...t,excludeTags:s}))}))]}),r&&e.jsx("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200",children:e.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:Object.entries(g).map(([s,t])=>e.jsx("li",{children:t},s))})}),e.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-2",children:[e.jsx("button",{onClick:T,className:"btn btn-secondary",children:"Reset"}),e.jsx("button",{onClick:A,className:`btn btn-primary ${r?"opacity-75":""}`,disabled:r,children:"Search"})]})]})},ve=({etaThreshold:o,vThreshold:k,etaSigma:h,vSigma:u,useSigmaThreshold:m,minDataPoints:c,colorBy:a,onChange:n})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:i=>n({useSigmaThreshold:i.target.checked}),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm",children:"Use σ-based thresholds"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calculate thresholds dynamically based on standard deviation"})]}),m&&e.jsxs("div",{className:"space-y-3 pl-2 border-l-2 border-primary",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxs("span",{children:["η threshold: ",h,"σ"]}),e.jsx("span",{className:"text-gray-500 text-xs",children:"above mean"})]}),e.jsx("input",{type:"range",min:1,max:5,step:.5,value:h,onChange:i=>n({etaSigma:parseFloat(i.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxs("span",{children:["V threshold: ",u,"σ"]}),e.jsx("span",{className:"text-gray-500 text-xs",children:"above mean"})]}),e.jsx("input",{type:"range",min:1,max:5,step:.5,value:u,onChange:i=>n({vSigma:parseFloat(i.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),!m&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"η threshold"}),e.jsx("input",{type:"number",value:o,onChange:i=>n({etaThreshold:parseFloat(i.target.value)||0}),step:.1,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"V threshold"}),e.jsx("input",{type:"number",value:k,onChange:i=>n({vThreshold:parseFloat(i.target.value)||0}),step:.01,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Min data points: ",c]}),e.jsx("input",{type:"range",min:2,max:20,value:c,onChange:i=>n({minDataPoints:parseInt(i.target.value,10)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"2"}),e.jsx("span",{children:"20"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Color by"}),e.jsxs("select",{value:a,onChange:i=>n({colorBy:i.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[e.jsx("option",{value:"variability",children:"Variability (η × V)"}),e.jsx("option",{value:"flux",children:"Peak Flux"}),e.jsx("option",{value:"measurements",children:"N Measurements"}),e.jsx("option",{value:"none",children:"No color gradient"})]})]})]}),ne=({sourceId:o,name:k,ra:h,dec:u,eta:m,v:c,peakFlux:a,nMeasurements:n,position:i,isHover:f=!0,onNavigate:g,onClose:S})=>{const R=(M,v)=>{if(v){const p=M/15,N=Math.floor(p),b=Math.floor((p-N)*60),l=((p-N-b/60)*3600).toFixed(2);return`${N}h ${b}m ${l}s`}else{const p=M>=0?"+":"",N=Math.floor(Math.abs(M)),b=Math.floor((Math.abs(M)-N)*60),l=((Math.abs(M)-N-b/60)*3600).toFixed(1);return`${p}${N}° ${b}' ${l}"`}},_=i?{position:"absolute",left:i.x+10,top:i.y+10,zIndex:1e3}:{};return e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-lg p-3 ${f?"min-w-48":"min-w-64"}`,style:_,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-800 truncate",children:k||o}),!f&&S&&e.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 text-lg leading-none",children:"×"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[e.jsxs("div",{children:["RA: ",R(h,!0)]}),e.jsxs("div",{children:["Dec: ",R(u,!1)]})]}),e.jsxs("div",{className:"flex gap-4 mb-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-primary",children:m.toFixed(2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"η"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-primary",children:c.toFixed(3)}),e.jsx("div",{className:"text-xs text-gray-500",children:"V"})]}),a!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.toFixed(2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"mJy"})]}),n!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700",children:n}),e.jsx("div",{className:"text-xs text-gray-500",children:"pts"})]})]}),!f&&g&&e.jsx("button",{onClick:()=>g(o),className:"w-full text-sm bg-primary text-white py-1.5 rounded hover:bg-primary-dark transition-colors",children:"View Source Details"})]})},be=({sources:o,isLoading:k=!1,onSourceSelect:h,height:u=500,className:m=""})=>{const c=d.useRef(null),a=d.useRef(null),[n,i]=d.useState({etaThreshold:1.5,vThreshold:.1,etaSigma:2,vSigma:2,useSigmaThreshold:!0,minDataPoints:3,colorBy:"variability"}),[f,g]=d.useState(null),[S,R]=d.useState({x:0,y:0}),[_,M]=d.useState(null);d.useEffect(()=>{const r=y=>{y.key==="Escape"&&_&&M(null)};if(_)return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[_]);const v=d.useCallback(()=>{if(!n.useSigmaThreshold||o.length===0)return{etaLine:n.etaThreshold,vLine:n.vThreshold};const r=o.map(I=>I.eta),y=o.map(I=>I.v),F=I=>I.reduce((B,s)=>B+s,0)/I.length,L=I=>{const B=F(I);return Math.sqrt(I.reduce((s,t)=>s+(t-B)**2,0)/I.length)},D=F(r),z=L(r),P=F(y),U=L(y);return{etaLine:D+n.etaSigma*z,vLine:P+n.vSigma*U}},[o,n]),p=d.useMemo(()=>o.filter(r=>(r.nMeasurements??10)>=n.minDataPoints&&r.eta>0&&r.v>0),[o,n.minDataPoints]),N=o.length-p.length,{etaLine:b,vLine:l}=v(),j=d.useMemo(()=>p.filter(r=>r.eta>b&&r.v>l),[p,b,l]),C=d.useMemo(()=>p.length===0?{variability:1,flux:1,measurements:1}:{variability:Math.max(...p.map(r=>r.eta*r.v),1),flux:Math.max(...p.map(r=>r.peakFlux??0),1),measurements:Math.max(...p.map(r=>r.nMeasurements??0),1)},[p]),T=d.useCallback((r,y)=>{if(y)return"#ff0000";if(n.colorBy==="none")return"rgba(79, 195, 161, 0.6)";let F=0,L=1;switch(n.colorBy){case"variability":F=r.eta*r.v,L=C.variability;break;case"flux":F=r.peakFlux??0,L=C.flux;break;case"measurements":F=r.nMeasurements??0,L=C.measurements;break}const D=Math.min(F/L,1),z=Math.round(79+D*161),P=Math.round(195+D*3),U=Math.round(161-D*45);return`rgba(${z}, ${P}, ${U}, 0.7)`},[n.colorBy,C]);d.useEffect(()=>{if(!c.current)return;a.current=de(c.current);const r=()=>{var y;(y=a.current)==null||y.resize()};return window.addEventListener("resize",r),()=>{var y;window.removeEventListener("resize",r),(y=a.current)==null||y.dispose()}},[]),d.useEffect(()=>{if(!a.current||k)return;const r=new Set(j.map(x=>x.id)),y=p.map(x=>({value:[x.eta,x.v],itemStyle:{color:T(x,r.has(x.id))},symbolSize:r.has(x.id)?10:6,source:x})),F=p.map(x=>x.eta),L=p.map(x=>x.v),D=Math.min(...F)*.5,z=Math.max(...F)*2,P=Math.min(...L)*.5,U=Math.max(...L)*2,I=N>0?` (${N} excluded: η≤0 or v≤0)`:"",s={title:{text:"η-V Variability Plot",subtext:`${p.length} sources, ${j.length} candidates${I}`,left:"center",textStyle:{color:"#324960",fontSize:16},subtextStyle:{color:"#666"}},tooltip:{trigger:"item",formatter:()=>"",show:!1},xAxis:{name:"η (eta)",nameLocation:"middle",nameGap:30,type:"log",axisLabel:{formatter:"{value}"}},yAxis:{name:"V",nameLocation:"middle",nameGap:40,type:"log"},series:[{type:"scatter",data:y,emphasis:{itemStyle:{borderColor:"#324960",borderWidth:2}}},{type:"line",markLine:{silent:!0,symbol:"none",lineStyle:{color:"#ff6b6b",type:"dashed",width:2},data:[[{xAxis:b,yAxis:P},{xAxis:b,yAxis:U}]],label:{formatter:`η = ${b.toFixed(2)}`,position:"end"}}},{type:"line",markLine:{silent:!0,symbol:"none",lineStyle:{color:"#ff6b6b",type:"dashed",width:2},data:[[{xAxis:D,yAxis:l},{xAxis:z,yAxis:l}]],label:{formatter:`V = ${l.toFixed(3)}`,position:"end"}}}],toolbox:{right:20,feature:{dataZoom:{title:{zoom:"Zoom",back:"Reset"}},restore:{title:"Reset"},saveAsImage:{title:"Save"}}},dataZoom:[{type:"inside",xAxisIndex:0},{type:"inside",yAxisIndex:0}]};a.current.setOption(s,{notMerge:!1});const t=a.current;t.off("mouseover"),t.off("mouseout"),t.off("click"),t.on("mouseover",x=>{var $,V;if(x.componentType==="series"&&(($=x.data)!=null&&$.source)){const w=(V=x.event)==null?void 0:V.event;g(x.data.source),w&&R({x:w.clientX,y:w.clientY})}}),t.on("mouseout",()=>{g(null)}),t.on("click",x=>{var $;x.componentType==="series"&&(($=x.data)!=null&&$.source)&&(M(x.data.source),g(null))})},[p,N,j,n,k,b,l,T]);const A=r=>{i(y=>({...y,...r}))},E=r=>{h==null||h(r),M(null)};return e.jsxs("div",{className:`${m}`,children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[k?e.jsx("div",{className:"flex items-center justify-center bg-gray-50 rounded-lg",style:{height:u},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("span",{className:"text-gray-500",children:"Loading sources..."})]})}):e.jsx("div",{ref:c,style:{height:u,width:"100%"}}),f&&e.jsx(ne,{...f,sourceId:f.id,position:S,isHover:!0})]}),e.jsxs("div",{className:"w-64 flex-shrink-0",children:[e.jsx(ve,{...n,onChange:A}),j.length>0&&e.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsxs("h4",{className:"font-semibold text-red-700 text-sm mb-2",children:["Candidates (",j.length,")"]}),e.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-1",children:[j.slice(0,10).map(r=>e.jsxs("button",{onClick:()=>M(r),className:"w-full text-left text-xs p-1.5 bg-white rounded hover:bg-red-100 transition-colors",children:[e.jsx("span",{className:"font-medium",children:r.name||r.id}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["η=",r.eta.toFixed(2),", V=",r.v.toFixed(3)]})]},r.id)),j.length>10&&e.jsxs("p",{className:"text-xs text-red-500",children:["+",j.length-10," more"]})]})]})]})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:e.jsx(ne,{..._,sourceId:_.id,isHover:!1,onNavigate:E,onClose:()=>M(null)})})]})},Se=()=>{const{data:o,isLoading:k,error:h}=ie(),[u,m]=d.useState("list"),[c,a]=d.useState({}),n=Q(l=>l.selectedSources),i=Q(l=>l.toggleSourceSelection),f=Q(l=>l.selectAllSources),g=Q(l=>l.clearSourceSelection),S=d.useMemo(()=>Array.from(n),[n]),R=d.useCallback(()=>{if(S.length===0)return;window.open(`https://ronnie-unsectarian-antone.ngrok-free.dev/api/sources/export?ids=${S.join(",")}`,"_blank")},[S]),_=d.useMemo(()=>{if(!o)return[];let l=o;if(c.ra!==void 0&&c.dec!==void 0&&c.radius){const{ra:j,dec:C,radius:T}=c;l=l.filter(A=>{if(A.ra_deg===void 0||A.dec_deg===void 0)return!1;const E=(A.ra_deg-j)*Math.cos(C*Math.PI/180),r=A.dec_deg-C;return Math.sqrt(E*E+r*r)*60<=T})}return c.minFlux!==void 0&&(l=l.filter(j=>(j.peak_flux_jy??0)>=(c.minFlux??0))),c.maxFlux!==void 0&&(l=l.filter(j=>(j.peak_flux_jy??1/0)<=(c.maxFlux??1/0))),l},[o,c]),{sortColumn:M,sortDirection:v,handleSort:p,sortedData:N}=ce(_),b=d.useMemo(()=>o?o.filter(l=>l.eta!==void 0&&l.v!==void 0&&l.ra_deg!==void 0&&l.dec_deg!==void 0).map(l=>({id:l.id,name:l.name||l.id,ra:l.ra_deg,dec:l.dec_deg,eta:l.eta,v:l.v,peakFlux:l.peak_flux_jy,nMeasurements:l.num_images})):[],[o]);return k?e.jsx(oe,{label:"Loading sources..."}):h?e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Failed to load sources: ",h.message]}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sources"}),S.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[S.length," selected"]})]}),e.jsxs("div",{className:"flex gap-2",children:[S.length>0&&e.jsx("button",{onClick:R,className:"px-4 py-2 rounded-lg text-sm font-medium bg-green-600 text-white hover:bg-green-700 transition-colors",children:"Export Selected"}),e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>m("list"),children:"List View"}),e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u==="variability"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>m("variability"),children:"Variability Plot"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(fe,{onQueryChange:a})}),u==="variability"?e.jsx("div",{className:"card p-4",children:b.length>0?e.jsx(be,{sources:b,onSourceSelect:l=>window.location.href=`/sources/${l}`,height:500}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No variability data available. Sources need η and V values to display the variability plot."})}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Showing ",_.length," of ",(o==null?void 0:o.length)??0," sources"]}),N&&N.length>0?e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3",children:e.jsx("input",{type:"checkbox",checked:S.length===N.length&&N.length>0,ref:l=>{l&&(l.indeterminate=S.length>0&&S.length<N.length)},onChange:()=>{S.length===N.length?g():f(N.map(l=>l.id))},className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx(W,{columnKey:"id",sortColumn:M,sortDirection:v,onSort:p,children:"ID"}),e.jsx(W,{columnKey:"name",sortColumn:M,sortDirection:v,onSort:p,children:"Name"}),e.jsx(W,{columnKey:"ra_deg",sortColumn:M,sortDirection:v,onSort:p,className:"text-right",children:"RA (deg)"}),e.jsx(W,{columnKey:"dec_deg",sortColumn:M,sortDirection:v,onSort:p,className:"text-right",children:"Dec (deg)"}),e.jsx(W,{columnKey:"num_images",sortColumn:M,sortDirection:v,onSort:p,className:"text-center",children:"Images"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map(l=>{var j,C;return e.jsxs("tr",{className:n.has(l.id)?"bg-blue-50":"",children:[e.jsx("td",{className:"px-3",children:e.jsx("input",{type:"checkbox",checked:n.has(l.id),onChange:()=>i(l.id),className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx("td",{children:e.jsx(re,{to:`/sources/${l.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:l.id})}),e.jsx("td",{children:l.name||"—"}),e.jsx("td",{className:"text-right font-mono",children:(j=l.ra_deg)==null?void 0:j.toFixed(4)}),e.jsx("td",{className:"text-right font-mono",children:(C=l.dec_deg)==null?void 0:C.toFixed(4)}),e.jsx("td",{className:"text-center",children:l.num_images??"—"})]},l.id)})})]})}):e.jsx("p",{className:"text-gray-500",children:"No sources found."})]})]})};export{Se as default};
//# sourceMappingURL=SourcesListPage-Dk0udIUL.js.map
