class $t{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],u=n+o,a=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);a&&(e[i++]=a),n=u}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,u=0;if(e>0){for(u=n[--e];e>0&&(i=u,r=n[--e],u=i+r,o=r-(u-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=u+r,r==i-u&&(u=i))}return u}}function*Ar(t){for(const n of t)yield*n}function bi(t){return Array.from(Ar(t))}function Pt(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(r);++i<r;)o[i]=t+i*e;return o}var br={value:()=>{}};function $e(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new _n(e)}function _n(t){this._=t}function Rr(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}_n.prototype=$e.prototype={constructor:_n,on:function(t,n){var e=this._,i=Rr(t+"",e),r,o=-1,u=i.length;if(arguments.length<2){for(;++o<u;)if((r=(t=i[o]).type)&&(r=Tr(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=i[o]).type)e[r]=Xe(e[r],t.name,n);else if(n==null)for(r in e)e[r]=Xe(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _n(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Tr(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function Xe(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=br,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var Wn="http://www.w3.org/1999/xhtml";const Fe={svg:"http://www.w3.org/2000/svg",xhtml:Wn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ln(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Fe.hasOwnProperty(n)?{space:Fe[n],local:t}:t}function zr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Wn&&n.documentElement.namespaceURI===Wn?n.createElement(t):n.createElementNS(e,t)}}function Pr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ri(t){var n=Ln(t);return(n.local?Pr:zr)(n)}function Cr(){}function Ne(t){return t==null?Cr:function(){return this.querySelector(t)}}function kr(t){typeof t!="function"&&(t=Ne(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=new Array(u),l,f,s=0;s<u;++s)(l=o[s])&&(f=t.call(l,l.__data__,s,o))&&("__data__"in l&&(f.__data__=l.__data__),a[s]=f);return new Q(i,this._parents)}function Ir(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Dr(){return[]}function Ti(t){return t==null?Dr:function(){return this.querySelectorAll(t)}}function Lr(t){return function(){return Ir(t.apply(this,arguments))}}function qr(t){typeof t=="function"?t=Lr(t):t=Ti(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var u=n[o],a=u.length,l,f=0;f<a;++f)(l=u[f])&&(i.push(t.call(l,l.__data__,f,u)),r.push(l));return new Q(i,r)}function zi(t){return function(){return this.matches(t)}}function Pi(t){return function(n){return n.matches(t)}}var Xr=Array.prototype.find;function Fr(t){return function(){return Xr.call(this.children,t)}}function Yr(){return this.firstElementChild}function Hr(t){return this.select(t==null?Yr:Fr(typeof t=="function"?t:Pi(t)))}var Or=Array.prototype.filter;function Vr(){return Array.from(this.children)}function Br(t){return function(){return Or.call(this.children,t)}}function Gr(t){return this.selectAll(t==null?Vr:Br(typeof t=="function"?t:Pi(t)))}function Ur(t){typeof t!="function"&&(t=zi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],l,f=0;f<u;++f)(l=o[f])&&t.call(l,l.__data__,f,o)&&a.push(l);return new Q(i,this._parents)}function Ci(t){return new Array(t.length)}function Zr(){return new Q(this._enter||this._groups.map(Ci),this._parents)}function Sn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Sn.prototype={constructor:Sn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Kr(t){return function(){return t}}function Wr(t,n,e,i,r,o){for(var u=0,a,l=n.length,f=o.length;u<f;++u)(a=n[u])?(a.__data__=o[u],i[u]=a):e[u]=new Sn(t,o[u]);for(;u<l;++u)(a=n[u])&&(r[u]=a)}function Qr(t,n,e,i,r,o,u){var a,l,f=new Map,s=n.length,c=o.length,h=new Array(s),g;for(a=0;a<s;++a)(l=n[a])&&(h[a]=g=u.call(l,l.__data__,a,n)+"",f.has(g)?r[a]=l:f.set(g,l));for(a=0;a<c;++a)g=u.call(t,o[a],a,o)+"",(l=f.get(g))?(i[a]=l,l.__data__=o[a],f.delete(g)):e[a]=new Sn(t,o[a]);for(a=0;a<s;++a)(l=n[a])&&f.get(h[a])===l&&(r[a]=l)}function Jr(t){return t.__data__}function jr(t,n){if(!arguments.length)return Array.from(this,Jr);var e=n?Qr:Wr,i=this._parents,r=this._groups;typeof t!="function"&&(t=Kr(t));for(var o=r.length,u=new Array(o),a=new Array(o),l=new Array(o),f=0;f<o;++f){var s=i[f],c=r[f],h=c.length,g=to(t.call(s,s&&s.__data__,f,i)),_=g.length,x=a[f]=new Array(_),w=u[f]=new Array(_),m=l[f]=new Array(h);e(s,c,x,w,m,g,n);for(var E=0,y=0,S,$;E<_;++E)if(S=x[E]){for(E>=y&&(y=E+1);!($=w[y])&&++y<_;);S._next=$||null}}return u=new Q(u,i),u._enter=a,u._exit=l,u}function to(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function no(){return new Q(this._exit||this._groups.map(Ci),this._parents)}function eo(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function io(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,u=Math.min(r,o),a=new Array(r),l=0;l<u;++l)for(var f=e[l],s=i[l],c=f.length,h=a[l]=new Array(c),g,_=0;_<c;++_)(g=f[_]||s[_])&&(h[_]=g);for(;l<r;++l)a[l]=e[l];return new Q(a,this._parents)}function ro(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],u;--r>=0;)(u=i[r])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function oo(t){t||(t=uo);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var u=e[o],a=u.length,l=r[o]=new Array(a),f,s=0;s<a;++s)(f=u[s])&&(l[s]=f);l.sort(n)}return new Q(r,this._parents).order()}function uo(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ao(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function so(){return Array.from(this)}function lo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var u=i[r];if(u)return u}return null}function fo(){let t=0;for(const n of this)++t;return t}function co(){return!this.node()}function ho(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,u=r.length,a;o<u;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function po(t){return function(){this.removeAttribute(t)}}function go(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vo(t,n){return function(){this.setAttribute(t,n)}}function _o(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function mo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function yo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function wo(t,n){var e=Ln(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?go:po:typeof n=="function"?e.local?yo:mo:e.local?_o:vo)(e,n))}function ki(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xo(t){return function(){this.style.removeProperty(t)}}function Mo(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Eo(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function So(t,n,e){return arguments.length>1?this.each((n==null?xo:typeof n=="function"?Eo:Mo)(t,n,e??"")):Dt(this.node(),t)}function Dt(t,n){return t.style.getPropertyValue(n)||ki(t).getComputedStyle(t,null).getPropertyValue(n)}function $o(t){return function(){delete this[t]}}function No(t,n){return function(){this[t]=n}}function Ao(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function bo(t,n){return arguments.length>1?this.each((n==null?$o:typeof n=="function"?Ao:No)(t,n)):this.node()[t]}function Ii(t){return t.trim().split(/^|\s+/)}function Ae(t){return t.classList||new Di(t)}function Di(t){this._node=t,this._names=Ii(t.getAttribute("class")||"")}Di.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Li(t,n){for(var e=Ae(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function qi(t,n){for(var e=Ae(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Ro(t){return function(){Li(this,t)}}function To(t){return function(){qi(this,t)}}function zo(t,n){return function(){(n.apply(this,arguments)?Li:qi)(this,t)}}function Po(t,n){var e=Ii(t+"");if(arguments.length<2){for(var i=Ae(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?zo:n?Ro:To)(e,n))}function Co(){this.textContent=""}function ko(t){return function(){this.textContent=t}}function Io(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Do(t){return arguments.length?this.each(t==null?Co:(typeof t=="function"?Io:ko)(t)):this.node().textContent}function Lo(){this.innerHTML=""}function qo(t){return function(){this.innerHTML=t}}function Xo(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Fo(t){return arguments.length?this.each(t==null?Lo:(typeof t=="function"?Xo:qo)(t)):this.node().innerHTML}function Yo(){this.nextSibling&&this.parentNode.appendChild(this)}function Ho(){return this.each(Yo)}function Oo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vo(){return this.each(Oo)}function Bo(t){var n=typeof t=="function"?t:Ri(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Go(){return null}function Uo(t,n){var e=typeof t=="function"?t:Ri(t),i=n==null?Go:typeof n=="function"?n:Ne(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function Zo(){var t=this.parentNode;t&&t.removeChild(this)}function Ko(){return this.each(Zo)}function Wo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Qo(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Jo(t){return this.select(t?Qo:Wo)}function jo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tu(t){return function(n){t.call(this,n,this.__data__)}}function nu(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function eu(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function iu(t,n,e){return function(){var i=this.__on,r,o=tu(n);if(i){for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ru(t,n,e){var i=nu(t+""),r,o=i.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,f=a.length,s;l<f;++l)for(r=0,s=a[l];r<o;++r)if((u=i[r]).type===s.type&&u.name===s.name)return s.value}return}for(a=n?iu:eu,r=0;r<o;++r)this.each(a(i[r],n,e));return this}function Xi(t,n,e){var i=ki(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function ou(t,n){return function(){return Xi(this,t,n)}}function uu(t,n){return function(){return Xi(this,t,n.apply(this,arguments))}}function au(t,n){return this.each((typeof n=="function"?uu:ou)(t,n))}function*su(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,u;r<o;++r)(u=i[r])&&(yield u)}var Fi=[null];function Q(t,n){this._groups=t,this._parents=n}function un(){return new Q([[document.documentElement]],Fi)}function lu(){return this}Q.prototype=un.prototype={constructor:Q,select:kr,selectAll:qr,selectChild:Hr,selectChildren:Gr,filter:Ur,data:jr,enter:Zr,exit:no,join:eo,merge:io,selection:lu,order:ro,sort:oo,call:ao,nodes:so,node:lo,size:fo,empty:co,each:ho,attr:wo,style:So,property:bo,classed:Po,text:Do,html:Fo,raise:Ho,lower:Vo,append:Bo,insert:Uo,remove:Ko,clone:Jo,datum:jo,on:ru,dispatch:au,[Symbol.iterator]:su};function xt(t){return typeof t=="string"?new Q([[document.querySelector(t)]],[document.documentElement]):new Q([[t]],Fi)}function fu(t){let n;for(;n=t.sourceEvent;)t=n;return t}function yt(t,n){if(t=fu(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const Qn={capture:!0,passive:!1};function Jn(t){t.preventDefault(),t.stopImmediatePropagation()}function cu(t){var n=t.document.documentElement,e=xt(t).on("dragstart.drag",Jn,Qn);"onselectstart"in n?e.on("selectstart.drag",Jn,Qn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function hu(t,n){var e=t.document.documentElement,i=xt(t).on("dragstart.drag",null);n&&(i.on("click.drag",Jn,Qn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function qn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function be(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Ht(){}var Nt=.7,Lt=1/Nt,kt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pu=/^#([0-9a-f]{3,8})$/,gu=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),du=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),vu=new RegExp(`^rgba\\(${kt},${kt},${kt},${Jt}\\)$`),_u=new RegExp(`^rgba\\(${st},${st},${st},${Jt}\\)$`),mu=new RegExp(`^hsl\\(${Jt},${st},${st}\\)$`),yu=new RegExp(`^hsla\\(${Jt},${st},${st},${Jt}\\)$`),Ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qn(Ht,jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:He,formatHex:He,formatHex8:wu,formatHsl:xu,formatRgb:Oe,toString:Oe});function He(){return this.rgb().formatHex()}function wu(){return this.rgb().formatHex8()}function xu(){return Hi(this).formatHsl()}function Oe(){return this.rgb().formatRgb()}function jt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=pu.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Ve(n):e===3?new Z(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?an(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?an(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=gu.exec(t))?new Z(n[1],n[2],n[3],1):(n=du.exec(t))?new Z(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=vu.exec(t))?an(n[1],n[2],n[3],n[4]):(n=_u.exec(t))?an(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=mu.exec(t))?Ue(n[1],n[2]/100,n[3]/100,1):(n=yu.exec(t))?Ue(n[1],n[2]/100,n[3]/100,n[4]):Ye.hasOwnProperty(t)?Ve(Ye[t]):t==="transparent"?new Z(NaN,NaN,NaN,0):null}function Ve(t){return new Z(t>>16&255,t>>8&255,t&255,1)}function an(t,n,e,i){return i<=0&&(t=n=e=NaN),new Z(t,n,e,i)}function Yi(t){return t instanceof Ht||(t=jt(t)),t?(t=t.rgb(),new Z(t.r,t.g,t.b,t.opacity)):new Z}function jn(t,n,e,i){return arguments.length===1?Yi(t):new Z(t,n,e,i??1)}function Z(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}qn(Z,jn,be(Ht,{brighter(t){return t=t==null?Lt:Math.pow(Lt,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nt:Math.pow(Nt,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Z(Et(this.r),Et(this.g),Et(this.b),$n(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Be,formatHex:Be,formatHex8:Mu,formatRgb:Ge,toString:Ge}));function Be(){return`#${Mt(this.r)}${Mt(this.g)}${Mt(this.b)}`}function Mu(){return`#${Mt(this.r)}${Mt(this.g)}${Mt(this.b)}${Mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ge(){const t=$n(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function $n(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mt(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function Ue(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new et(t,n,e,i)}function Hi(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof Ht||(t=jt(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),u=NaN,a=o-r,l=(o+r)/2;return a?(n===o?u=(e-i)/a+(e<i)*6:e===o?u=(i-n)/a+2:u=(n-e)/a+4,a/=l<.5?o+r:2-o-r,u*=60):a=l>0&&l<1?0:u,new et(u,a,l,t.opacity)}function Eu(t,n,e,i){return arguments.length===1?Hi(t):new et(t,n,e,i??1)}function et(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}qn(et,Eu,be(Ht,{brighter(t){return t=t==null?Lt:Math.pow(Lt,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nt:Math.pow(Nt,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new Z(On(t>=240?t-240:t+120,r,i),On(t,r,i),On(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new et(Ze(this.h),sn(this.s),sn(this.l),$n(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$n(this.opacity);return`${t===1?"hsl(":"hsla("}${Ze(this.h)}, ${sn(this.s)*100}%, ${sn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ze(t){return t=(t||0)%360,t<0?t+360:t}function sn(t){return Math.max(0,Math.min(1,t||0))}function On(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Su=Math.PI/180,$u=180/Math.PI;var Oi=-.14861,Re=1.78277,Te=-.29227,Xn=-.90649,tn=1.97294,Ke=tn*Xn,We=tn*Re,Qe=Re*Te-Xn*Oi;function Nu(t){if(t instanceof St)return new St(t.h,t.s,t.l,t.opacity);t instanceof Z||(t=Yi(t));var n=t.r/255,e=t.g/255,i=t.b/255,r=(Qe*i+Ke*n-We*e)/(Qe+Ke-We),o=i-r,u=(tn*(e-r)-Te*o)/Xn,a=Math.sqrt(u*u+o*o)/(tn*r*(1-r)),l=a?Math.atan2(u,o)*$u-120:NaN;return new St(l<0?l+360:l,a,r,t.opacity)}function mt(t,n,e,i){return arguments.length===1?Nu(t):new St(t,n,e,i??1)}function St(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}qn(St,mt,be(Ht,{brighter(t){return t=t==null?Lt:Math.pow(Lt,t),new St(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nt:Math.pow(Nt,t),new St(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Su,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(t),r=Math.sin(t);return new Z(255*(n+e*(Oi*i+Re*r)),255*(n+e*(Te*i+Xn*r)),255*(n+e*(tn*i)),this.opacity)}}));const ze=t=>()=>t;function Vi(t,n){return function(e){return t+e*n}}function Au(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function bu(t,n){var e=n-t;return e?Vi(t,e>180||e<-180?e-360*Math.round(e/360):e):ze(isNaN(t)?n:t)}function Ru(t){return(t=+t)==1?It:function(n,e){return e-n?Au(n,e,t):ze(isNaN(n)?e:n)}}function It(t,n){var e=n-t;return e?Vi(t,e):ze(isNaN(t)?n:t)}const Je=(function t(n){var e=Ru(n);function i(r,o){var u=e((r=jn(r)).r,(o=jn(o)).r),a=e(r.g,o.g),l=e(r.b,o.b),f=It(r.opacity,o.opacity);return function(s){return r.r=u(s),r.g=a(s),r.b=l(s),r.opacity=f(s),r+""}}return i.gamma=t,i})(1);function _t(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vn=new RegExp(te.source,"g");function Tu(t){return function(){return t}}function zu(t){return function(n){return t(n)+""}}function Pu(t,n){var e=te.lastIndex=Vn.lastIndex=0,i,r,o,u=-1,a=[],l=[];for(t=t+"",n=n+"";(i=te.exec(t))&&(r=Vn.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),a[u]?a[u]+=o:a[++u]=o),(i=i[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,l.push({i:u,x:_t(i,r)})),e=Vn.lastIndex;return e<n.length&&(o=n.slice(e),a[u]?a[u]+=o:a[++u]=o),a.length<2?l[0]?zu(l[0].x):Tu(n):(n=l.length,function(f){for(var s=0,c;s<n;++s)a[(c=l[s]).i]=c.x(f);return a.join("")})}var je=180/Math.PI,ne={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bi(t,n,e,i,r,o){var u,a,l;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),t*i<n*e&&(t=-t,n=-n,l=-l,u=-u),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*je,skewX:Math.atan(l)*je,scaleX:u,scaleY:a}}var ln;function Cu(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ne:Bi(n.a,n.b,n.c,n.d,n.e,n.f)}function ku(t){return t==null||(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),!(t=ln.transform.baseVal.consolidate()))?ne:(t=t.matrix,Bi(t.a,t.b,t.c,t.d,t.e,t.f))}function Gi(t,n,e,i){function r(f){return f.length?f.pop()+" ":""}function o(f,s,c,h,g,_){if(f!==c||s!==h){var x=g.push("translate(",null,n,null,e);_.push({i:x-4,x:_t(f,c)},{i:x-2,x:_t(s,h)})}else(c||h)&&g.push("translate("+c+n+h+e)}function u(f,s,c,h){f!==s?(f-s>180?s+=360:s-f>180&&(f+=360),h.push({i:c.push(r(c)+"rotate(",null,i)-2,x:_t(f,s)})):s&&c.push(r(c)+"rotate("+s+i)}function a(f,s,c,h){f!==s?h.push({i:c.push(r(c)+"skewX(",null,i)-2,x:_t(f,s)}):s&&c.push(r(c)+"skewX("+s+i)}function l(f,s,c,h,g,_){if(f!==c||s!==h){var x=g.push(r(g)+"scale(",null,",",null,")");_.push({i:x-4,x:_t(f,c)},{i:x-2,x:_t(s,h)})}else(c!==1||h!==1)&&g.push(r(g)+"scale("+c+","+h+")")}return function(f,s){var c=[],h=[];return f=t(f),s=t(s),o(f.translateX,f.translateY,s.translateX,s.translateY,c,h),u(f.rotate,s.rotate,c,h),a(f.skewX,s.skewX,c,h),l(f.scaleX,f.scaleY,s.scaleX,s.scaleY,c,h),f=s=null,function(g){for(var _=-1,x=h.length,w;++_<x;)c[(w=h[_]).i]=w.x(g);return c.join("")}}}var Iu=Gi(Cu,"px, ","px)","deg)"),Du=Gi(ku,", ",")",")"),Lu=1e-12;function ti(t){return((t=Math.exp(t))+1/t)/2}function qu(t){return((t=Math.exp(t))-1/t)/2}function Xu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Fu=(function t(n,e,i){function r(o,u){var a=o[0],l=o[1],f=o[2],s=u[0],c=u[1],h=u[2],g=s-a,_=c-l,x=g*g+_*_,w,m;if(x<Lu)m=Math.log(h/f)/n,w=function(z){return[a+z*g,l+z*_,f*Math.exp(n*z*m)]};else{var E=Math.sqrt(x),y=(h*h-f*f+i*x)/(2*f*e*E),S=(h*h-f*f-i*x)/(2*h*e*E),$=Math.log(Math.sqrt(y*y+1)-y),A=Math.log(Math.sqrt(S*S+1)-S);m=(A-$)/n,w=function(z){var P=z*m,C=ti($),L=f/(e*E)*(C*Xu(n*P+$)-qu($));return[a+L*g,l+L*_,f*C/ti(n*P+$)]}}return w.duration=m*1e3*n/Math.SQRT2,w}return r.rho=function(o){var u=Math.max(.001,+o),a=u*u,l=a*a;return t(u,a,l)},r})(Math.SQRT2,2,4);function Ui(t){return(function n(e){e=+e;function i(r,o){var u=t((r=mt(r)).h,(o=mt(o)).h),a=It(r.s,o.s),l=It(r.l,o.l),f=It(r.opacity,o.opacity);return function(s){return r.h=u(s),r.s=a(s),r.l=l(Math.pow(s,e)),r.opacity=f(s),r+""}}return i.gamma=n,i})(1)}Ui(bu);var Zi=Ui(It),qt=0,Bt=0,Ot=0,Ki=1e3,Nn,Gt,An=0,At=0,Fn=0,nn=typeof performance=="object"&&performance.now?performance:Date,Wi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pe(){return At||(Wi(Yu),At=nn.now()+Fn)}function Yu(){At=0}function bn(){this._call=this._time=this._next=null}bn.prototype=Qi.prototype={constructor:bn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Pe():+e)+(n==null?0:+n),!this._next&&Gt!==this&&(Gt?Gt._next=this:Nn=this,Gt=this),this._call=t,this._time=e,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};function Qi(t,n,e){var i=new bn;return i.restart(t,n,e),i}function Hu(){Pe(),++qt;for(var t=Nn,n;t;)(n=At-t._time)>=0&&t._call.call(void 0,n),t=t._next;--qt}function ni(){At=(An=nn.now())+Fn,qt=Bt=0;try{Hu()}finally{qt=0,Vu(),At=0}}function Ou(){var t=nn.now(),n=t-An;n>Ki&&(Fn-=n,An=t)}function Vu(){for(var t,n=Nn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Nn=e);Gt=t,ee(i)}function ee(t){if(!qt){Bt&&(Bt=clearTimeout(Bt));var n=t-At;n>24?(t<1/0&&(Bt=setTimeout(ni,t-nn.now()-Fn)),Ot&&(Ot=clearInterval(Ot))):(Ot||(An=nn.now(),Ot=setInterval(Ou,Ki)),qt=1,Wi(ni))}}function ei(t,n,e){var i=new bn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var Bu=$e("start","end","cancel","interrupt"),Gu=[],Ji=0,ii=1,ie=2,mn=3,ri=4,re=5,yn=6;function Yn(t,n,e,i,r,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;Uu(t,e,{name:n,index:i,group:r,on:Bu,tween:Gu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ji})}function Ce(t,n){var e=ot(t,n);if(e.state>Ji)throw new Error("too late; already scheduled");return e}function lt(t,n){var e=ot(t,n);if(e.state>mn)throw new Error("too late; already running");return e}function ot(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Uu(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=Qi(o,0,e.time);function o(f){e.state=ii,e.timer.restart(u,e.delay,e.time),e.delay<=f&&u(f-e.delay)}function u(f){var s,c,h,g;if(e.state!==ii)return l();for(s in i)if(g=i[s],g.name===e.name){if(g.state===mn)return ei(u);g.state===ri?(g.state=yn,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[s]):+s<n&&(g.state=yn,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[s])}if(ei(function(){e.state===mn&&(e.state=ri,e.timer.restart(a,e.delay,e.time),a(f))}),e.state=ie,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ie){for(e.state=mn,r=new Array(h=e.tween.length),s=0,c=-1;s<h;++s)(g=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=g);r.length=c+1}}function a(f){for(var s=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(l),e.state=re,1),c=-1,h=r.length;++c<h;)r[c].call(t,s);e.state===re&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=yn,e.timer.stop(),delete i[n];for(var f in i)return;delete t.__transition}}function wn(t,n){var e=t.__transition,i,r,o=!0,u;if(e){n=n==null?null:n+"";for(u in e){if((i=e[u]).name!==n){o=!1;continue}r=i.state>ie&&i.state<re,i.state=yn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[u]}o&&delete t.__transition}}function Zu(t){return this.each(function(){wn(this,t)})}function Ku(t,n){var e,i;return function(){var r=lt(this,t),o=r.tween;if(o!==e){i=e=o;for(var u=0,a=i.length;u<a;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}r.tween=i}}function Wu(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=lt(this,t),u=o.tween;if(u!==i){r=(i=u).slice();for(var a={name:n,value:e},l=0,f=r.length;l<f;++l)if(r[l].name===n){r[l]=a;break}l===f&&r.push(a)}o.tween=r}}function Qu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=ot(this.node(),e).tween,r=0,o=i.length,u;r<o;++r)if((u=i[r]).name===t)return u.value;return null}return this.each((n==null?Ku:Wu)(e,t,n))}function ke(t,n,e){var i=t._id;return t.each(function(){var r=lt(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return ot(r,i).value[n]}}function ji(t,n){var e;return(typeof n=="number"?_t:n instanceof jt?Je:(e=jt(n))?(n=e,Je):Pu)(t,n)}function Ju(t){return function(){this.removeAttribute(t)}}function ju(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ta(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttribute(t);return u===r?null:u===i?o:o=n(i=u,e)}}function na(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===r?null:u===i?o:o=n(i=u,e)}}function ea(t,n,e){var i,r,o;return function(){var u,a=e(this),l;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=a+"",u===l?null:u===i&&l===r?o:(r=l,o=n(i=u,a)))}}function ia(t,n,e){var i,r,o;return function(){var u,a=e(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=a+"",u===l?null:u===i&&l===r?o:(r=l,o=n(i=u,a)))}}function ra(t,n){var e=Ln(t),i=e==="transform"?Du:ji;return this.attrTween(t,typeof n=="function"?(e.local?ia:ea)(e,i,ke(this,"attr."+t,n)):n==null?(e.local?ju:Ju)(e):(e.local?na:ta)(e,i,n))}function oa(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ua(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function aa(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&ua(t,o)),e}return r._value=n,r}function sa(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&oa(t,o)),e}return r._value=n,r}function la(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=Ln(t);return this.tween(e,(i.local?aa:sa)(i,n))}function fa(t,n){return function(){Ce(this,t).delay=+n.apply(this,arguments)}}function ca(t,n){return n=+n,function(){Ce(this,t).delay=n}}function ha(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?fa:ca)(n,t)):ot(this.node(),n).delay}function pa(t,n){return function(){lt(this,t).duration=+n.apply(this,arguments)}}function ga(t,n){return n=+n,function(){lt(this,t).duration=n}}function da(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?pa:ga)(n,t)):ot(this.node(),n).duration}function va(t,n){if(typeof n!="function")throw new Error;return function(){lt(this,t).ease=n}}function _a(t){var n=this._id;return arguments.length?this.each(va(n,t)):ot(this.node(),n).ease}function ma(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;lt(this,t).ease=e}}function ya(t){if(typeof t!="function")throw new Error;return this.each(ma(this._id,t))}function wa(t){typeof t!="function"&&(t=zi(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],l,f=0;f<u;++f)(l=o[f])&&t.call(l,l.__data__,f,o)&&a.push(l);return new dt(i,this._parents,this._name,this._id)}function xa(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),u=new Array(i),a=0;a<o;++a)for(var l=n[a],f=e[a],s=l.length,c=u[a]=new Array(s),h,g=0;g<s;++g)(h=l[g]||f[g])&&(c[g]=h);for(;a<i;++a)u[a]=n[a];return new dt(u,this._parents,this._name,this._id)}function Ma(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Ea(t,n,e){var i,r,o=Ma(n)?Ce:lt;return function(){var u=o(this,t),a=u.on;a!==i&&(r=(i=a).copy()).on(n,e),u.on=r}}function Sa(t,n){var e=this._id;return arguments.length<2?ot(this.node(),e).on.on(t):this.each(Ea(e,t,n))}function $a(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Na(){return this.on("end.remove",$a(this._id))}function Aa(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ne(t));for(var i=this._groups,r=i.length,o=new Array(r),u=0;u<r;++u)for(var a=i[u],l=a.length,f=o[u]=new Array(l),s,c,h=0;h<l;++h)(s=a[h])&&(c=t.call(s,s.__data__,h,a))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,Yn(f[h],n,e,h,f,ot(s,e)));return new dt(o,this._parents,n,e)}function ba(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ti(t));for(var i=this._groups,r=i.length,o=[],u=[],a=0;a<r;++a)for(var l=i[a],f=l.length,s,c=0;c<f;++c)if(s=l[c]){for(var h=t.call(s,s.__data__,c,l),g,_=ot(s,e),x=0,w=h.length;x<w;++x)(g=h[x])&&Yn(g,n,e,x,h,_);o.push(h),u.push(s)}return new dt(o,u,n,e)}var Ra=un.prototype.constructor;function Ta(){return new Ra(this._groups,this._parents)}function za(t,n){var e,i,r;return function(){var o=Dt(this,t),u=(this.style.removeProperty(t),Dt(this,t));return o===u?null:o===e&&u===i?r:r=n(e=o,i=u)}}function tr(t){return function(){this.style.removeProperty(t)}}function Pa(t,n,e){var i,r=e+"",o;return function(){var u=Dt(this,t);return u===r?null:u===i?o:o=n(i=u,e)}}function Ca(t,n,e){var i,r,o;return function(){var u=Dt(this,t),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Dt(this,t))),u===l?null:u===i&&l===r?o:(r=l,o=n(i=u,a))}}function ka(t,n){var e,i,r,o="style."+n,u="end."+o,a;return function(){var l=lt(this,t),f=l.on,s=l.value[o]==null?a||(a=tr(n)):void 0;(f!==e||r!==s)&&(i=(e=f).copy()).on(u,r=s),l.on=i}}function Ia(t,n,e){var i=(t+="")=="transform"?Iu:ji;return n==null?this.styleTween(t,za(t,i)).on("end.style."+t,tr(t)):typeof n=="function"?this.styleTween(t,Ca(t,i,ke(this,"style."+t,n))).each(ka(this._id,t)):this.styleTween(t,Pa(t,i,n),e).on("end.style."+t,null)}function Da(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function La(t,n,e){var i,r;function o(){var u=n.apply(this,arguments);return u!==r&&(i=(r=u)&&Da(t,u,e)),i}return o._value=n,o}function qa(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,La(t,n,e??""))}function Xa(t){return function(){this.textContent=t}}function Fa(t){return function(){var n=t(this);this.textContent=n??""}}function Ya(t){return this.tween("text",typeof t=="function"?Fa(ke(this,"text",t)):Xa(t==null?"":t+""))}function Ha(t){return function(n){this.textContent=t.call(this,n)}}function Oa(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ha(r)),n}return i._value=t,i}function Va(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Oa(t))}function Ba(){for(var t=this._name,n=this._id,e=nr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,l,f=0;f<a;++f)if(l=u[f]){var s=ot(l,n);Yn(l,t,e,f,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new dt(i,this._parents,t,e)}function Ga(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,u){var a={value:u},l={value:function(){--r===0&&o()}};e.each(function(){var f=lt(this,i),s=f.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(l)),f.on=n}),r===0&&o()})}var Ua=0;function dt(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function nr(){return++Ua}var ht=un.prototype;dt.prototype={constructor:dt,select:Aa,selectAll:ba,selectChild:ht.selectChild,selectChildren:ht.selectChildren,filter:wa,merge:xa,selection:Ta,transition:Ba,call:ht.call,nodes:ht.nodes,node:ht.node,size:ht.size,empty:ht.empty,each:ht.each,on:Sa,attr:ra,attrTween:la,style:Ia,styleTween:qa,text:Ya,textTween:Va,remove:Na,tween:Qu,delay:ha,duration:da,ease:_a,easeVarying:ya,end:Ga,[Symbol.iterator]:ht[Symbol.iterator]};function Za(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ka={time:null,delay:0,duration:250,ease:Za};function Wa(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Qa(t){var n,e;t instanceof dt?(n=t._id,t=t._name):(n=nr(),(e=Ka).time=Pe(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,l,f=0;f<a;++f)(l=u[f])&&Yn(l,t,n,f,u,e||Wa(l,n));return new dt(i,this._parents,t,n)}un.prototype.interrupt=Zu;un.prototype.transition=Qa;const oe=Math.PI,ue=2*oe,wt=1e-6,Ja=ue-wt;function er(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ja(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return er;const e=10**n;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}class ts{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?er:ja(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,r){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,e,i,r,o,u){this._append`C${+n},${+e},${+i},${+r},${this._x1=+o},${this._y1=+u}`}arcTo(n,e,i,r,o){if(n=+n,e=+e,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,a=this._y1,l=i-n,f=r-e,s=u-n,c=a-e,h=s*s+c*c;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>wt)if(!(Math.abs(c*l-f*s)>wt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let g=i-u,_=r-a,x=l*l+f*f,w=g*g+_*_,m=Math.sqrt(x),E=Math.sqrt(h),y=o*Math.tan((oe-Math.acos((x+h-w)/(2*m*E)))/2),S=y/E,$=y/m;Math.abs(S-1)>wt&&this._append`L${n+S*s},${e+S*c}`,this._append`A${o},${o},0,0,${+(c*g>s*_)},${this._x1=n+$*l},${this._y1=e+$*f}`}}arc(n,e,i,r,o,u){if(n=+n,e=+e,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),f=n+a,s=e+l,c=1^u,h=u?r-o:o-r;this._x1===null?this._append`M${f},${s}`:(Math.abs(this._x1-f)>wt||Math.abs(this._y1-s)>wt)&&this._append`L${f},${s}`,i&&(h<0&&(h=h%ue+ue),h>Ja?this._append`A${i},${i},0,1,${c},${n-a},${e-l}A${i},${i},0,1,${c},${this._x1=f},${this._y1=s}`:h>wt&&this._append`A${i},${i},0,${+(h>=oe)},${c},${this._x1=n+i*Math.cos(o)},${this._y1=e+i*Math.sin(o)}`)}rect(n,e,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}var D=1e-6,I=Math.PI,K=I/2,oi=I/4,J=I*2,W=180/I,B=I/180,X=Math.abs,ir=Math.atan,Xt=Math.atan2,F=Math.cos,fn=Math.ceil,ns=Math.exp,es=Math.log,Y=Math.sin,is=Math.sign||function(t){return t>0?1:t<0?-1:0},vt=Math.sqrt,rs=Math.tan;function os(t){return t>1?0:t<-1?I:Math.acos(t)}function bt(t){return t>1?K:t<-1?-K:Math.asin(t)}function tt(){}function Rn(t,n){t&&ai.hasOwnProperty(t.type)&&ai[t.type](t,n)}var ui={Feature:function(t,n){Rn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Rn(e[i].geometry,n)}},ai={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){ae(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)ae(e[i],n,0)},Polygon:function(t,n){si(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)si(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Rn(e[i],n)}};function ae(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function si(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)ae(t[e],n,1);n.polygonEnd()}function zt(t,n){t&&ui.hasOwnProperty(t.type)?ui[t.type](t,n):Rn(t,n)}function se(t){return[Xt(t[1],t[0]),bt(t[2])]}function Ft(t){var n=t[0],e=t[1],i=F(e);return[i*F(n),i*Y(n),Y(e)]}function cn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Tn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Bn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function le(t){var n=vt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function fe(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return i=n.invert(i,r),i&&t.invert(i[0],i[1])}),e}function ce(t,n){return X(t)>I&&(t-=Math.round(t/J)*J),[t,n]}ce.invert=ce;function rr(t,n,e){return(t%=J)?n||e?fe(fi(t),ci(n,e)):fi(t):n||e?ci(n,e):ce}function li(t){return function(n,e){return n+=t,X(n)>I&&(n-=Math.round(n/J)*J),[n,e]}}function fi(t){var n=li(t);return n.invert=li(-t),n}function ci(t,n){var e=F(t),i=Y(t),r=F(n),o=Y(n);function u(a,l){var f=F(l),s=F(a)*f,c=Y(a)*f,h=Y(l),g=h*e+s*i;return[Xt(c*r-g*o,s*e-h*i),bt(g*r+c*o)]}return u.invert=function(a,l){var f=F(l),s=F(a)*f,c=Y(a)*f,h=Y(l),g=h*r-c*o;return[Xt(c*r+h*o,s*e+g*i),bt(g*e-s*i)]},u}function us(t){t=rr(t[0]*B,t[1]*B,t.length>2?t[2]*B:0);function n(e){return e=t(e[0]*B,e[1]*B),e[0]*=W,e[1]*=W,e}return n.invert=function(e){return e=t.invert(e[0]*B,e[1]*B),e[0]*=W,e[1]*=W,e},n}function as(t,n,e,i,r,o){if(e){var u=F(n),a=Y(n),l=i*e;r==null?(r=n+i*J,o=n-l/2):(r=hi(u,r),o=hi(u,o),(i>0?r<o:r>o)&&(r+=i*J));for(var f,s=r;i>0?s>o:s<o;s-=l)f=se([u,-a*F(s),-a*Y(s)]),t.point(f[0],f[1])}}function hi(t,n){n=Ft(n),n[0]-=t,le(n);var e=os(-n[1]);return((-n[2]<0?-e:e)+J-D)%J}function or(){var t=[],n;return{point:function(e,i,r){n.push([e,i,r])},lineStart:function(){t.push(n=[])},lineEnd:tt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function xn(t,n){return X(t[0]-n[0])<D&&X(t[1]-n[1])<D}function pn(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function ur(t,n,e,i,r){var o=[],u=[],a,l;if(t.forEach(function(_){if(!((x=_.length-1)<=0)){var x,w=_[0],m=_[x],E;if(xn(w,m)){if(!w[2]&&!m[2]){for(r.lineStart(),a=0;a<x;++a)r.point((w=_[a])[0],w[1]);r.lineEnd();return}m[0]+=2*D}o.push(E=new pn(w,_,null,!0)),u.push(E.o=new pn(w,null,E,!1)),o.push(E=new pn(m,_,null,!1)),u.push(E.o=new pn(m,null,E,!0))}}),!!o.length){for(u.sort(n),pi(o),pi(u),a=0,l=u.length;a<l;++a)u[a].e=e=!e;for(var f=o[0],s,c;;){for(var h=f,g=!0;h.v;)if((h=h.n)===f)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(a=0,l=s.length;a<l;++a)r.point((c=s[a])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(g)for(s=h.p.z,a=s.length-1;a>=0;--a)r.point((c=s[a])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,g=!g}while(!h.v);r.lineEnd()}}}function pi(t){if(n=t.length){for(var n,e=0,i=t[0],r;++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Gn(t){return X(t[0])<=I?t[0]:is(t[0])*((X(t[0])+I)%J-I)}function ss(t,n){var e=Gn(n),i=n[1],r=Y(i),o=[Y(e),-F(e),0],u=0,a=0,l=new $t;r===1?i=K+D:r===-1&&(i=-K-D);for(var f=0,s=t.length;f<s;++f)if(h=(c=t[f]).length)for(var c,h,g=c[h-1],_=Gn(g),x=g[1]/2+oi,w=Y(x),m=F(x),E=0;E<h;++E,_=S,w=A,m=z,g=y){var y=c[E],S=Gn(y),$=y[1]/2+oi,A=Y($),z=F($),P=S-_,C=P>=0?1:-1,L=C*P,R=L>I,U=w*A;if(l.add(Xt(U*C*Y(L),m*z+U*F(L))),u+=R?P+C*J:P,R^_>=e^S>=e){var H=Tn(Ft(g),Ft(y));le(H);var p=Tn(o,H);le(p);var d=(R^P>=0?-1:1)*bt(p[2]);(i>d||i===d&&(H[0]||H[1]))&&(a+=R^P>=0?1:-1)}}return(u<-D||u<D&&l<-1e-12)^a&1}function ar(t,n,e,i){return function(r){var o=n(r),u=or(),a=n(u),l=!1,f,s,c,h={point:g,lineStart:x,lineEnd:w,polygonStart:function(){h.point=m,h.lineStart=E,h.lineEnd=y,s=[],f=[]},polygonEnd:function(){h.point=g,h.lineStart=x,h.lineEnd=w,s=bi(s);var S=ss(f,i);s.length?(l||(r.polygonStart(),l=!0),ur(s,fs,S,e,r)):S&&(l||(r.polygonStart(),l=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),s=f=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(S,$){t(S,$)&&r.point(S,$)}function _(S,$){o.point(S,$)}function x(){h.point=_,o.lineStart()}function w(){h.point=g,o.lineEnd()}function m(S,$){c.push([S,$]),a.point(S,$)}function E(){a.lineStart(),c=[]}function y(){m(c[0][0],c[0][1]),a.lineEnd();var S=a.clean(),$=u.result(),A,z=$.length,P,C,L;if(c.pop(),f.push(c),c=null,!!z){if(S&1){if(C=$[0],(P=C.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),A=0;A<P;++A)r.point((L=C[A])[0],L[1]);r.lineEnd()}return}z>1&&S&2&&$.push($.pop().concat($.shift())),s.push($.filter(ls))}}return h}}function ls(t){return t.length>1}function fs(t,n){return((t=t.x)[0]<0?t[1]-K-D:K-t[1])-((n=n.x)[0]<0?n[1]-K-D:K-n[1])}const gi=ar(function(){return!0},cs,ps,[-I,-K]);function cs(t){var n=NaN,e=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,u){var a=o>0?I:-I,l=X(o-n);X(l-I)<D?(t.point(n,e=(e+u)/2>0?K:-K),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),t.point(o,e),r=0):i!==a&&l>=I&&(X(n-i)<D&&(n-=i*D),X(o-a)<D&&(o-=a*D),e=hs(n,e,o,u),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),r=0),t.point(n=o,e=u),i=a},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}}function hs(t,n,e,i){var r,o,u=Y(t-e);return X(u)>D?ir((Y(n)*(o=F(i))*Y(e)-Y(i)*(r=F(n))*Y(t))/(r*o*u)):(n+i)/2}function ps(t,n,e,i){var r;if(t==null)r=e*K,i.point(-I,r),i.point(0,r),i.point(I,r),i.point(I,0),i.point(I,-r),i.point(0,-r),i.point(-I,-r),i.point(-I,0),i.point(-I,r);else if(X(t[0]-n[0])>D){var o=t[0]<n[0]?I:-I;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function gs(t){var n=F(t),e=2*B,i=n>0,r=X(n)>D;function o(s,c,h,g){as(g,t,e,h,s,c)}function u(s,c){return F(s)*F(c)>n}function a(s){var c,h,g,_,x;return{lineStart:function(){_=g=!1,x=1},point:function(w,m){var E=[w,m],y,S=u(w,m),$=i?S?0:f(w,m):S?f(w+(w<0?I:-I),m):0;if(!c&&(_=g=S)&&s.lineStart(),S!==g&&(y=l(c,E),(!y||xn(c,y)||xn(E,y))&&(E[2]=1)),S!==g)x=0,S?(s.lineStart(),y=l(E,c),s.point(y[0],y[1])):(y=l(c,E),s.point(y[0],y[1],2),s.lineEnd()),c=y;else if(r&&c&&i^S){var A;!($&h)&&(A=l(E,c,!0))&&(x=0,i?(s.lineStart(),s.point(A[0][0],A[0][1]),s.point(A[1][0],A[1][1]),s.lineEnd()):(s.point(A[1][0],A[1][1]),s.lineEnd(),s.lineStart(),s.point(A[0][0],A[0][1],3)))}S&&(!c||!xn(c,E))&&s.point(E[0],E[1]),c=E,g=S,h=$},lineEnd:function(){g&&s.lineEnd(),c=null},clean:function(){return x|(_&&g)<<1}}}function l(s,c,h){var g=Ft(s),_=Ft(c),x=[1,0,0],w=Tn(g,_),m=cn(w,w),E=w[0],y=m-E*E;if(!y)return!h&&s;var S=n*m/y,$=-n*E/y,A=Tn(x,w),z=hn(x,S),P=hn(w,$);Bn(z,P);var C=A,L=cn(z,C),R=cn(C,C),U=L*L-R*(cn(z,z)-1);if(!(U<0)){var H=vt(U),p=hn(C,(-L-H)/R);if(Bn(p,z),p=se(p),!h)return p;var d=s[0],v=c[0],M=s[1],N=c[1],b;v<d&&(b=d,d=v,v=b);var T=v-d,k=X(T-I)<D,q=k||T<D;if(!k&&N<M&&(b=M,M=N,N=b),q?k?M+N>0^p[1]<(X(p[0]-d)<D?M:N):M<=p[1]&&p[1]<=N:T>I^(d<=p[0]&&p[0]<=v)){var V=hn(C,(-L+H)/R);return Bn(V,z),[p,se(V)]}}}function f(s,c){var h=i?t:I-t,g=0;return s<-h?g|=1:s>h&&(g|=2),c<-h?g|=4:c>h&&(g|=8),g}return ar(u,a,o,i?[0,-t]:[-I,t-I])}function ds(t,n,e,i,r,o){var u=t[0],a=t[1],l=n[0],f=n[1],s=0,c=1,h=l-u,g=f-a,_;if(_=e-u,!(!h&&_>0)){if(_/=h,h<0){if(_<s)return;_<c&&(c=_)}else if(h>0){if(_>c)return;_>s&&(s=_)}if(_=r-u,!(!h&&_<0)){if(_/=h,h<0){if(_>c)return;_>s&&(s=_)}else if(h>0){if(_<s)return;_<c&&(c=_)}if(_=i-a,!(!g&&_>0)){if(_/=g,g<0){if(_<s)return;_<c&&(c=_)}else if(g>0){if(_>c)return;_>s&&(s=_)}if(_=o-a,!(!g&&_<0)){if(_/=g,g<0){if(_>c)return;_>s&&(s=_)}else if(g>0){if(_<s)return;_<c&&(c=_)}return s>0&&(t[0]=u+s*h,t[1]=a+s*g),c<1&&(n[0]=u+c*h,n[1]=a+c*g),!0}}}}}var Ut=1e9,gn=-Ut;function vs(t,n,e,i){function r(f,s){return t<=f&&f<=e&&n<=s&&s<=i}function o(f,s,c,h){var g=0,_=0;if(f==null||(g=u(f,c))!==(_=u(s,c))||l(f,s)<0^c>0)do h.point(g===0||g===3?t:e,g>1?i:n);while((g=(g+c+4)%4)!==_);else h.point(s[0],s[1])}function u(f,s){return X(f[0]-t)<D?s>0?0:3:X(f[0]-e)<D?s>0?2:1:X(f[1]-n)<D?s>0?1:0:s>0?3:2}function a(f,s){return l(f.x,s.x)}function l(f,s){var c=u(f,1),h=u(s,1);return c!==h?c-h:c===0?s[1]-f[1]:c===1?f[0]-s[0]:c===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,c=or(),h,g,_,x,w,m,E,y,S,$,A,z={point:P,lineStart:U,lineEnd:H,polygonStart:L,polygonEnd:R};function P(d,v){r(d,v)&&s.point(d,v)}function C(){for(var d=0,v=0,M=g.length;v<M;++v)for(var N=g[v],b=1,T=N.length,k=N[0],q,V,O=k[0],G=k[1];b<T;++b)q=O,V=G,k=N[b],O=k[0],G=k[1],V<=i?G>i&&(O-q)*(i-V)>(G-V)*(t-q)&&++d:G<=i&&(O-q)*(i-V)<(G-V)*(t-q)&&--d;return d}function L(){s=c,h=[],g=[],A=!0}function R(){var d=C(),v=A&&d,M=(h=bi(h)).length;(v||M)&&(f.polygonStart(),v&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),M&&ur(h,a,d,o,f),f.polygonEnd()),s=f,h=g=_=null}function U(){z.point=p,g&&g.push(_=[]),$=!0,S=!1,E=y=NaN}function H(){h&&(p(x,w),m&&S&&c.rejoin(),h.push(c.result())),z.point=P,S&&s.lineEnd()}function p(d,v){var M=r(d,v);if(g&&_.push([d,v]),$)x=d,w=v,m=M,$=!1,M&&(s.lineStart(),s.point(d,v));else if(M&&S)s.point(d,v);else{var N=[E=Math.max(gn,Math.min(Ut,E)),y=Math.max(gn,Math.min(Ut,y))],b=[d=Math.max(gn,Math.min(Ut,d)),v=Math.max(gn,Math.min(Ut,v))];ds(N,b,t,n,e,i)?(S||(s.lineStart(),s.point(N[0],N[1])),s.point(b[0],b[1]),M||s.lineEnd(),A=!1):M&&(s.lineStart(),s.point(d,v),A=!1)}E=d,y=v,S=M}return z}}function di(t,n,e){var i=Pt(t,n-D,e).concat(n);return function(r){return i.map(function(o){return[r,o]})}}function vi(t,n,e){var i=Pt(t,n-D,e).concat(n);return function(r){return i.map(function(o){return[o,r]})}}function el(){var t,n,e,i,r,o,u,a,l=10,f=l,s=90,c=360,h,g,_,x,w=2.5;function m(){return{type:"MultiLineString",coordinates:E()}}function E(){return Pt(fn(i/s)*s,e,s).map(_).concat(Pt(fn(a/c)*c,u,c).map(x)).concat(Pt(fn(n/l)*l,t,l).filter(function(y){return X(y%s)>D}).map(h)).concat(Pt(fn(o/f)*f,r,f).filter(function(y){return X(y%c)>D}).map(g))}return m.lines=function(){return E().map(function(y){return{type:"LineString",coordinates:y}})},m.outline=function(){return{type:"Polygon",coordinates:[_(i).concat(x(u).slice(1),_(e).reverse().slice(1),x(a).reverse().slice(1))]}},m.extent=function(y){return arguments.length?m.extentMajor(y).extentMinor(y):m.extentMinor()},m.extentMajor=function(y){return arguments.length?(i=+y[0][0],e=+y[1][0],a=+y[0][1],u=+y[1][1],i>e&&(y=i,i=e,e=y),a>u&&(y=a,a=u,u=y),m.precision(w)):[[i,a],[e,u]]},m.extentMinor=function(y){return arguments.length?(n=+y[0][0],t=+y[1][0],o=+y[0][1],r=+y[1][1],n>t&&(y=n,n=t,t=y),o>r&&(y=o,o=r,r=y),m.precision(w)):[[n,o],[t,r]]},m.step=function(y){return arguments.length?m.stepMajor(y).stepMinor(y):m.stepMinor()},m.stepMajor=function(y){return arguments.length?(s=+y[0],c=+y[1],m):[s,c]},m.stepMinor=function(y){return arguments.length?(l=+y[0],f=+y[1],m):[l,f]},m.precision=function(y){return arguments.length?(w=+y,h=di(o,r,90),g=vi(n,t,w),_=di(a,u,90),x=vi(i,e,w),m):w},m.extentMajor([[-180,-90+D],[180,90-D]]).extentMinor([[-180,-80-D],[180,80+D]])}const he=t=>t;var Un=new $t,pe=new $t,sr,lr,ge,de,pt={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){pt.lineStart=_s,pt.lineEnd=ys},polygonEnd:function(){pt.lineStart=pt.lineEnd=pt.point=tt,Un.add(X(pe)),pe=new $t},result:function(){var t=Un/2;return Un=new $t,t}};function _s(){pt.point=ms}function ms(t,n){pt.point=fr,sr=ge=t,lr=de=n}function fr(t,n){pe.add(de*t-ge*n),ge=t,de=n}function ys(){fr(sr,lr)}var Yt=1/0,zn=Yt,en=-Yt,Pn=en,Cn={point:ws,lineStart:tt,lineEnd:tt,polygonStart:tt,polygonEnd:tt,result:function(){var t=[[Yt,zn],[en,Pn]];return en=Pn=-(zn=Yt=1/0),t}};function ws(t,n){t<Yt&&(Yt=t),t>en&&(en=t),n<zn&&(zn=n),n>Pn&&(Pn=n)}var ve=0,_e=0,Zt=0,kn=0,In=0,Ct=0,me=0,ye=0,Kt=0,cr,hr,ut,at,j={point:Rt,lineStart:_i,lineEnd:mi,polygonStart:function(){j.lineStart=Es,j.lineEnd=Ss},polygonEnd:function(){j.point=Rt,j.lineStart=_i,j.lineEnd=mi},result:function(){var t=Kt?[me/Kt,ye/Kt]:Ct?[kn/Ct,In/Ct]:Zt?[ve/Zt,_e/Zt]:[NaN,NaN];return ve=_e=Zt=kn=In=Ct=me=ye=Kt=0,t}};function Rt(t,n){ve+=t,_e+=n,++Zt}function _i(){j.point=xs}function xs(t,n){j.point=Ms,Rt(ut=t,at=n)}function Ms(t,n){var e=t-ut,i=n-at,r=vt(e*e+i*i);kn+=r*(ut+t)/2,In+=r*(at+n)/2,Ct+=r,Rt(ut=t,at=n)}function mi(){j.point=Rt}function Es(){j.point=$s}function Ss(){pr(cr,hr)}function $s(t,n){j.point=pr,Rt(cr=ut=t,hr=at=n)}function pr(t,n){var e=t-ut,i=n-at,r=vt(e*e+i*i);kn+=r*(ut+t)/2,In+=r*(at+n)/2,Ct+=r,r=at*t-ut*n,me+=r*(ut+t),ye+=r*(at+n),Kt+=r*3,Rt(ut=t,at=n)}function gr(t){this._context=t}gr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,J);break}}},result:tt};var we=new $t,Zn,dr,vr,Wt,Qt,rn={point:tt,lineStart:function(){rn.point=Ns},lineEnd:function(){Zn&&_r(dr,vr),rn.point=tt},polygonStart:function(){Zn=!0},polygonEnd:function(){Zn=null},result:function(){var t=+we;return we=new $t,t}};function Ns(t,n){rn.point=_r,dr=Wt=t,vr=Qt=n}function _r(t,n){Wt-=t,Qt-=n,we.add(vt(Wt*Wt+Qt*Qt)),Wt=t,Qt=n}let yi,Dn,wi,xi;class Mi{constructor(n){this._append=n==null?mr:As(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==wi||this._append!==Dn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,wi=i,Dn=this._append,xi=this._,this._=r}this._+=xi;break}}}result(){const n=this._;return this._="",n.length?n:null}}function mr(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function As(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return mr;if(n!==yi){const e=10**n;yi=n,Dn=function(r){let o=1;this._+=r[0];for(const u=r.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return Dn}function il(t,n){let e=3,i=4.5,r,o;function u(a){return a&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),zt(a,r(o))),o.result()}return u.area=function(a){return zt(a,r(pt)),pt.result()},u.measure=function(a){return zt(a,r(rn)),rn.result()},u.bounds=function(a){return zt(a,r(Cn)),Cn.result()},u.centroid=function(a){return zt(a,r(j)),j.result()},u.projection=function(a){return arguments.length?(r=a==null?(t=null,he):(t=a).stream,u):t},u.context=function(a){return arguments.length?(o=a==null?(n=null,new Mi(e)):new gr(n=a),typeof i!="function"&&o.pointRadius(i),u):n},u.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(o.pointRadius(+a),+a),u):i},u.digits=function(a){if(!arguments.length)return e;if(a==null)e=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);e=l}return n===null&&(o=new Mi(e)),u},u.projection(t).digits(e).context(n)}function Ie(t){return function(n){var e=new xe;for(var i in t)e[i]=t[i];return e.stream=n,e}}function xe(){}xe.prototype={constructor:xe,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function De(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),zt(e,t.stream(Cn)),n(Cn.result()),i!=null&&t.clipExtent(i),t}function yr(t,n,e){return De(t,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],u=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+n[0][0]+(r-u*(i[1][0]+i[0][0]))/2,l=+n[0][1]+(o-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([a,l])},e)}function bs(t,n,e){return yr(t,[[0,0],n],e)}function Rs(t,n,e){return De(t,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),u=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];t.scale(150*o).translate([u,a])},e)}function Ts(t,n,e){return De(t,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),u=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([u,a])},e)}var Ei=16,zs=F(30*B);function Si(t,n){return+n?Cs(t,n):Ps(t)}function Ps(t){return Ie({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Cs(t,n){function e(i,r,o,u,a,l,f,s,c,h,g,_,x,w){var m=f-i,E=s-r,y=m*m+E*E;if(y>4*n&&x--){var S=u+h,$=a+g,A=l+_,z=vt(S*S+$*$+A*A),P=bt(A/=z),C=X(X(A)-1)<D||X(o-c)<D?(o+c)/2:Xt($,S),L=t(C,P),R=L[0],U=L[1],H=R-i,p=U-r,d=E*H-m*p;(d*d/y>n||X((m*H+E*p)/y-.5)>.3||u*h+a*g+l*_<zs)&&(e(i,r,o,u,a,l,R,U,C,S/=z,$/=z,A,x,w),w.point(R,U),e(R,U,C,S,$,A,f,s,c,h,g,_,x,w))}}return function(i){var r,o,u,a,l,f,s,c,h,g,_,x,w={point:m,lineStart:E,lineEnd:S,polygonStart:function(){i.polygonStart(),w.lineStart=$},polygonEnd:function(){i.polygonEnd(),w.lineStart=E}};function m(P,C){P=t(P,C),i.point(P[0],P[1])}function E(){c=NaN,w.point=y,i.lineStart()}function y(P,C){var L=Ft([P,C]),R=t(P,C);e(c,h,s,g,_,x,c=R[0],h=R[1],s=P,g=L[0],_=L[1],x=L[2],Ei,i),i.point(c,h)}function S(){w.point=m,i.lineEnd()}function $(){E(),w.point=A,w.lineEnd=z}function A(P,C){y(r=P,C),o=c,u=h,a=g,l=_,f=x,w.point=y}function z(){e(c,h,s,g,_,x,o,u,r,a,l,f,Ei,i),w.lineEnd=S,S()}return w}}var ks=Ie({point:function(t,n){this.stream.point(t*B,n*B)}});function Is(t){return Ie({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}function Ds(t,n,e,i,r){function o(u,a){return u*=i,a*=r,[n+t*u,e-t*a]}return o.invert=function(u,a){return[(u-n)/t*i,(e-a)/t*r]},o}function $i(t,n,e,i,r,o){if(!o)return Ds(t,n,e,i,r);var u=F(o),a=Y(o),l=u*t,f=a*t,s=u/t,c=a/t,h=(a*e-u*n)/t,g=(a*n+u*e)/t;function _(x,w){return x*=i,w*=r,[l*x-f*w+n,e-f*x-l*w]}return _.invert=function(x,w){return[i*(s*x-c*w+h),r*(g-c*x-s*w)]},_}function Le(t){return wr(function(){return t})()}function wr(t){var n,e=150,i=480,r=250,o=0,u=0,a=0,l=0,f=0,s,c=0,h=1,g=1,_=null,x=gi,w=null,m,E,y,S=he,$=.5,A,z,P,C,L;function R(d){return P(d[0]*B,d[1]*B)}function U(d){return d=P.invert(d[0],d[1]),d&&[d[0]*W,d[1]*W]}R.stream=function(d){return C&&L===d?C:C=ks(Is(s)(x(A(S(L=d)))))},R.preclip=function(d){return arguments.length?(x=d,_=void 0,p()):x},R.postclip=function(d){return arguments.length?(S=d,w=m=E=y=null,p()):S},R.clipAngle=function(d){return arguments.length?(x=+d?gs(_=d*B):(_=null,gi),p()):_*W},R.clipExtent=function(d){return arguments.length?(S=d==null?(w=m=E=y=null,he):vs(w=+d[0][0],m=+d[0][1],E=+d[1][0],y=+d[1][1]),p()):w==null?null:[[w,m],[E,y]]},R.scale=function(d){return arguments.length?(e=+d,H()):e},R.translate=function(d){return arguments.length?(i=+d[0],r=+d[1],H()):[i,r]},R.center=function(d){return arguments.length?(o=d[0]%360*B,u=d[1]%360*B,H()):[o*W,u*W]},R.rotate=function(d){return arguments.length?(a=d[0]%360*B,l=d[1]%360*B,f=d.length>2?d[2]%360*B:0,H()):[a*W,l*W,f*W]},R.angle=function(d){return arguments.length?(c=d%360*B,H()):c*W},R.reflectX=function(d){return arguments.length?(h=d?-1:1,H()):h<0},R.reflectY=function(d){return arguments.length?(g=d?-1:1,H()):g<0},R.precision=function(d){return arguments.length?(A=Si(z,$=d*d),p()):vt($)},R.fitExtent=function(d,v){return yr(R,d,v)},R.fitSize=function(d,v){return bs(R,d,v)},R.fitWidth=function(d,v){return Rs(R,d,v)},R.fitHeight=function(d,v){return Ts(R,d,v)};function H(){var d=$i(e,0,0,h,g,c).apply(null,n(o,u)),v=$i(e,i-d[0],r-d[1],h,g,c);return s=rr(a,l,f),z=fe(n,v),P=fe(s,z),A=Si(z,$),p()}function p(){return C=L=null,R}return function(){return n=t.apply(this,arguments),R.invert=n.invert&&U,H()}}function Ls(t){return function(n,e){var i=F(n),r=F(e),o=t(i*r);return o===1/0?[2,0]:[o*r*Y(n),o*Y(e)]}}function qs(t){return function(n,e){var i=vt(n*n+e*e),r=t(i),o=Y(r),u=F(r);return[Xt(n*o,i*u),bt(i&&e*o/i)]}}var Mn=Ls(function(t){return vt(2/(1+t))});Mn.invert=qs(function(t){return 2*bt(t/2)});function qe(t,n){return[t,es(rs((K+n)/2))]}qe.invert=function(t,n){return[t,2*ir(ns(n))-K]};function rl(){return Xs(qe).scale(961/J)}function Xs(t){var n=Le(t),e=n.center,i=n.scale,r=n.translate,o=n.clipExtent,u=null,a,l,f;n.scale=function(c){return arguments.length?(i(c),s()):i()},n.translate=function(c){return arguments.length?(r(c),s()):r()},n.center=function(c){return arguments.length?(e(c),s()):e()},n.clipExtent=function(c){return arguments.length?(c==null?u=a=l=f=null:(u=+c[0][0],a=+c[0][1],l=+c[1][0],f=+c[1][1]),s()):u==null?null:[[u,a],[l,f]]};function s(){var c=I*i(),h=n(us(n.rotate()).invert([0,0]));return o(u==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:t===qe?[[Math.max(h[0]-c,u),a],[Math.min(h[0]+c,l),f]]:[[u,Math.max(h[1]-c,a)],[l,Math.min(h[1]+c,f)]])}return s()}Zi(mt(-100,.75,.35),mt(80,1.5,.8));Zi(mt(260,.75,.35),mt(80,1.5,.8));var dn=mt();function ol(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return dn.h=360*t-100,dn.s=1.5-1.5*n,dn.l=.8-.9*n,dn+""}function Tt(t){return function(){return t}}function Fs(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new ts(n)}function Ys(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xr(t){this._context=t}xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Hs(t){return new xr(t)}function Os(t){return t[0]}function Vs(t){return t[1]}function ul(t,n){var e=Tt(!0),i=null,r=Hs,o=null,u=Fs(a);t=typeof t=="function"?t:t===void 0?Os:Tt(t),n=typeof n=="function"?n:n===void 0?Vs:Tt(n);function a(l){var f,s=(l=Ys(l)).length,c,h=!1,g;for(i==null&&(o=r(g=u())),f=0;f<=s;++f)!(f<s&&e(c=l[f],f,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,f,l),+n(c,f,l));if(g)return o=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Tt(+l),a):t},a.y=function(l){return arguments.length?(n=typeof l=="function"?l:Tt(+l),a):n},a.defined=function(l){return arguments.length?(e=typeof l=="function"?l:Tt(!!l),a):e},a.curve=function(l){return arguments.length?(r=l,i!=null&&(o=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=o=null:o=r(i=l),a):i},a}const vn=t=>()=>t;function Bs(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function gt(t,n,e){this.k=t,this.x=n,this.y=e}gt.prototype={constructor:gt,scale:function(t){return t===1?this:new gt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new gt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mr=new gt(1,0,0);gt.prototype;function Kn(t){t.stopImmediatePropagation()}function Vt(t){t.preventDefault(),t.stopImmediatePropagation()}function Gs(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Us(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ni(){return this.__zoom||Mr}function Zs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ks(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ws(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function al(){var t=Gs,n=Us,e=Ws,i=Zs,r=Ks,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Fu,f=$e("start","zoom","end"),s,c,h,g=500,_=150,x=0,w=10;function m(p){p.property("__zoom",Ni).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",R).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,d,v,M){var N=p.selection?p.selection():p;N.property("__zoom",Ni),p!==N?$(p,d,v,M):N.interrupt().each(function(){A(this,arguments).event(M).start().zoom(null,typeof d=="function"?d.apply(this,arguments):d).end()})},m.scaleBy=function(p,d,v,M){m.scaleTo(p,function(){var N=this.__zoom.k,b=typeof d=="function"?d.apply(this,arguments):d;return N*b},v,M)},m.scaleTo=function(p,d,v,M){m.transform(p,function(){var N=n.apply(this,arguments),b=this.__zoom,T=v==null?S(N):typeof v=="function"?v.apply(this,arguments):v,k=b.invert(T),q=typeof d=="function"?d.apply(this,arguments):d;return e(y(E(b,q),T,k),N,u)},v,M)},m.translateBy=function(p,d,v,M){m.transform(p,function(){return e(this.__zoom.translate(typeof d=="function"?d.apply(this,arguments):d,typeof v=="function"?v.apply(this,arguments):v),n.apply(this,arguments),u)},null,M)},m.translateTo=function(p,d,v,M,N){m.transform(p,function(){var b=n.apply(this,arguments),T=this.__zoom,k=M==null?S(b):typeof M=="function"?M.apply(this,arguments):M;return e(Mr.translate(k[0],k[1]).scale(T.k).translate(typeof d=="function"?-d.apply(this,arguments):-d,typeof v=="function"?-v.apply(this,arguments):-v),b,u)},M,N)};function E(p,d){return d=Math.max(o[0],Math.min(o[1],d)),d===p.k?p:new gt(d,p.x,p.y)}function y(p,d,v){var M=d[0]-v[0]*p.k,N=d[1]-v[1]*p.k;return M===p.x&&N===p.y?p:new gt(p.k,M,N)}function S(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function $(p,d,v,M){p.on("start.zoom",function(){A(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(M).end()}).tween("zoom",function(){var N=this,b=arguments,T=A(N,b).event(M),k=n.apply(N,b),q=v==null?S(k):typeof v=="function"?v.apply(N,b):v,V=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),O=N.__zoom,G=typeof d=="function"?d.apply(N,b):d,ft=l(O.invert(q).concat(V/O.k),G.invert(q).concat(V/G.k));return function(nt){if(nt===1)nt=G;else{var ct=ft(nt),Hn=V/ct[2];nt=new gt(Hn,q[0]-ct[0]*Hn,q[1]-ct[1]*Hn)}T.zoom(null,nt)}})}function A(p,d,v){return!v&&p.__zooming||new z(p,d)}function z(p,d){this.that=p,this.args=d,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,d),this.taps=0}z.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,d){return this.mouse&&p!=="mouse"&&(this.mouse[1]=d.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=d.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=d.invert(this.touch1[0])),this.that.__zoom=d,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var d=xt(this.that).datum();f.call(p,this.that,new Bs(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:f}),d)}};function P(p,...d){if(!t.apply(this,arguments))return;var v=A(this,d).event(p),M=this.__zoom,N=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,i.apply(this,arguments)))),b=yt(p);if(v.wheel)(v.mouse[0][0]!==b[0]||v.mouse[0][1]!==b[1])&&(v.mouse[1]=M.invert(v.mouse[0]=b)),clearTimeout(v.wheel);else{if(M.k===N)return;v.mouse=[b,M.invert(b)],wn(this),v.start()}Vt(p),v.wheel=setTimeout(T,_),v.zoom("mouse",e(y(E(M,N),v.mouse[0],v.mouse[1]),v.extent,u));function T(){v.wheel=null,v.end()}}function C(p,...d){if(h||!t.apply(this,arguments))return;var v=p.currentTarget,M=A(this,d,!0).event(p),N=xt(p.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",V,!0),b=yt(p,v),T=p.clientX,k=p.clientY;cu(p.view),Kn(p),M.mouse=[b,this.__zoom.invert(b)],wn(this),M.start();function q(O){if(Vt(O),!M.moved){var G=O.clientX-T,ft=O.clientY-k;M.moved=G*G+ft*ft>x}M.event(O).zoom("mouse",e(y(M.that.__zoom,M.mouse[0]=yt(O,v),M.mouse[1]),M.extent,u))}function V(O){N.on("mousemove.zoom mouseup.zoom",null),hu(O.view,M.moved),Vt(O),M.event(O).end()}}function L(p,...d){if(t.apply(this,arguments)){var v=this.__zoom,M=yt(p.changedTouches?p.changedTouches[0]:p,this),N=v.invert(M),b=v.k*(p.shiftKey?.5:2),T=e(y(E(v,b),M,N),n.apply(this,d),u);Vt(p),a>0?xt(this).transition().duration(a).call($,T,M,p):xt(this).call(m.transform,T,M,p)}}function R(p,...d){if(t.apply(this,arguments)){var v=p.touches,M=v.length,N=A(this,d,p.changedTouches.length===M).event(p),b,T,k,q;for(Kn(p),T=0;T<M;++T)k=v[T],q=yt(k,this),q=[q,this.__zoom.invert(q),k.identifier],N.touch0?!N.touch1&&N.touch0[2]!==q[2]&&(N.touch1=q,N.taps=0):(N.touch0=q,b=!0,N.taps=1+!!s);s&&(s=clearTimeout(s)),b&&(N.taps<2&&(c=q[0],s=setTimeout(function(){s=null},g)),wn(this),N.start())}}function U(p,...d){if(this.__zooming){var v=A(this,d).event(p),M=p.changedTouches,N=M.length,b,T,k,q;for(Vt(p),b=0;b<N;++b)T=M[b],k=yt(T,this),v.touch0&&v.touch0[2]===T.identifier?v.touch0[0]=k:v.touch1&&v.touch1[2]===T.identifier&&(v.touch1[0]=k);if(T=v.that.__zoom,v.touch1){var V=v.touch0[0],O=v.touch0[1],G=v.touch1[0],ft=v.touch1[1],nt=(nt=G[0]-V[0])*nt+(nt=G[1]-V[1])*nt,ct=(ct=ft[0]-O[0])*ct+(ct=ft[1]-O[1])*ct;T=E(T,Math.sqrt(nt/ct)),k=[(V[0]+G[0])/2,(V[1]+G[1])/2],q=[(O[0]+ft[0])/2,(O[1]+ft[1])/2]}else if(v.touch0)k=v.touch0[0],q=v.touch0[1];else return;v.zoom("touch",e(y(T,k,q),v.extent,u))}}function H(p,...d){if(this.__zooming){var v=A(this,d).event(p),M=p.changedTouches,N=M.length,b,T;for(Kn(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),b=0;b<N;++b)T=M[b],v.touch0&&v.touch0[2]===T.identifier?delete v.touch0:v.touch1&&v.touch1[2]===T.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(T=yt(T,this),Math.hypot(c[0]-T[0],c[1]-T[1])<w)){var k=xt(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:vn(+p),m):i},m.filter=function(p){return arguments.length?(t=typeof p=="function"?p:vn(!!p),m):t},m.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:vn(!!p),m):r},m.extent=function(p){return arguments.length?(n=typeof p=="function"?p:vn([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):n},m.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],m):[o[0],o[1]]},m.translateExtent=function(p){return arguments.length?(u[0][0]=+p[0][0],u[1][0]=+p[1][0],u[0][1]=+p[0][1],u[1][1]=+p[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(p){return arguments.length?(e=p,m):e},m.duration=function(p){return arguments.length?(a=+p,m):a},m.interpolate=function(p){return arguments.length?(l=p,m):l},m.on=function(){var p=f.on.apply(f,arguments);return p===f?m:p},m.clickDistance=function(p){return arguments.length?(x=(p=+p)*p,m):Math.sqrt(x)},m.tapDistance=function(p){return arguments.length?(w=+p,m):w},m}var Me=Math.abs,rt=Math.cos,it=Math.sin,En=1e-6,on=Math.PI,Ee=on/2,Ai=Sr(2);function Qs(t){return t?t/Math.sin(t):1}function Se(t){return t>1?Ee:t<-1?-Ee:Math.asin(t)}function Er(t){return t>1?0:t<-1?on:Math.acos(t)}function Sr(t){return t>0?Math.sqrt(t):0}function $r(t,n){var e=rt(n),i=Qs(Er(e*rt(t/=2)));return[2*e*it(t)*i,it(n)*i]}$r.invert=function(t,n){if(!(t*t+4*n*n>on*on+En)){var e=t,i=n,r=25;do{var o=it(e),u=it(e/2),a=rt(e/2),l=it(i),f=rt(i),s=it(2*i),c=l*l,h=f*f,g=u*u,_=1-h*a*a,x=_?Er(f*a)*Sr(w=1/_):w=0,w,m=2*x*f*u-t,E=x*l-n,y=w*(h*g+x*f*a*c),S=w*(.5*o*s-x*2*l*u),$=w*.25*(s*u-x*l*h*o),A=w*(c*a+x*g*f),z=S*$-A*y;if(!z)break;var P=(E*S-m*A)/z,C=(m*$-E*y)/z;e-=P,i-=C}while((Me(P)>En||Me(C)>En)&&--r>0);return[e,i]}};function sl(){return Le($r).scale(152.63)}function Js(t,n){if(arguments.length<2&&(n=t),n===1)return Mn;if(n===1/0)return Nr;function e(i,r){var o=Mn(i/n,r);return o[0]*=t,o}return e.invert=function(i,r){var o=Mn.invert(i/t,r);return o[0]*=n,o},e}function Nr(t,n){return[t*rt(n)/rt(n/=2),2*it(n)]}Nr.invert=function(t,n){var e=2*Se(n/2);return[t*rt(e/2)/rt(e),e]};function ll(){var t=2,n=wr(Js),e=n(t);return e.coefficient=function(i){return arguments.length?n(t=+i):t},e.scale(169.529)}function js(t,n){var e=t*it(n),i=30,r;do n-=r=(n+it(n)-e)/(1+rt(n));while(Me(r)>En&&--i>0);return n/2}function tl(t,n,e){function i(r,o){return[t*r*rt(o=js(e,o)),n*it(o)]}return i.invert=function(r,o){return o=Se(o/n),[r/(t*rt(o)),Se((2*o+it(2*o))/e)]},i}var nl=tl(Ai/Ee,Ai,on);function fl(){return Le(nl).scale(169.529)}export{ll as a,fl as b,el as c,Hs as d,Mr as e,sl as g,il as i,ul as l,rl as m,ol as r,xt as s,al as z};
//# sourceMappingURL=d3-LaDgEivr.js.map
