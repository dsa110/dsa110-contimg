import{j as E,a as q,g as B,R as X}from"./index-QIbW7jSm.js";const he=({size:t="md",label:e,centered:n=!0})=>{const r={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"},s=E.jsx("div",{className:`${r[t]} border-blue-600 border-t-transparent rounded-full animate-spin`,role:"status","aria-label":e||"Loading"});return n?E.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12",children:[s,e&&E.jsx("span",{className:"text-gray-500 text-sm",children:e})]}):E.jsxs("div",{className:"inline-flex items-center gap-2",children:[s,e&&E.jsx("span",{className:"text-gray-500 text-sm",children:e})]})},K={},U=t=>{let e;const n=new Set,r=(u,v)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=v??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,p={setState:r,getState:s,getInitialState:()=>S,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(K?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},S=e=t(r,s,p);return p},Q=t=>t?U(t):U;var T={exports:{}},D={},j={exports:{}},J={};var k;function V(){if(k)return J;k=1;var t=q();function e(v,d){return v===d&&(v!==0||1/v===1/d)||v!==v&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,y=t.useDebugValue;function m(v,d){var f=d(),h=r({inst:{value:f,getSnapshot:d}}),o=h[0].inst,i=h[1];return a(function(){o.value=f,o.getSnapshot=d,p(o)&&i({inst:o})},[v,f,d]),s(function(){return p(o)&&i({inst:o}),v(function(){p(o)&&i({inst:o})})},[v]),y(f),f}function p(v){var d=v.getSnapshot;v=v.value;try{var f=d();return!n(v,f)}catch{return!0}}function S(v,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S:m;return J.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,J}var F;function Y(){return F||(F=1,j.exports=V()),j.exports}var H;function Z(){if(H)return D;H=1;var t=q(),e=Y();function n(S,u){return S===u&&(S!==0||1/S===1/u)||S!==S&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,y=t.useEffect,m=t.useMemo,p=t.useDebugValue;return D.useSyncExternalStoreWithSelector=function(S,u,v,d,f){var h=a(null);if(h.current===null){var o={hasValue:!1,value:null};h.current=o}else o=h.current;h=m(function(){function l(b){if(!c){if(c=!0,g=b,b=d(b),f!==void 0&&o.hasValue){var w=o.value;if(f(w,b))return _=w}return _=b}if(w=_,r(g,b))return w;var L=d(b);return f!==void 0&&f(w,L)?(g=b,w):(g=b,_=L)}var c=!1,g,_,R=v===void 0?null:v;return[function(){return l(u())},R===null?void 0:function(){return l(R())}]},[u,v,d,f]);var i=s(S,h[0],h[1]);return y(function(){o.hasValue=!0,o.value=i},[i]),p(i),i},D}var M;function ee(){return M||(M=1,T.exports=Z()),T.exports}var te=ee();const ne=B(te),G={},{useDebugValue:re}=X,{useSyncExternalStoreWithSelector:oe}=ne;let W=!1;const se=t=>t;function ie(t,e=se,n){(G?"production":void 0)!=="production"&&n&&!W&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),W=!0);const r=oe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return re(r),r}const $=t=>{(G?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Q(t):t,n=(r,s)=>ie(e,r,s);return Object.assign(n,e),n},A=t=>t?$(t):$,x={BASE_URL:"/dsa110-contimg/dashboard/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://ronnie-unsectarian-antone.ngrok-free.dev/api"},z=new Map,O=t=>{const e=z.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},ae=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=z.get(n.name);if(r)return{type:"tracked",store:t,...r};const s={connection:e.connect(n),stores:{}};return z.set(n.name,s),{type:"tracked",store:t,...s}},ce=(t,e={})=>(n,r,s)=>{const{enabled:a,anonymousActionType:y,store:m,...p}=e;let S;try{S=(a??(x?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!S)return(x?"production":void 0)!=="production"&&a&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,s);const{connection:u,...v}=ae(m,S,p);let d=!0;s.setState=(o,i,l)=>{const c=n(o,i);if(!d)return c;const g=l===void 0?{type:y||"anonymous"}:typeof l=="string"?{type:l}:l;return m===void 0?(u?.send(g,r()),c):(u?.send({...g,type:`${m}/${g.type}`},{...O(p.name),[m]:s.getState()}),c)};const f=(...o)=>{const i=d;d=!1,n(...o),d=i},h=t(s.setState,r,s);if(v.type==="untracked"?u?.init(h):(v.stores[v.store]=s,u?.init(Object.fromEntries(Object.entries(v.stores).map(([o,i])=>[o,o===v.store?h:i.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let o=!1;const i=s.dispatch;s.dispatch=(...l)=>{(x?"production":void 0)!=="production"&&l[0].type==="__setState"&&!o&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),o=!0),i(...l)}}return u.subscribe(o=>{var i;switch(o.type){case"ACTION":if(typeof o.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return N(o.payload,l=>{if(l.type==="__setState"){if(m===void 0){f(l.state);return}Object.keys(l.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const c=l.state[m];if(c==null)return;JSON.stringify(s.getState())!==JSON.stringify(c)&&f(c);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(l)});case"DISPATCH":switch(o.payload.type){case"RESET":return f(h),m===void 0?u?.init(s.getState()):u?.init(O(p.name));case"COMMIT":if(m===void 0){u?.init(s.getState());return}return u?.init(O(p.name));case"ROLLBACK":return N(o.state,l=>{if(m===void 0){f(l),u?.init(s.getState());return}f(l[m]),u?.init(O(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return N(o.state,l=>{if(m===void 0){f(l);return}JSON.stringify(s.getState())!==JSON.stringify(l[m])&&f(l[m])});case"IMPORT_STATE":{const{nextLiftedState:l}=o.payload,c=(i=l.computedStates.slice(-1)[0])==null?void 0:i.state;if(!c)return;f(m===void 0?c:c[m]),u?.send(null,l);return}case"PAUSE_RECORDING":return d=!d}return}}),h},P=ce,N=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function ue(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const y=p=>p===null?null:JSON.parse(p,void 0),m=(a=n.getItem(s))!=null?a:null;return m instanceof Promise?m.then(y):y(m)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const I=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return I(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return I(r)(n)}}}},le=(t,e)=>(n,r,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:i=>i,version:0,merge:(i,l)=>({...l,...i}),...e},y=!1;const m=new Set,p=new Set;let S;try{S=a.getStorage()}catch{}if(!S)return t((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...i)},r,s);const u=I(a.serialize),v=()=>{const i=a.partialize({...r()});let l;const c=u({state:i,version:a.version}).then(g=>S.setItem(a.name,g)).catch(g=>{l=g});if(l)throw l;return c},d=s.setState;s.setState=(i,l)=>{d(i,l),v()};const f=t((...i)=>{n(...i),v()},r,s);let h;const o=()=>{var i;if(!S)return;y=!1,m.forEach(c=>c(r()));const l=((i=a.onRehydrateStorage)==null?void 0:i.call(a,r()))||void 0;return I(S.getItem.bind(S))(a.name).then(c=>{if(c)return a.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==a.version){if(a.migrate)return a.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var g;return h=a.merge(c,(g=r())!=null?g:f),n(h,!0),v()}).then(()=>{l?.(h,void 0),y=!0,p.forEach(c=>c(h))}).catch(c=>{l?.(void 0,c)})};return s.persist={setOptions:i=>{a={...a,...i},i.getStorage&&(S=i.getStorage())},clearStorage:()=>{S?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>o(),hasHydrated:()=>y,onHydrate:i=>(m.add(i),()=>{m.delete(i)}),onFinishHydration:i=>(p.add(i),()=>{p.delete(i)})},o(),h||f},de=(t,e)=>(n,r,s)=>{let a={storage:ue(()=>localStorage),partialize:o=>o,version:0,merge:(o,i)=>({...i,...o}),...e},y=!1;const m=new Set,p=new Set;let S=a.storage;if(!S)return t((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...o)},r,s);const u=()=>{const o=a.partialize({...r()});return S.setItem(a.name,{state:o,version:a.version})},v=s.setState;s.setState=(o,i)=>{v(o,i),u()};const d=t((...o)=>{n(...o),u()},r,s);s.getInitialState=()=>d;let f;const h=()=>{var o,i;if(!S)return;y=!1,m.forEach(c=>{var g;return c((g=r())!=null?g:d)});const l=((i=a.onRehydrateStorage)==null?void 0:i.call(a,(o=r())!=null?o:d))||void 0;return I(S.getItem.bind(S))(a.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==a.version){if(a.migrate)return[!0,a.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var g;const[_,R]=c;if(f=a.merge(R,(g=r())!=null?g:d),n(f,!0),_)return u()}).then(()=>{l?.(f,void 0),f=r(),y=!0,p.forEach(c=>c(f))}).catch(c=>{l?.(void 0,c)})};return s.persist={setOptions:o=>{a={...a,...o},o.storage&&(S=o.storage)},clearStorage:()=>{S?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>y,onHydrate:o=>(m.add(o),()=>{m.delete(o)}),onFinishHydration:o=>(p.add(o),()=>{p.delete(o)})},a.skipHydration||h(),f||d},fe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((x?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),le(t,e)):de(t,e),Se=fe;A()(P(t=>({sidebarOpen:!0,toggleSidebar:()=>t(e=>({sidebarOpen:!e.sidebarOpen})),setSidebarOpen:e=>t({sidebarOpen:e}),globalLoading:!1,setGlobalLoading:e=>t({globalLoading:e}),notifications:[],addNotification:e=>t(n=>({notifications:[...n.notifications,{...e,id:crypto.randomUUID()}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)})),clearNotifications:()=>t({notifications:[]})}),{name:"ui-store"}));const ve=10,C=(t,e)=>{const n=t.filter(r=>r!==e);return[e,...n].slice(0,ve)},pe=A()(P(Se(t=>({theme:"system",setTheme:e=>t({theme:e}),defaultPageSize:25,setDefaultPageSize:e=>t({defaultPageSize:e}),recentImages:[],addRecentImage:e=>t(n=>({recentImages:C(n.recentImages,e)})),recentSources:[],addRecentSource:e=>t(n=>({recentSources:C(n.recentSources,e)})),recentJobs:[],addRecentJob:e=>t(n=>({recentJobs:C(n.recentJobs,e)}))}),{name:"dsa110-preferences",version:1}),{name:"preferences-store"})),ge=A()(P(t=>({selectedImages:new Set,toggleImageSelection:e=>t(n=>{const r=new Set(n.selectedImages);return r.has(e)?r.delete(e):r.add(e),{selectedImages:r}}),selectAllImages:e=>t({selectedImages:new Set(e)}),clearImageSelection:()=>t({selectedImages:new Set}),selectedSources:new Set,toggleSourceSelection:e=>t(n=>{const r=new Set(n.selectedSources);return r.has(e)?r.delete(e):r.add(e),{selectedSources:r}}),selectAllSources:e=>t({selectedSources:new Set(e)}),clearSourceSelection:()=>t({selectedSources:new Set}),selectedJobs:new Set,toggleJobSelection:e=>t(n=>{const r=new Set(n.selectedJobs);return r.has(e)?r.delete(e):r.add(e),{selectedJobs:r}}),selectAllJobs:e=>t({selectedJobs:new Set(e)}),clearJobSelection:()=>t({selectedJobs:new Set}),clearAllSelections:()=>t({selectedImages:new Set,selectedSources:new Set,selectedJobs:new Set})}),{name:"selection-store"}));export{he as L,ge as a,pe as u};
//# sourceMappingURL=appStore-S8Uu5lno.js.map
