{"version":3,"file":"QAMetrics-BclxU-HJ.js","sources":["../../src/components/common/QAMetrics.tsx"],"sourcesContent":["import React from \"react\";\n\nexport type QAGrade = \"good\" | \"warn\" | \"fail\" | null | undefined;\n\nexport interface QAMetricsProps {\n  /** Overall QA grade */\n  grade?: QAGrade;\n  /** Summary text */\n  summary?: string;\n  /** RMS noise in Jy/beam */\n  noiseJy?: number;\n  /** Dynamic range */\n  dynamicRange?: number;\n  /** Beam major axis in arcsec */\n  beamMajorArcsec?: number;\n  /** Beam minor axis in arcsec */\n  beamMinorArcsec?: number;\n  /** Beam position angle in degrees */\n  beamPaDeg?: number;\n  /** Peak flux in Jy */\n  peakFluxJy?: number;\n  /** Compact display mode (single row) */\n  compact?: boolean;\n}\n\nconst gradeColors: Record<string, { bg: string; text: string; border: string }> = {\n  good: { bg: \"bg-green-50\", text: \"text-green-700\", border: \"border-green-200\" },\n  warn: { bg: \"bg-yellow-50\", text: \"text-yellow-700\", border: \"border-yellow-200\" },\n  fail: { bg: \"bg-red-50\", text: \"text-red-700\", border: \"border-red-200\" },\n};\n\n/**\n * Display QA metrics with visual indicators.\n */\nconst QAMetrics: React.FC<QAMetricsProps> = ({\n  grade,\n  summary,\n  noiseJy,\n  dynamicRange,\n  beamMajorArcsec,\n  beamMinorArcsec,\n  beamPaDeg,\n  peakFluxJy,\n  compact = false,\n}) => {\n  const colors = grade\n    ? gradeColors[grade]\n    : { bg: \"bg-gray-50\", text: \"text-gray-600\", border: \"border-gray-200\" };\n\n  // Format noise for display\n  const formatNoise = (noise: number): string => {\n    if (noise < 0.001) {\n      return `${(noise * 1e6).toFixed(1)} μJy/beam`;\n    } else if (noise < 1) {\n      return `${(noise * 1e3).toFixed(2)} mJy/beam`;\n    }\n    return `${noise.toFixed(3)} Jy/beam`;\n  };\n\n  // Format flux for display\n  const formatFlux = (flux: number): string => {\n    if (Math.abs(flux) < 0.001) {\n      return `${(flux * 1e6).toFixed(1)} μJy`;\n    } else if (Math.abs(flux) < 1) {\n      return `${(flux * 1e3).toFixed(2)} mJy`;\n    }\n    return `${flux.toFixed(3)} Jy`;\n  };\n\n  if (compact) {\n    return (\n      <div className=\"flex items-center gap-3 flex-wrap\">\n        {grade && (\n          <span\n            className={`badge ${\n              grade === \"good\"\n                ? \"badge-success\"\n                : grade === \"warn\"\n                ? \"badge-warning\"\n                : \"badge-error\"\n            }`}\n          >\n            {grade.toUpperCase()}\n          </span>\n        )}\n        {noiseJy !== undefined && (\n          <span className=\"text-sm text-gray-600\">\n            <span className=\"font-medium\">σ:</span> {formatNoise(noiseJy)}\n          </span>\n        )}\n        {dynamicRange !== undefined && (\n          <span className=\"text-sm text-gray-600\">\n            <span className=\"font-medium\">DR:</span> {dynamicRange.toFixed(0)}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`rounded-lg border ${colors.border} ${colors.bg} p-4`}>\n      {/* Header with grade */}\n      {grade && (\n        <div className=\"flex items-center gap-2 mb-3\">\n          <span className={`font-semibold ${colors.text} uppercase`}>{grade}</span>\n          {summary && <span className=\"text-gray-600 text-sm ml-2\">— {summary}</span>}\n        </div>\n      )}\n\n      {/* Metrics grid */}\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n        {noiseJy !== undefined && (\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase tracking-wide\">RMS Noise</div>\n            <div className=\"font-mono text-sm\">{formatNoise(noiseJy)}</div>\n          </div>\n        )}\n        {dynamicRange !== undefined && (\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Dynamic Range</div>\n            <div className=\"font-mono text-sm\">{dynamicRange.toFixed(0)}:1</div>\n          </div>\n        )}\n        {peakFluxJy !== undefined && (\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Peak Flux</div>\n            <div className=\"font-mono text-sm\">{formatFlux(peakFluxJy)}</div>\n          </div>\n        )}\n        {beamMajorArcsec !== undefined && beamMinorArcsec !== undefined && (\n          <div className=\"col-span-2 md:col-span-1\">\n            <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Beam Size</div>\n            <div className=\"font-mono text-sm\">\n              {beamMajorArcsec.toFixed(1)}″ × {beamMinorArcsec.toFixed(1)}″\n              {beamPaDeg !== undefined && (\n                <span className=\"text-gray-500\"> @ {beamPaDeg.toFixed(0)}°</span>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default QAMetrics;\n"],"names":["gradeColors","QAMetrics","grade","summary","noiseJy","dynamicRange","beamMajorArcsec","beamMinorArcsec","beamPaDeg","peakFluxJy","compact","colors","formatNoise","noise","formatFlux","flux","jsxs","jsx"],"mappings":"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"}