{"version":3,"file":"CoordinateDisplay-YnZEsu5f.js","sources":["../../src/utils/coordinateFormatter.ts","../../src/components/provenance/ProvenanceBadge.tsx","../../src/components/provenance/ProvenanceLink.tsx","../../src/components/provenance/ProvenanceStrip.tsx","../../src/constants/errorMappings.ts","../../src/utils/errorMapper.ts","../../src/components/errors/ErrorDetailsExpander.tsx","../../src/components/errors/ErrorActionHint.tsx","../../src/components/errors/ErrorDisplay.tsx","../../src/components/common/Card.tsx","../../src/components/common/CoordinateDisplay.tsx"],"sourcesContent":["/**\n * Format Right Ascension from decimal degrees to HMS (hours:minutes:seconds).\n * @param raDeg - RA in decimal degrees (0-360)\n * @param precision - decimal places for seconds (default: 2)\n */\nexport const formatRA = (raDeg: number, precision: number = 2): string => {\n  const totalHours = raDeg / 15;\n  const hours = Math.floor(totalHours);\n  const totalMinutes = (totalHours - hours) * 60;\n  const minutes = Math.floor(totalMinutes);\n  const seconds = (totalMinutes - minutes) * 60;\n  return `${hours.toString().padStart(2, \"0\")}h ${minutes.toString().padStart(2, \"0\")}m ${seconds\n    .toFixed(precision)\n    .padStart(precision + 3, \"0\")}s`;\n};\n\n/**\n * Format Declination from decimal degrees to DMS (degrees:arcmin:arcsec).\n * @param decDeg - Dec in decimal degrees (-90 to +90)\n * @param precision - decimal places for arcseconds (default: 1)\n */\nexport const formatDec = (decDeg: number, precision: number = 1): string => {\n  const sign = decDeg >= 0 ? \"+\" : \"-\";\n  const absDec = Math.abs(decDeg);\n  const degrees = Math.floor(absDec);\n  const totalArcmin = (absDec - degrees) * 60;\n  const arcmin = Math.floor(totalArcmin);\n  const arcsec = (totalArcmin - arcmin) * 60;\n  return `${sign}${degrees.toString().padStart(2, \"0\")}° ${arcmin\n    .toString()\n    .padStart(2, \"0\")}′ ${arcsec.toFixed(precision).padStart(precision + 3, \"0\")}″`;\n};\n\n/**\n * Format coordinates as a compact string for display.\n * @param raDeg - RA in decimal degrees\n * @param decDeg - Dec in decimal degrees\n */\nexport const formatCoordinates = (raDeg: number, decDeg: number): string => {\n  return `${formatRA(raDeg, 1)}, ${formatDec(decDeg, 0)}`;\n};\n\n/**\n * Format decimal degrees with specified precision.\n * @param deg - Value in degrees\n * @param precision - decimal places (default: 4)\n */\nexport const formatDegrees = (deg: number, precision: number = 4): string => {\n  return `${deg.toFixed(precision)}°`;\n};\n","import React from \"react\";\n\ninterface ProvenanceBadgeProps {\n  qaGrade?: \"good\" | \"warn\" | \"fail\" | null;\n  qaSummary?: string;\n}\n\nconst ProvenanceBadge: React.FC<ProvenanceBadgeProps> = ({ qaGrade, qaSummary }) => {\n  const getBadgeClass = () => {\n    switch (qaGrade) {\n      case \"good\":\n        return \"badge badge-success\";\n      case \"warn\":\n        return \"badge badge-warning\";\n      case \"fail\":\n        return \"badge badge-danger\";\n      default:\n        return \"badge badge-secondary\";\n    }\n  };\n\n  return (\n    <span className={getBadgeClass()} title={qaSummary || \"No QA summary available\"}>\n      {qaGrade ? qaGrade.charAt(0).toUpperCase() + qaGrade.slice(1) : \"Unknown\"}\n    </span>\n  );\n};\n\nexport default ProvenanceBadge;\n","import React from \"react\";\n\ninterface ProvenanceLinkProps {\n  logsUrl?: string;\n  qaUrl?: string;\n}\n\nconst ProvenanceLink: React.FC<ProvenanceLinkProps> = ({ logsUrl, qaUrl }) => {\n  return (\n    <div>\n      {logsUrl && (\n        <a href={logsUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n          View Logs\n        </a>\n      )}\n      {qaUrl && (\n        <a href={qaUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n          QA Report\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default ProvenanceLink;\n","import React from \"react\";\nimport { formatRA, formatDec } from \"../../utils/coordinateFormatter\";\nimport { relativeTime } from \"../../utils/relativeTime\";\nimport { ProvenanceStripProps } from \"./types\";\nimport ProvenanceBadge from \"./ProvenanceBadge\";\nimport ProvenanceLink from \"./ProvenanceLink\";\n\nconst ProvenanceStrip: React.FC<ProvenanceStripProps> = ({\n  runId,\n  msPath,\n  calTable,\n  calUrl,\n  pointingDecDeg,\n  pointingRaDeg,\n  qaGrade,\n  qaSummary,\n  logsUrl,\n  qaUrl,\n  msUrl,\n  imageUrl,\n  createdAt,\n}) => {\n  const renderLink = (label: string, value: string, url?: string) => (\n    <span className=\"provenance-item\">\n      <strong>{label}</strong>{\" \"}\n      {url ? (\n        <a href={url} target=\"_blank\" rel=\"noreferrer\">\n          {value}\n        </a>\n      ) : (\n        value\n      )}\n    </span>\n  );\n\n  const safeBasename = (value?: string) => (value ? value.split(\"/\").pop() || value : undefined);\n\n  const hasPointing = pointingRaDeg !== undefined || pointingDecDeg !== undefined;\n  const pointingRa =\n    pointingRaDeg !== undefined && pointingRaDeg !== null ? formatRA(pointingRaDeg) : \"unknown\";\n  const pointingDec =\n    pointingDecDeg !== undefined && pointingDecDeg !== null ? formatDec(pointingDecDeg) : \"unknown\";\n\n  return (\n    <div\n      className=\"provenance-strip\"\n      style={{\n        display: \"flex\",\n        gap: \"12px\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        fontSize: \"0.95rem\",\n      }}\n    >\n      {runId && renderLink(\"Run:\", runId, logsUrl)}\n      {msPath && renderLink(\"MS:\", safeBasename(msPath) as string, msUrl)}\n      {calTable && renderLink(\"Cal:\", safeBasename(calTable) as string, calUrl)}\n      {imageUrl && renderLink(\"Image:\", safeBasename(imageUrl) as string, imageUrl)}\n      {hasPointing && (\n        <span className=\"provenance-item\">\n          <strong>Pointing:</strong> RA {pointingRa}, Dec {pointingDec}\n        </span>\n      )}\n      {qaGrade && (\n        <span\n          className=\"provenance-item\"\n          style={{ display: \"flex\", alignItems: \"center\", gap: \"6px\" }}\n        >\n          <strong>QA:</strong> <ProvenanceBadge qaGrade={qaGrade} qaSummary={qaSummary} />\n          {qaSummary && <span style={{ color: \"#666\" }}>{qaSummary}</span>}\n          {qaUrl && <ProvenanceLink qaUrl={qaUrl} />}\n        </span>\n      )}\n      {createdAt && (\n        <span className=\"provenance-item\">\n          <strong>Created:</strong> {relativeTime(createdAt)}\n        </span>\n      )}\n      {/* Optional logs link if not already shown via runId */}\n      {!runId && logsUrl && <ProvenanceLink logsUrl={logsUrl} />}\n    </div>\n  );\n};\n\nexport default ProvenanceStrip;\n","import type { ErrorSeverity } from \"../types/errors\";\n\n/**\n * Error mapping entry for UI display.\n * Uses plain language—avoid jargon (e.g., use \"Service paused\" instead of \"circuit open\").\n */\nexport interface ErrorMapping {\n  user_message: string;\n  action: string;\n  severity: ErrorSeverity;\n  doc_anchor?: string;\n}\n\n/**\n * Error code to UI mapping table.\n * Codes are UPPER_SNAKE and stable across releases.\n */\nexport const errorMappings: Record<string, ErrorMapping> = {\n  CAL_TABLE_MISSING: {\n    user_message: \"Calibration table not found for this Measurement Set\",\n    action: \"Re-run calibration or choose an existing table\",\n    severity: \"warn\",\n    doc_anchor: \"calibration_missing_table\",\n  },\n  CAL_APPLY_FAILED: {\n    user_message: \"Calibration apply failed\",\n    action: \"Inspect cal logs; retry apply\",\n    severity: \"error\",\n    doc_anchor: \"calibration_apply_failed\",\n  },\n  IMAGE_CLEAN_FAILED: {\n    user_message: \"Imaging step failed\",\n    action: \"Check imaging parameters; retry\",\n    severity: \"error\",\n    doc_anchor: \"imaging_tclean_failed\",\n  },\n  PHOTOMETRY_BAD_COORDS: {\n    user_message: \"Invalid coordinates for photometry\",\n    action: \"Verify RA/Dec or region selection\",\n    severity: \"warn\",\n    doc_anchor: \"photometry_bad_coords\",\n  },\n  MS_NOT_FOUND: {\n    user_message: \"Measurement Set not found\",\n    action: \"Confirm path exists; rescan MS directory\",\n    severity: \"error\",\n    doc_anchor: \"ms_not_found\",\n  },\n  PRODUCTS_DB_UNAVAILABLE: {\n    user_message: \"Products database unavailable\",\n    action: \"Check DB path/permissions; retry\",\n    severity: \"error\",\n    doc_anchor: \"db_unavailable\",\n  },\n  STREAMING_STALE_STATUS: {\n    user_message: \"Streaming status is stale\",\n    action: \"Verify streaming service is running\",\n    severity: \"warn\",\n    doc_anchor: \"streaming_stale\",\n  },\n  ABSURD_DISABLED: {\n    user_message: \"Task queue service is disabled\",\n    action: \"Enable queue service or proceed without it\",\n    severity: \"info\",\n  },\n  RATE_LIMITED: {\n    user_message: \"Too many requests\",\n    action: \"Wait and retry; reduce polling\",\n    severity: \"warn\",\n  },\n  VALIDATION_FAILED: {\n    user_message: \"Input validation failed\",\n    action: \"Fix highlighted fields and retry\",\n    severity: \"warn\",\n  },\n  NETWORK_ERROR: {\n    user_message: \"Unable to reach the server\",\n    action: \"Check your connection and try again\",\n    severity: \"error\",\n  },\n};\n","import { errorMappings, type ErrorMapping } from \"../constants/errorMappings\";\nimport type { ErrorResponse, MappedError } from \"../types/errors\";\n\nconst FALLBACK_ERROR: ErrorMapping = {\n  user_message: \"Request failed\",\n  action: \"Please try again later\",\n  severity: \"error\",\n};\n\n/**\n * Normalize backend error responses into a consistent shape for the UI.\n * Uses plain language and keeps the remediation action close to the message.\n *\n * @param errorResponse - Partial error response from the backend\n * @returns MappedError ready for UI display\n */\nexport const mapErrorResponse = (errorResponse: Partial<ErrorResponse> = {}): MappedError => {\n  const mapping = errorResponse.code ? errorMappings[errorResponse.code] : undefined;\n  const base = mapping ?? FALLBACK_ERROR;\n\n  return {\n    user_message: base.user_message,\n    action: base.action,\n    severity: base.severity,\n    ref_id: errorResponse.ref_id,\n    details: errorResponse.details,\n    trace_id: errorResponse.trace_id,\n    // Prefer mapped doc anchor, otherwise pass through provided value\n    doc_anchor: mapping?.doc_anchor ?? errorResponse.doc_anchor,\n  };\n};\n","import React, { useState } from \"react\";\n\ninterface ErrorDetailsExpanderProps {\n  details: Record<string, unknown>;\n  traceId?: string;\n}\n\n/**\n * Expandable section for error details and trace ID.\n * Hidden when no content is available.\n */\nconst ErrorDetailsExpander: React.FC<ErrorDetailsExpanderProps> = ({ details, traceId }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const hasContent = Object.keys(details).length > 0 || traceId;\n  if (!hasContent) return null;\n\n  return (\n    <div className=\"error-details-expander\" style={{ marginTop: \"8px\" }}>\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        type=\"button\"\n        style={{\n          background: \"none\",\n          border: \"1px solid #ccc\",\n          padding: \"4px 8px\",\n          cursor: \"pointer\",\n          borderRadius: \"4px\",\n        }}\n      >\n        {isExpanded ? \"Hide Details\" : \"Show Details\"}\n      </button>\n      {isExpanded && (\n        <div className=\"error-details-content\" style={{ marginTop: \"8px\" }}>\n          {Object.keys(details).length > 0 && (\n            <pre\n              style={{\n                background: \"#f5f5f5\",\n                padding: \"8px\",\n                borderRadius: \"4px\",\n                overflow: \"auto\",\n              }}\n            >\n              {JSON.stringify(details, null, 2)}\n            </pre>\n          )}\n          {traceId && (\n            <p className=\"trace-id\" style={{ fontSize: \"0.85em\", color: \"#666\", marginTop: \"4px\" }}>\n              Trace ID: {traceId}\n            </p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ErrorDetailsExpander;\n","import React from \"react\";\n\ninterface ErrorActionHintProps {\n  refId?: string;\n  docAnchor?: string;\n}\n\n/**\n * Renders action links for error troubleshooting.\n * Shows \"View logs\" link when refId is available, and \"Troubleshoot\" link\n * when docAnchor is provided for documentation deep-linking.\n */\nconst ErrorActionHint: React.FC<ErrorActionHintProps> = ({ refId, docAnchor }) => {\n  if (!refId && !docAnchor) return null;\n\n  return (\n    <div className=\"error-action-hint\" style={{ display: \"flex\", gap: \"12px\", marginTop: \"8px\" }}>\n      {refId && (\n        <a href={`/logs/${refId}`} className=\"error-link\">\n          View logs\n        </a>\n      )}\n      {docAnchor && (\n        <a href={`/docs#${docAnchor}`} className=\"error-link\">\n          Troubleshoot\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default ErrorActionHint;\n","import React from \"react\";\nimport type { ErrorResponse } from \"../../types/errors\";\nimport { mapErrorResponse } from \"../../utils/errorMapper\";\nimport ErrorDetailsExpander from \"./ErrorDetailsExpander\";\nimport ErrorActionHint from \"./ErrorActionHint\";\n\ninterface ErrorDisplayProps {\n  error: ErrorResponse;\n  onRetry?: () => void;\n}\n\nconst severityStyles: Record<string, React.CSSProperties> = {\n  error: { borderLeftColor: \"#dc3545\" },\n  warn: { borderLeftColor: \"#ffc107\" },\n  info: { borderLeftColor: \"#17a2b8\" },\n};\n\n/**\n * Unified error display component.\n * Takes a raw ErrorResponse from the backend, maps it to user-friendly text,\n * and renders with severity-appropriate styling, expandable details, and action links.\n */\nconst ErrorDisplay: React.FC<ErrorDisplayProps> = ({ error, onRetry }) => {\n  const mapped = mapErrorResponse(error);\n\n  return (\n    <div\n      className=\"error-display\"\n      style={{\n        padding: \"16px\",\n        borderLeft: \"4px solid\",\n        backgroundColor: \"#f8f9fa\",\n        borderRadius: \"4px\",\n        ...severityStyles[mapped.severity],\n      }}\n    >\n      <h3 style={{ margin: \"0 0 8px\", fontSize: \"1.1em\" }}>{mapped.user_message}</h3>\n      <p style={{ margin: \"0 0 12px\", color: \"#666\" }}>{mapped.action}</p>\n      {mapped.details && (\n        <ErrorDetailsExpander details={mapped.details} traceId={mapped.trace_id} />\n      )}\n      <ErrorActionHint refId={mapped.ref_id} docAnchor={mapped.doc_anchor} />\n      {onRetry && (\n        <button\n          type=\"button\"\n          onClick={onRetry}\n          style={{\n            marginTop: \"12px\",\n            padding: \"8px 16px\",\n            backgroundColor: \"#0066cc\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n          }}\n        >\n          Retry\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default ErrorDisplay;\n","import React from \"react\";\n\nexport interface CardProps {\n  /** Card title */\n  title?: string;\n  /** Card subtitle or description (can be string or ReactNode for action buttons) */\n  subtitle?: React.ReactNode;\n  /** Card content */\n  children: React.ReactNode;\n  /** Additional CSS classes */\n  className?: string;\n  /** Header actions (buttons, links) */\n  actions?: React.ReactNode;\n  /** Padding size */\n  padding?: \"none\" | \"sm\" | \"md\" | \"lg\";\n  /** Show hover effect */\n  hoverable?: boolean;\n}\n\nconst paddingClasses = {\n  none: \"\",\n  sm: \"p-3\",\n  md: \"p-4\",\n  lg: \"p-6\",\n};\n\n/**\n * A card component for grouping related content.\n */\nconst Card: React.FC<CardProps> = ({\n  title,\n  subtitle,\n  children,\n  className = \"\",\n  actions,\n  padding = \"md\",\n  hoverable = false,\n}) => {\n  return (\n    <div\n      className={`card ${paddingClasses[padding]} ${\n        hoverable ? \"hover:shadow-md transition-shadow cursor-pointer\" : \"\"\n      } ${className}`}\n    >\n      {(title || actions) && (\n        <div className=\"flex items-start justify-between mb-3\">\n          <div>\n            {title && <h3 className=\"font-semibold text-gray-900\">{title}</h3>}\n            {subtitle && <p className=\"text-sm text-gray-500 mt-0.5\">{subtitle}</p>}\n          </div>\n          {actions && <div className=\"flex items-center gap-2\">{actions}</div>}\n        </div>\n      )}\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState } from \"react\";\nimport { formatRA, formatDec, formatDegrees } from \"../../utils/coordinateFormatter\";\n\nexport interface CoordinateDisplayProps {\n  /** Right Ascension in decimal degrees */\n  raDeg: number;\n  /** Declination in decimal degrees */\n  decDeg: number;\n  /** Show decimal degrees alongside HMS/DMS */\n  showDecimal?: boolean;\n  /** Compact single-line display */\n  compact?: boolean;\n  /** Label for the coordinates */\n  label?: string;\n  /** Enable format toggle button */\n  allowFormatToggle?: boolean;\n}\n\n/**\n * Display astronomical coordinates in both HMS/DMS and decimal formats.\n * Optionally allows toggling between formats.\n */\nconst CoordinateDisplay: React.FC<CoordinateDisplayProps> = ({\n  raDeg,\n  decDeg,\n  showDecimal = true,\n  compact = false,\n  label,\n  allowFormatToggle = false,\n}) => {\n  const [showHMS, setShowHMS] = useState(true);\n\n  const raHMS = formatRA(raDeg);\n  const decDMS = formatDec(decDeg);\n\n  if (compact) {\n    return (\n      <div className=\"font-mono text-sm\">\n        {label && <span className=\"text-gray-500 mr-2\">{label}:</span>}\n        {showHMS ? (\n          <>\n            <span className=\"text-gray-900\">{raHMS}</span>\n            <span className=\"text-gray-400 mx-1\">,</span>\n            <span className=\"text-gray-900\">{decDMS}</span>\n          </>\n        ) : (\n          <>\n            <span className=\"text-gray-900\">{formatDegrees(raDeg, 6)}</span>\n            <span className=\"text-gray-400 mx-1\">,</span>\n            <span className=\"text-gray-900\">{formatDegrees(decDeg, 6)}</span>\n          </>\n        )}\n        {allowFormatToggle && (\n          <button\n            type=\"button\"\n            onClick={() => setShowHMS(!showHMS)}\n            className=\"ml-2 text-xs text-blue-600 hover:text-blue-800\"\n            title={showHMS ? \"Switch to decimal degrees\" : \"Switch to HMS/DMS\"}\n          >\n            Toggle\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      {(label || allowFormatToggle) && (\n        <div className=\"flex items-center justify-between\">\n          {label && <div className=\"text-xs text-gray-500 uppercase tracking-wide\">{label}</div>}\n          {allowFormatToggle && (\n            <button\n              type=\"button\"\n              onClick={() => setShowHMS(!showHMS)}\n              className=\"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors\"\n              title={showHMS ? \"Switch to decimal degrees\" : \"Switch to HMS/DMS\"}\n            >\n              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"\n                />\n              </svg>\n              {showHMS ? \"Decimal\" : \"HMS/DMS\"}\n            </button>\n          )}\n        </div>\n      )}\n      <div className=\"grid grid-cols-2 gap-4\">\n        {/* RA */}\n        <div>\n          <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Right Ascension</div>\n          {showHMS ? (\n            <>\n              <div className=\"font-mono text-sm text-gray-900\">{raHMS}</div>\n              {showDecimal && (\n                <div className=\"font-mono text-xs text-gray-500\">{formatDegrees(raDeg, 6)}</div>\n              )}\n            </>\n          ) : (\n            <>\n              <div className=\"font-mono text-sm text-gray-900\">{formatDegrees(raDeg, 6)}</div>\n              {showDecimal && <div className=\"font-mono text-xs text-gray-500\">{raHMS}</div>}\n            </>\n          )}\n        </div>\n        {/* Dec */}\n        <div>\n          <div className=\"text-xs text-gray-500 uppercase tracking-wide\">Declination</div>\n          {showHMS ? (\n            <>\n              <div className=\"font-mono text-sm text-gray-900\">{decDMS}</div>\n              {showDecimal && (\n                <div className=\"font-mono text-xs text-gray-500\">{formatDegrees(decDeg, 6)}</div>\n              )}\n            </>\n          ) : (\n            <>\n              <div className=\"font-mono text-sm text-gray-900\">{formatDegrees(decDeg, 6)}</div>\n              {showDecimal && <div className=\"font-mono text-xs text-gray-500\">{decDMS}</div>}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoordinateDisplay;\n"],"names":["formatRA","raDeg","precision","totalHours","hours","totalMinutes","minutes","seconds","formatDec","decDeg","sign","absDec","degrees","totalArcmin","arcmin","arcsec","formatDegrees","deg","ProvenanceBadge","qaGrade","qaSummary","getBadgeClass","ProvenanceLink","logsUrl","qaUrl","jsx","ProvenanceStrip","runId","msPath","calTable","calUrl","pointingDecDeg","pointingRaDeg","msUrl","imageUrl","createdAt","renderLink","label","value","url","jsxs","safeBasename","hasPointing","pointingRa","pointingDec","relativeTime","errorMappings","FALLBACK_ERROR","mapErrorResponse","errorResponse","mapping","base","ErrorDetailsExpander","details","traceId","isExpanded","setIsExpanded","useState","ErrorActionHint","refId","docAnchor","severityStyles","ErrorDisplay","error","onRetry","mapped","paddingClasses","Card","title","subtitle","children","className","actions","padding","hoverable","CoordinateDisplay","showDecimal","compact","allowFormatToggle","showHMS","setShowHMS","raHMS","decDMS","Fragment"],"mappings":"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"}