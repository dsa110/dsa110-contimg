import{r as o,j as e,L as O}from"./index-a6McjROp.js";import{u as H}from"./useQueries-Cs64MlL7.js";import{a as D,L as K}from"./appStore-B5qSIe6K.js";import{u as Q,S as A}from"./SortableTableHeader-B2zAa41v.js";import{F as W}from"./FitsViewer-BiW3O_zn.js";const X=({min:s,max:n,minValue:h,maxValue:y,step:c=1,label:x,unit:b="",onChange:d,onChangeComplete:g,showInputs:C=!0,histogram:f,className:N="",decimals:m=2,disabled:j=!1,formatValue:v})=>{const[l,t]=o.useState(h??s),[a,i]=o.useState(y??n),[u,M]=o.useState(null),z=o.useRef(null);o.useEffect(()=>{h!==void 0&&t(h),y!==void 0&&i(y)},[h,y]);const _=o.useCallback(p=>v?v(p):p.toFixed(m),[v,m]),r=o.useCallback(p=>(p-s)/(n-s)*100,[s,n]),k=o.useCallback(p=>{const w=s+p/100*(n-s),S=Math.round(w/c)*c;return Math.max(s,Math.min(n,S))},[s,n,c]),$=o.useCallback(p=>{if(j||!z.current)return;const w=z.current.getBoundingClientRect(),S=(p.clientX-w.left)/w.width*100,F=k(S),L=Math.abs(F-l),T=Math.abs(F-a);if(L<=T){const J=Math.min(F,a-c);t(J),d?.(J,a),g?.(J,a)}else{const J=Math.max(F,l+c);i(J),d?.(l,J),g?.(l,J)}},[j,k,l,a,c,d,g]),G=o.useCallback(p=>{const w=Math.min(parseFloat(p.target.value)||s,a-c);t(w),d?.(w,a)},[s,a,c,d]),E=o.useCallback(p=>{const w=Math.max(parseFloat(p.target.value)||n,l+c);i(w),d?.(l,w)},[n,l,c,d]),I=o.useCallback(()=>{g?.(l,a)},[l,a,g]),R=o.useCallback(p=>{const w=parseFloat(p.target.value),S=Math.min(w,a-c);t(S),d?.(S,a)},[a,c,d]),B=o.useCallback(p=>{const w=parseFloat(p.target.value),S=Math.max(w,l+c);i(S),d?.(l,S)},[l,c,d]),V=o.useCallback(()=>{M(null),g?.(l,a)},[l,a,g]),q=o.useCallback(()=>{t(s),i(n),d?.(s,n),g?.(s,n)},[s,n,d,g]),P=r(l),Z=r(a);return e.jsxs("div",{className:`space-y-2 ${N}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[x&&e.jsx("span",{className:"text-sm font-medium text-gray-700",children:x}),e.jsx("button",{type:"button",onClick:q,disabled:j,className:"text-xs text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:"Reset"})]}),f&&f.length>0&&e.jsx("div",{className:"h-8 flex items-end gap-px",children:f.map((p,w)=>{const S=Math.max(...f),F=S>0?p/S*100:0,L=s+w/f.length*(n-s),J=s+(w+1)/f.length*(n-s)>=l&&L<=a;return e.jsx("div",{className:`flex-1 rounded-t transition-colors ${J?"bg-blue-400":"bg-gray-300"}`,style:{height:`${F}%`,minHeight:p>0?"2px":"0"}},w)})}),e.jsxs("div",{className:"relative h-6 flex items-center",children:[e.jsx("div",{ref:z,className:"absolute w-full h-2 bg-gray-200 rounded-full cursor-pointer",onClick:$,children:e.jsx("div",{className:"absolute h-full bg-blue-500 rounded-full",style:{left:`${P}%`,width:`${Z-P}%`}})}),e.jsx("input",{type:"range",min:s,max:n,step:c,value:l,onChange:R,onMouseUp:V,onTouchEnd:V,onMouseDown:()=>M("min"),disabled:j,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:u==="min"?2:1}}),e.jsx("input",{type:"range",min:s,max:n,step:c,value:a,onChange:B,onMouseUp:V,onTouchEnd:V,onMouseDown:()=>M("max"),disabled:j,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:u==="max"?2:1}})]}),C?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Minimum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:s,max:a-c,step:c,value:l,onChange:G,onBlur:I,disabled:j,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),b&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:b})]})]}),e.jsx("span",{className:"text-gray-400",children:"—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Maximum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:l+c,max:n,step:c,value:a,onChange:E,onBlur:I,disabled:j,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),b&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:b})]})]})]}):e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[_(l),b&&` ${b}`]}),e.jsxs("span",{children:[_(a),b&&` ${b}`]})]})]})},Y=({fitsUrls:s,columns:n=2,viewerSize:h=300,syncViews:y=!0,labels:c,onCoordinateClick:x,className:b=""})=>{const[d,g]=o.useState(0),[C,f]=o.useState(y),[N,m]=o.useState({}),j=o.useCallback(()=>{if(!C||!window.JS9)return;const t="JS9Grid_0";try{const a=window.JS9.GetZoom({display:t}),i=window.JS9.GetPan({display:t});if(a&&i)for(let u=1;u<s.length;u++){const M=`JS9Grid_${u}`;window.JS9.SetZoom(a,{display:M}),window.JS9.SetPan(i.x,i.y,{display:M})}}catch(a){console.warn("Failed to sync views:",a)}},[syncViews,s.length]);o.useEffect(()=>{if(!C||d<s.length)return;const t=()=>{j()};return window.JS9&&(window.JS9.SetCallback("onzoom",t,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",t,{display:"JS9Grid_0"})),()=>{window.JS9&&(window.JS9.SetCallback("onzoom",null,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",null,{display:"JS9Grid_0"}))}},[syncViews,d,s.length,j]);const v=()=>{g(t=>t+1)},l=()=>{switch(n){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";default:return"grid-cols-2"}};return s.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No FITS files to display"}):e.jsxs("div",{className:b,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[d,"/",s.length," images loaded"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:t=>f(t.target.checked),className:"w-4 h-4 rounded accent-primary"}),e.jsx("span",{children:"Sync views"})]})]}),e.jsx("div",{className:`grid ${l()} gap-4`,children:s.map((t,a)=>e.jsxs("div",{className:"relative",children:[c&&c[a]&&e.jsx("div",{className:"absolute top-2 left-2 z-10 bg-black/70 text-white text-xs px-2 py-1 rounded",children:c[a]}),e.jsx(W,{fitsUrl:t,displayId:`JS9Grid_${a}`,width:h,height:h,showControls:!1,onLoad:v,onCoordinateClick:x?(i,u)=>x(i,u,a):void 0})]},`${t}-${a}`))}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grid Controls:"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("tofit",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Fit All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("in",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom In All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("out",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom Out All"}),e.jsxs("select",{onChange:t=>{if(window.JS9&&t.target.value)for(let a=0;a<s.length;a++)window.JS9.SetColormap(t.target.value,{display:`JS9Grid_${a}`})},className:"px-2 py-1 text-sm border border-gray-300 rounded",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Color map..."}),e.jsx("option",{value:"grey",children:"Grey"}),e.jsx("option",{value:"heat",children:"Heat"}),e.jsx("option",{value:"cool",children:"Cool"}),e.jsx("option",{value:"viridis",children:"Viridis"}),e.jsx("option",{value:"rainbow",children:"Rainbow"})]})]})})]})},U=[{value:"fits",label:"FITS"},{value:"csv",label:"CSV"},{value:"json",label:"JSON"},{value:"zip",label:"ZIP Archive"}],ee=({items:s,selectedIds:n,onSelectionChange:h,onDownload:y,className:c="",disabled:x=!1})=>{const[b,d]=o.useState("fits"),[g,C]=o.useState(!1),f=o.useCallback(()=>{n.length===s.length?h([]):h(s.map(l=>l.id))},[s,n.length,h]),N=o.useCallback(l=>{n.includes(l)?h(n.filter(t=>t!==l)):h([...n,l])},[n,h]),m=o.useCallback(async()=>{if(n.length!==0){C(!0);try{await y(n,b)}finally{C(!1)}}},[n,b,y]),j=n.length===s.length&&s.length>0,v=n.length>0&&n.length<s.length;return e.jsxs("div",{className:`card ${c}`,children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Bulk Download"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," of ",s.length," selected"]})]}),e.jsxs("div",{className:"card-body space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,ref:l=>{l&&(l.indeterminate=v)},onChange:f,disabled:x||s.length===0,className:"w-4 h-4 text-vast-green rounded border-gray-300 focus:ring-vast-green"}),e.jsx("span",{className:"text-sm",children:"Select All"})]}),n.length>0&&e.jsx("button",{onClick:()=>h([]),className:"text-sm text-gray-500 hover:text-red-500",children:"Clear selection"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:U.map(l=>e.jsx("button",{onClick:()=>d(l.value),disabled:x,className:`py-2 px-3 rounded-md text-sm font-medium transition-all ${b===l.value?"bg-vast-green text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l.label},l.value))})]}),n.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected items:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.slice(0,10).map(l=>{const t=s.find(a=>a.id===l);return e.jsxs("span",{className:"badge badge-secondary flex items-center gap-1",children:[t?.name||l,e.jsx("button",{onClick:()=>N(l),className:"hover:text-red-500",children:"×"})]},l)}),n.length>10&&e.jsxs("span",{className:"badge badge-info",children:["+",n.length-10," more"]})]})]}),e.jsx("button",{onClick:m,disabled:x||n.length===0||g,className:"btn btn-primary w-full",children:g?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Preparing Download..."]}):e.jsxs(e.Fragment,{children:["Download ",n.length," item",n.length!==1?"s":""," as"," ",b.toUpperCase()]})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b==="fits"&&"Download raw FITS files individually.",b==="csv"&&"Export metadata as CSV spreadsheet.",b==="json"&&"Export metadata as JSON.",b==="zip"&&"Download all files in a single ZIP archive."]})]})]})},te=({filters:s,values:n,onChange:h,title:y="Filters",collapsible:c=!0,defaultCollapsed:x=!1,className:b=""})=>{const[d,g]=o.useState(x),[C,f]=o.useState({}),N=o.useCallback((t,a)=>{h({...n,[t]:a})},[n,h]),m=o.useCallback((t,a,i)=>{h({...n,[t]:[a,i]})},[n,h]),j=o.useCallback(()=>{const t={};s.forEach(a=>{a.defaultValue!==void 0&&(t[a.id]=a.defaultValue)}),h(t)},[s,h]);o.useCallback(t=>{f(a=>({...a,[t]:!a[t]}))},[]);const v=o.useMemo(()=>Object.entries(n).filter(([t,a])=>{const i=s.find(u=>u.id===t);return i?i.type==="range"&&Array.isArray(a)?a[0]!==i.min||a[1]!==i.max:i.defaultValue!==void 0?a!==i.defaultValue:a!==void 0&&a!==""&&a!==!1:!1}).length,[n,s]),l=t=>{const a=n[t.id];switch(t.type){case"range":{const i=Array.isArray(a)?a:[t.min??0,t.max??100];return e.jsx(X,{min:t.min??0,max:t.max??100,step:t.step??1,minValue:i[0],maxValue:i[1],label:t.label,unit:t.unit,histogram:t.histogram,onChange:(u,M)=>m(t.id,u,M),showInputs:!0},t.id)}case"select":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsxs("select",{value:String(a??""),onChange:i=>N(t.id,i.target.value||void 0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All"}),t.options?.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))]})]},t.id);case"checkbox":return e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!a,onChange:i=>N(t.id,i.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:t.label})]},t.id);case"text":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsx("input",{type:"text",value:String(a??""),onChange:i=>N(t.id,i.target.value||void 0),placeholder:`Filter by ${t.label.toLowerCase()}...`,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},t.id);default:return null}};return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${b}`,children:[e.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${c?"cursor-pointer hover:bg-gray-50":""} ${d?"":"border-b border-gray-200"}`,onClick:c?()=>g(!d):void 0,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c&&e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${d?"":"rotate-90"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y}),v>0&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-blue-700 bg-blue-100 rounded-full",children:v})]}),!d&&v>0&&e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),j()},className:"text-xs text-blue-600 hover:text-blue-800",children:"Reset all"})]}),!d&&e.jsx("div",{className:"p-4 space-y-4",children:s.map(t=>l(t))})]})},oe=()=>{const{data:s,isLoading:n,error:h}=H(),[y,c]=o.useState("list"),[x,b]=o.useState({}),d=[{id:"qa_grade",label:"QA Grade",type:"select",options:[{value:"good",label:"Good"},{value:"warn",label:"Warning"},{value:"fail",label:"Fail"}]},{id:"search",label:"Search",type:"text"}],g=D(r=>r.selectedImages),C=D(r=>r.toggleImageSelection),f=D(r=>r.selectAllImages),N=D(r=>r.clearImageSelection),m=o.useMemo(()=>Array.from(g),[g]),j=o.useCallback(r=>{r.length===0?N():f(r)},[N,f]),v=o.useCallback(async(r,k)=>{const G=`https://ronnie-unsectarian-antone.ngrok-free.dev/api/images/bulk-download?ids=${r.join(",")}&format=${k}`;window.open(G,"_blank")},[]),l=o.useMemo(()=>{if(!s)return[];let r=s;if(x.qa_grade&&(r=r.filter(k=>k.qa_grade===x.qa_grade)),x.search&&typeof x.search=="string"){const k=x.search.toLowerCase();r=r.filter($=>$.path?.toLowerCase().includes(k)||$.id.toLowerCase().includes(k))}return r},[s,x]),{sortColumn:t,sortDirection:a,handleSort:i,sortedData:u}=Q(l,"created_at","desc");if(n)return e.jsx(K,{label:"Loading images..."});if(h)return e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Failed to load images: ",h.message]});const M=o.useMemo(()=>u.map(r=>({id:r.id,name:r.path?.split("/").pop()||r.id,type:"FITS"})),[u]),z=o.useMemo(()=>{const r="https://ronnie-unsectarian-antone.ngrok-free.dev/api";return m.map(k=>`${r}/images/${k}/fits`)},[m]),_=o.useMemo(()=>m.map(r=>u.find($=>$.id===r)?.path?.split("/").pop()||r),[m,u]);return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Images"}),m.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[m.length," selected"]})]}),e.jsx("div",{className:"flex gap-2",children:m.length>=2&&m.length<=4&&e.jsx("button",{onClick:()=>c(y==="compare"?"list":"compare"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="compare"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y==="compare"?"Back to List":"Compare Selected"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(te,{filters:d,values:x,onChange:b,title:"Filter Images",collapsible:!0,defaultCollapsed:!0})}),y==="compare"&&m.length>=2&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Image Comparison"}),e.jsx(Y,{fitsUrls:z,labels:_,columns:m.length<=2?2:m.length<=3?3:4,viewerSize:350,syncViews:!0})]})}),u.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(ee,{items:M,selectedIds:m,onSelectionChange:j,onDownload:v})}),u&&u.length>0?e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3",children:e.jsx("input",{type:"checkbox",checked:m.length===u.length&&u.length>0,ref:r=>{r&&(r.indeterminate=m.length>0&&m.length<u.length)},onChange:()=>{m.length===u.length?N():f(u.map(r=>r.id))},className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx(A,{columnKey:"path",sortColumn:t,sortDirection:a,onSort:i,children:"Name"}),e.jsx(A,{columnKey:"qa_grade",sortColumn:t,sortDirection:a,onSort:i,className:"text-center",children:"QA Grade"}),e.jsx(A,{columnKey:"created_at",sortColumn:t,sortDirection:a,onSort:i,className:"text-right",children:"Created"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(r=>e.jsxs("tr",{className:g.has(r.id)?"bg-blue-50":"",children:[e.jsx("td",{className:"px-3",children:e.jsx("input",{type:"checkbox",checked:g.has(r.id),onChange:()=>C(r.id),className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx("td",{children:e.jsx(O,{to:`/images/${r.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:r.path?.split("/").pop()||r.id})}),e.jsx("td",{className:"text-center",children:r.qa_grade&&e.jsx("span",{className:`badge ${r.qa_grade==="good"?"badge-success":r.qa_grade==="warn"?"badge-warning":"badge-error"}`,children:r.qa_grade})}),e.jsx("td",{className:"text-right text-gray-500",children:r.created_at?new Date(r.created_at).toLocaleDateString():"—"})]},r.id))})]})}):e.jsx("p",{className:"text-gray-500",children:"No images found."})]})};export{oe as default};
//# sourceMappingURL=ImagesListPage-B229TgtW.js.map
