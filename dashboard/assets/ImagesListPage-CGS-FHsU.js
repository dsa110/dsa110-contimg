import{r as o,j as e,L as K}from"./index-OmGnwQrq.js";import{u as O}from"./useQueries-DEjbVMP-.js";import{a as D,L as H}from"./appStore-Bkj0V0NB.js";import{u as Q,S as I}from"./SortableTableHeader-D2ZGgSnO.js";import{F as W}from"./FitsViewer-D91LrILI.js";import"./aladin-xl9YHuqu.js";import"./echarts-COlWhqYE.js";const X=({min:a,max:r,minValue:u,maxValue:p,step:i=1,label:j,unit:h="",onChange:d,onChangeComplete:g,showInputs:w=!0,histogram:N,className:M="",decimals:S=2,disabled:y=!1,formatValue:v})=>{const[l,t]=o.useState(u??a),[s,c]=o.useState(p??r),[f,m]=o.useState(null),z=o.useRef(null);o.useEffect(()=>{u!==void 0&&t(u),p!==void 0&&c(p)},[u,p]);const _=o.useCallback(b=>v?v(b):b.toFixed(S),[v,S]),V=o.useCallback(b=>(b-a)/(r-a)*100,[a,r]),n=o.useCallback(b=>{const x=a+b/100*(r-a),k=Math.round(x/i)*i;return Math.max(a,Math.min(r,k))},[a,r,i]),C=o.useCallback(b=>{if(y||!z.current)return;const x=z.current.getBoundingClientRect(),k=(b.clientX-x.left)/x.width*100,F=n(k),A=Math.abs(F-l),E=Math.abs(F-s);if(A<=E){const J=Math.min(F,s-i);t(J),d?.(J,s),g?.(J,s)}else{const J=Math.max(F,l+i);c(J),d?.(l,J),g?.(l,J)}},[y,n,l,s,i,d,g]),$=o.useCallback(b=>{const x=Math.min(parseFloat(b.target.value)||a,s-i);t(x),d?.(x,s)},[a,s,i,d]),L=o.useCallback(b=>{const x=Math.max(parseFloat(b.target.value)||r,l+i);c(x),d?.(l,x)},[r,l,i,d]),P=o.useCallback(()=>{g?.(l,s)},[l,s,g]),R=o.useCallback(b=>{const x=parseFloat(b.target.value),k=Math.min(x,s-i);t(k),d?.(k,s)},[s,i,d]),B=o.useCallback(b=>{const x=parseFloat(b.target.value),k=Math.max(x,l+i);c(k),d?.(l,k)},[l,i,d]),G=o.useCallback(()=>{m(null),g?.(l,s)},[l,s,g]),q=o.useCallback(()=>{t(a),c(r),d?.(a,r),g?.(a,r)},[a,r,d,g]),T=V(l),Z=V(s);return e.jsxs("div",{className:`space-y-2 ${M}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[j&&e.jsx("span",{className:"text-sm font-medium text-gray-700",children:j}),e.jsx("button",{type:"button",onClick:q,disabled:y,className:"text-xs text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:"Reset"})]}),N&&N.length>0&&e.jsx("div",{className:"h-8 flex items-end gap-px",children:N.map((b,x)=>{const k=Math.max(...N),F=k>0?b/k*100:0,A=a+x/N.length*(r-a),J=a+(x+1)/N.length*(r-a)>=l&&A<=s;return e.jsx("div",{className:`flex-1 rounded-t transition-colors ${J?"bg-blue-400":"bg-gray-300"}`,style:{height:`${F}%`,minHeight:b>0?"2px":"0"}},x)})}),e.jsxs("div",{className:"relative h-6 flex items-center",children:[e.jsx("div",{ref:z,className:"absolute w-full h-2 bg-gray-200 rounded-full cursor-pointer",onClick:C,children:e.jsx("div",{className:"absolute h-full bg-blue-500 rounded-full",style:{left:`${T}%`,width:`${Z-T}%`}})}),e.jsx("input",{type:"range",min:a,max:r,step:i,value:l,onChange:R,onMouseUp:G,onTouchEnd:G,onMouseDown:()=>m("min"),disabled:y,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:f==="min"?2:1}}),e.jsx("input",{type:"range",min:a,max:r,step:i,value:s,onChange:B,onMouseUp:G,onTouchEnd:G,onMouseDown:()=>m("max"),disabled:y,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:f==="max"?2:1}})]}),w?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Minimum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:a,max:s-i,step:i,value:l,onChange:$,onBlur:P,disabled:y,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),h&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:h})]})]}),e.jsx("span",{className:"text-gray-400",children:"—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Maximum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:l+i,max:r,step:i,value:s,onChange:L,onBlur:P,disabled:y,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),h&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:h})]})]})]}):e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[_(l),h&&` ${h}`]}),e.jsxs("span",{children:[_(s),h&&` ${h}`]})]})]})},Y=({fitsUrls:a,columns:r=2,viewerSize:u=300,syncViews:p=!0,labels:i,onCoordinateClick:j,className:h=""})=>{const[d,g]=o.useState(0),[w,N]=o.useState(p),[M,S]=o.useState({}),y=o.useCallback(()=>{if(!w||!window.JS9)return;const t="JS9Grid_0";try{const s=window.JS9.GetZoom({display:t}),c=window.JS9.GetPan({display:t});if(s&&c)for(let f=1;f<a.length;f++){const m=`JS9Grid_${f}`;window.JS9.SetZoom(s,{display:m}),window.JS9.SetPan(c.x,c.y,{display:m})}}catch(s){console.warn("Failed to sync views:",s)}},[syncViews,a.length]);o.useEffect(()=>{if(!w||d<a.length)return;const t=()=>{y()};return window.JS9&&(window.JS9.SetCallback("onzoom",t,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",t,{display:"JS9Grid_0"})),()=>{window.JS9&&(window.JS9.SetCallback("onzoom",null,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",null,{display:"JS9Grid_0"}))}},[syncViews,d,a.length,y]);const v=()=>{g(t=>t+1)},l=()=>{switch(r){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";default:return"grid-cols-2"}};return a.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No FITS files to display"}):e.jsxs("div",{className:h,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[d,"/",a.length," images loaded"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:t=>N(t.target.checked),className:"w-4 h-4 rounded accent-primary"}),e.jsx("span",{children:"Sync views"})]})]}),e.jsx("div",{className:`grid ${l()} gap-4`,children:a.map((t,s)=>e.jsxs("div",{className:"relative",children:[i&&i[s]&&e.jsx("div",{className:"absolute top-2 left-2 z-10 bg-black/70 text-white text-xs px-2 py-1 rounded",children:i[s]}),e.jsx(W,{fitsUrl:t,displayId:`JS9Grid_${s}`,width:u,height:u,showControls:!1,onLoad:v,onCoordinateClick:j?(c,f)=>j(c,f,s):void 0})]},`${t}-${s}`))}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grid Controls:"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<a.length;t++)window.JS9.SetZoom("tofit",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Fit All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<a.length;t++)window.JS9.SetZoom("in",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom In All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<a.length;t++)window.JS9.SetZoom("out",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom Out All"}),e.jsxs("select",{onChange:t=>{if(window.JS9&&t.target.value)for(let s=0;s<a.length;s++)window.JS9.SetColormap(t.target.value,{display:`JS9Grid_${s}`})},className:"px-2 py-1 text-sm border border-gray-300 rounded",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Color map..."}),e.jsx("option",{value:"grey",children:"Grey"}),e.jsx("option",{value:"heat",children:"Heat"}),e.jsx("option",{value:"cool",children:"Cool"}),e.jsx("option",{value:"viridis",children:"Viridis"}),e.jsx("option",{value:"rainbow",children:"Rainbow"})]})]})})]})},U=[{value:"fits",label:"FITS"},{value:"csv",label:"CSV"},{value:"json",label:"JSON"},{value:"zip",label:"ZIP Archive"}],ee=({items:a,selectedIds:r,onSelectionChange:u,onDownload:p,className:i="",disabled:j=!1})=>{const[h,d]=o.useState("fits"),[g,w]=o.useState(!1),N=o.useCallback(()=>{r.length===a.length?u([]):u(a.map(l=>l.id))},[a,r.length,u]),M=o.useCallback(l=>{r.includes(l)?u(r.filter(t=>t!==l)):u([...r,l])},[r,u]),S=o.useCallback(async()=>{if(r.length!==0){w(!0);try{await p(r,h)}finally{w(!1)}}},[r,h,p]),y=r.length===a.length&&a.length>0,v=r.length>0&&r.length<a.length;return e.jsxs("div",{className:`card ${i}`,children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Bulk Download"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," of ",a.length," selected"]})]}),e.jsxs("div",{className:"card-body space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,ref:l=>{l&&(l.indeterminate=v)},onChange:N,disabled:j||a.length===0,className:"w-4 h-4 text-vast-green rounded border-gray-300 focus:ring-vast-green"}),e.jsx("span",{className:"text-sm",children:"Select All"})]}),r.length>0&&e.jsx("button",{onClick:()=>u([]),className:"text-sm text-gray-500 hover:text-red-500",children:"Clear selection"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:U.map(l=>e.jsx("button",{onClick:()=>d(l.value),disabled:j,className:`py-2 px-3 rounded-md text-sm font-medium transition-all ${h===l.value?"bg-vast-green text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l.label},l.value))})]}),r.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected items:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,10).map(l=>{const t=a.find(s=>s.id===l);return e.jsxs("span",{className:"badge badge-secondary flex items-center gap-1",children:[t?.name||l,e.jsx("button",{onClick:()=>M(l),className:"hover:text-red-500",children:"×"})]},l)}),r.length>10&&e.jsxs("span",{className:"badge badge-info",children:["+",r.length-10," more"]})]})]}),e.jsx("button",{onClick:S,disabled:j||r.length===0||g,className:"btn btn-primary w-full",children:g?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Preparing Download..."]}):e.jsxs(e.Fragment,{children:["Download ",r.length," item",r.length!==1?"s":""," as"," ",h.toUpperCase()]})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[h==="fits"&&"Download raw FITS files individually.",h==="csv"&&"Export metadata as CSV spreadsheet.",h==="json"&&"Export metadata as JSON.",h==="zip"&&"Download all files in a single ZIP archive."]})]})]})},te=({filters:a,values:r,onChange:u,title:p="Filters",collapsible:i=!0,defaultCollapsed:j=!1,className:h=""})=>{const[d,g]=o.useState(j),[w,N]=o.useState({}),M=o.useCallback((t,s)=>{u({...r,[t]:s})},[r,u]),S=o.useCallback((t,s,c)=>{u({...r,[t]:[s,c]})},[r,u]),y=o.useCallback(()=>{const t={};a.forEach(s=>{s.defaultValue!==void 0&&(t[s.id]=s.defaultValue)}),u(t)},[a,u]);o.useCallback(t=>{N(s=>({...s,[t]:!s[t]}))},[]);const v=o.useMemo(()=>Object.entries(r).filter(([t,s])=>{const c=a.find(f=>f.id===t);return c?c.type==="range"&&Array.isArray(s)?s[0]!==c.min||s[1]!==c.max:c.defaultValue!==void 0?s!==c.defaultValue:s!==void 0&&s!==""&&s!==!1:!1}).length,[r,a]),l=t=>{const s=r[t.id];switch(t.type){case"range":{const c=Array.isArray(s)?s:[t.min??0,t.max??100];return e.jsx(X,{min:t.min??0,max:t.max??100,step:t.step??1,minValue:c[0],maxValue:c[1],label:t.label,unit:t.unit,histogram:t.histogram,onChange:(f,m)=>S(t.id,f,m),showInputs:!0},t.id)}case"select":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsxs("select",{value:String(s??""),onChange:c=>M(t.id,c.target.value||void 0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All"}),t.options?.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))]})]},t.id);case"checkbox":return e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!s,onChange:c=>M(t.id,c.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:t.label})]},t.id);case"text":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsx("input",{type:"text",value:String(s??""),onChange:c=>M(t.id,c.target.value||void 0),placeholder:`Filter by ${t.label.toLowerCase()}...`,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},t.id);default:return null}};return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${h}`,children:[e.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${i?"cursor-pointer hover:bg-gray-50":""} ${d?"":"border-b border-gray-200"}`,onClick:i?()=>g(!d):void 0,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${d?"":"rotate-90"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:p}),v>0&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-blue-700 bg-blue-100 rounded-full",children:v})]}),!d&&v>0&&e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),y()},className:"text-xs text-blue-600 hover:text-blue-800",children:"Reset all"})]}),!d&&e.jsx("div",{className:"p-4 space-y-4",children:a.map(t=>l(t))})]})},ce=()=>{const{data:a,isLoading:r,error:u}=O(),{sortKey:p,sortDirection:i,handleSort:j,sortItems:h}=Q("created_at","desc"),[d,g]=o.useState("list"),[w,N]=o.useState({}),M=[{id:"qa_grade",label:"QA Grade",type:"select",options:[{value:"good",label:"Good"},{value:"warn",label:"Warning"},{value:"fail",label:"Fail"}]},{id:"search",label:"Search",type:"text"}],S=D(n=>n.selectedImages),y=D(n=>n.toggleImageSelection),v=D(n=>n.selectAllImages),l=D(n=>n.clearImageSelection),t=o.useMemo(()=>Array.from(S),[S]),s=o.useCallback(n=>{n.length===0?l():v(n)},[l,v]),c=o.useCallback(async(n,C)=>{const L=`https://ronnie-unsectarian-antone.ngrok-free.dev/api/images/bulk-download?ids=${n.join(",")}&format=${C}`;window.open(L,"_blank")},[]),f=o.useMemo(()=>{if(!a)return[];let n=a;if(w.qa_grade&&(n=n.filter(C=>C.qa_grade===w.qa_grade)),w.search&&typeof w.search=="string"){const C=w.search.toLowerCase();n=n.filter($=>$.path?.toLowerCase().includes(C)||$.id.toLowerCase().includes(C))}return n},[a,w]),m=o.useMemo(()=>f?h(f,p,i):[],[f,p,i,h]);if(r)return e.jsx(H,{label:"Loading images..."});if(u)return e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Failed to load images: ",u.message]});const z=o.useMemo(()=>m.map(n=>({id:n.id,name:n.path?.split("/").pop()||n.id,type:"FITS"})),[m]),_=o.useMemo(()=>{const n="https://ronnie-unsectarian-antone.ngrok-free.dev/api";return t.map(C=>`${n}/images/${C}/fits`)},[t]),V=o.useMemo(()=>t.map(n=>m.find($=>$.id===n)?.path?.split("/").pop()||n),[t,m]);return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Images"}),t.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," selected"]})]}),e.jsx("div",{className:"flex gap-2",children:t.length>=2&&t.length<=4&&e.jsx("button",{onClick:()=>g(d==="compare"?"list":"compare"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d==="compare"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d==="compare"?"Back to List":"Compare Selected"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(te,{filters:M,values:w,onChange:N,title:"Filter Images",collapsible:!0,defaultCollapsed:!0})}),d==="compare"&&t.length>=2&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Image Comparison"}),e.jsx(Y,{fitsUrls:_,labels:V,columns:t.length<=2?2:t.length<=3?3:4,viewerSize:350,syncViews:!0})]})}),m.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(ee,{items:z,selectedIds:t,onSelectionChange:s,onDownload:c})}),m&&m.length>0?e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3",children:e.jsx("input",{type:"checkbox",checked:t.length===m.length&&m.length>0,ref:n=>{n&&(n.indeterminate=t.length>0&&t.length<m.length)},onChange:()=>{t.length===m.length?l():v(m.map(n=>n.id))},className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx(I,{label:"Name",sortKey:"path",currentSortKey:p,direction:i,onSort:j}),e.jsx(I,{label:"QA Grade",sortKey:"qa_grade",currentSortKey:p,direction:i,onSort:j,className:"text-center"}),e.jsx(I,{label:"Created",sortKey:"created_at",currentSortKey:p,direction:i,onSort:j,className:"text-right"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map(n=>e.jsxs("tr",{className:S.has(n.id)?"bg-blue-50":"",children:[e.jsx("td",{className:"px-3",children:e.jsx("input",{type:"checkbox",checked:S.has(n.id),onChange:()=>y(n.id),className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx("td",{children:e.jsx(K,{to:`/images/${n.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:n.path?.split("/").pop()||n.id})}),e.jsx("td",{className:"text-center",children:n.qa_grade&&e.jsx("span",{className:`badge ${n.qa_grade==="good"?"badge-success":n.qa_grade==="warn"?"badge-warning":"badge-error"}`,children:n.qa_grade})}),e.jsx("td",{className:"text-right text-gray-500",children:n.created_at?new Date(n.created_at).toLocaleDateString():"—"})]},n.id))})]})}):e.jsx("p",{className:"text-gray-500",children:"No images found."})]})};export{ce as default};
//# sourceMappingURL=ImagesListPage-CGS-FHsU.js.map
