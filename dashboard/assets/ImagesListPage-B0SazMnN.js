import{r as i,j as e,L as Z}from"./index-BMUX2-2Z.js";import{u as O}from"./useQueries-gIUS99rZ.js";import{a as V,L as H}from"./appStore-2-QcJAZJ.js";import{u as Q,S as L}from"./SortableTableHeader-x9p_prdP.js";import{F as W}from"./FitsViewer-3zCpbA8h.js";const X=({min:s,max:r,minValue:u,maxValue:w,step:c=1,label:g,unit:m="",onChange:d,onChangeComplete:b,showInputs:C=!0,histogram:y,className:N="",decimals:h=2,disabled:f=!1,formatValue:v})=>{const[o,t]=i.useState(u??s),[a,l]=i.useState(w??r),[j,M]=i.useState(null),z=i.useRef(null);i.useEffect(()=>{u!==void 0&&t(u),w!==void 0&&l(w)},[u,w]);const n=i.useCallback(x=>v?v(x):x.toFixed(h),[v,h]),S=i.useCallback(x=>(x-s)/(r-s)*100,[s,r]),$=i.useCallback(x=>{const p=s+x/100*(r-s),k=Math.round(p/c)*c;return Math.max(s,Math.min(r,k))},[s,r,c]),D=i.useCallback(x=>{if(f||!z.current)return;const p=z.current.getBoundingClientRect(),k=(x.clientX-p.left)/p.width*100,F=$(k),G=Math.abs(F-o),P=Math.abs(F-a);if(G<=P){const J=Math.min(F,a-c);t(J),d?.(J,a),b?.(J,a)}else{const J=Math.max(F,o+c);l(J),d?.(o,J),b?.(o,J)}},[f,$,o,a,c,d,b]),T=i.useCallback(x=>{const p=Math.min(parseFloat(x.target.value)||s,a-c);t(p),d?.(p,a)},[s,a,c,d]),E=i.useCallback(x=>{const p=Math.max(parseFloat(x.target.value)||r,o+c);l(p),d?.(o,p)},[r,o,c,d]),A=i.useCallback(()=>{b?.(o,a)},[o,a,b]),R=i.useCallback(x=>{const p=parseFloat(x.target.value),k=Math.min(p,a-c);t(k),d?.(k,a)},[a,c,d]),B=i.useCallback(x=>{const p=parseFloat(x.target.value),k=Math.max(p,o+c);l(k),d?.(o,k)},[o,c,d]),_=i.useCallback(()=>{M(null),b?.(o,a)},[o,a,b]),q=i.useCallback(()=>{t(s),l(r),d?.(s,r),b?.(s,r)},[s,r,d,b]),I=S(o),K=S(a);return e.jsxs("div",{className:`space-y-2 ${N}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[g&&e.jsx("span",{className:"text-sm font-medium text-gray-700",children:g}),e.jsx("button",{type:"button",onClick:q,disabled:f,className:"text-xs text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:"Reset"})]}),y&&y.length>0&&e.jsx("div",{className:"h-8 flex items-end gap-px",children:y.map((x,p)=>{const k=Math.max(...y),F=k>0?x/k*100:0,G=s+p/y.length*(r-s),J=s+(p+1)/y.length*(r-s)>=o&&G<=a;return e.jsx("div",{className:`flex-1 rounded-t transition-colors ${J?"bg-blue-400":"bg-gray-300"}`,style:{height:`${F}%`,minHeight:x>0?"2px":"0"}},p)})}),e.jsxs("div",{className:"relative h-6 flex items-center",children:[e.jsx("div",{ref:z,className:"absolute w-full h-2 bg-gray-200 rounded-full cursor-pointer",onClick:D,children:e.jsx("div",{className:"absolute h-full bg-blue-500 rounded-full",style:{left:`${I}%`,width:`${K-I}%`}})}),e.jsx("input",{type:"range",min:s,max:r,step:c,value:o,onChange:R,onMouseUp:_,onTouchEnd:_,onMouseDown:()=>M("min"),disabled:f,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:j==="min"?2:1}}),e.jsx("input",{type:"range",min:s,max:r,step:c,value:a,onChange:B,onMouseUp:_,onTouchEnd:_,onMouseDown:()=>M("max"),disabled:f,className:`absolute w-full h-2 appearance-none bg-transparent pointer-events-none
            [&::-webkit-slider-thumb]:pointer-events-auto
            [&::-webkit-slider-thumb]:appearance-none
            [&::-webkit-slider-thumb]:w-5
            [&::-webkit-slider-thumb]:h-5
            [&::-webkit-slider-thumb]:bg-white
            [&::-webkit-slider-thumb]:border-2
            [&::-webkit-slider-thumb]:border-blue-500
            [&::-webkit-slider-thumb]:rounded-full
            [&::-webkit-slider-thumb]:shadow
            [&::-webkit-slider-thumb]:cursor-grab
            [&::-webkit-slider-thumb]:active:cursor-grabbing
            [&::-webkit-slider-thumb]:hover:scale-110
            [&::-webkit-slider-thumb]:transition-transform
            [&::-moz-range-thumb]:pointer-events-auto
            [&::-moz-range-thumb]:appearance-none
            [&::-moz-range-thumb]:w-5
            [&::-moz-range-thumb]:h-5
            [&::-moz-range-thumb]:bg-white
            [&::-moz-range-thumb]:border-2
            [&::-moz-range-thumb]:border-blue-500
            [&::-moz-range-thumb]:rounded-full
            [&::-moz-range-thumb]:shadow
            [&::-moz-range-thumb]:cursor-grab`,style:{zIndex:j==="max"?2:1}})]}),C?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Minimum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:s,max:a-c,step:c,value:o,onChange:T,onBlur:A,disabled:f,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),m&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:m})]})]}),e.jsx("span",{className:"text-gray-400",children:"—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"sr-only",children:"Maximum value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:o+c,max:r,step:c,value:a,onChange:E,onBlur:A,disabled:f,className:"w-full px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),m&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:m})]})]})]}):e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[n(o),m&&` ${m}`]}),e.jsxs("span",{children:[n(a),m&&` ${m}`]})]})]})},Y=({fitsUrls:s,columns:r=2,viewerSize:u=300,syncViews:w=!0,labels:c,onCoordinateClick:g,className:m=""})=>{const[d,b]=i.useState(0),[C,y]=i.useState(w),[N,h]=i.useState({}),f=i.useCallback(()=>{if(!C||!window.JS9)return;const t="JS9Grid_0";try{const a=window.JS9.GetZoom({display:t}),l=window.JS9.GetPan({display:t});if(a&&l)for(let j=1;j<s.length;j++){const M=`JS9Grid_${j}`;window.JS9.SetZoom(a,{display:M}),window.JS9.SetPan(l.x,l.y,{display:M})}}catch(a){console.warn("Failed to sync views:",a)}},[syncViews,s.length]);i.useEffect(()=>{if(!C||d<s.length)return;const t=()=>{f()};return window.JS9&&(window.JS9.SetCallback("onzoom",t,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",t,{display:"JS9Grid_0"})),()=>{window.JS9&&(window.JS9.SetCallback("onzoom",null,{display:"JS9Grid_0"}),window.JS9.SetCallback("onpan",null,{display:"JS9Grid_0"}))}},[syncViews,d,s.length,f]);const v=()=>{b(t=>t+1)},o=()=>{switch(r){case 1:return"grid-cols-1";case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";default:return"grid-cols-2"}};return s.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No FITS files to display"}):e.jsxs("div",{className:m,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[d,"/",s.length," images loaded"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:t=>y(t.target.checked),className:"w-4 h-4 rounded accent-primary"}),e.jsx("span",{children:"Sync views"})]})]}),e.jsx("div",{className:`grid ${o()} gap-4`,children:s.map((t,a)=>e.jsxs("div",{className:"relative",children:[c&&c[a]&&e.jsx("div",{className:"absolute top-2 left-2 z-10 bg-black/70 text-white text-xs px-2 py-1 rounded",children:c[a]}),e.jsx(W,{fitsUrl:t,displayId:`JS9Grid_${a}`,width:u,height:u,showControls:!1,onLoad:v,onCoordinateClick:g?(l,j)=>g(l,j,a):void 0})]},`${t}-${a}`))}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Grid Controls:"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("tofit",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Fit All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("in",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom In All"}),e.jsx("button",{onClick:()=>{if(window.JS9)for(let t=0;t<s.length;t++)window.JS9.SetZoom("out",{display:`JS9Grid_${t}`})},className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:"Zoom Out All"}),e.jsxs("select",{onChange:t=>{if(window.JS9&&t.target.value)for(let a=0;a<s.length;a++)window.JS9.SetColormap(t.target.value,{display:`JS9Grid_${a}`})},className:"px-2 py-1 text-sm border border-gray-300 rounded",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Color map..."}),e.jsx("option",{value:"grey",children:"Grey"}),e.jsx("option",{value:"heat",children:"Heat"}),e.jsx("option",{value:"cool",children:"Cool"}),e.jsx("option",{value:"viridis",children:"Viridis"}),e.jsx("option",{value:"rainbow",children:"Rainbow"})]})]})})]})},U=[{value:"fits",label:"FITS"},{value:"csv",label:"CSV"},{value:"json",label:"JSON"},{value:"zip",label:"ZIP Archive"}],ee=({items:s,selectedIds:r,onSelectionChange:u,onDownload:w,className:c="",disabled:g=!1})=>{const[m,d]=i.useState("fits"),[b,C]=i.useState(!1),y=i.useCallback(()=>{r.length===s.length?u([]):u(s.map(o=>o.id))},[s,r.length,u]),N=i.useCallback(o=>{r.includes(o)?u(r.filter(t=>t!==o)):u([...r,o])},[r,u]),h=i.useCallback(async()=>{if(r.length!==0){C(!0);try{await w(r,m)}finally{C(!1)}}},[r,m,w]),f=r.length===s.length&&s.length>0,v=r.length>0&&r.length<s.length;return e.jsxs("div",{className:`card ${c}`,children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Bulk Download"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," of ",s.length," selected"]})]}),e.jsxs("div",{className:"card-body space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,ref:o=>{o&&(o.indeterminate=v)},onChange:y,disabled:g||s.length===0,className:"w-4 h-4 text-vast-green rounded border-gray-300 focus:ring-vast-green"}),e.jsx("span",{className:"text-sm",children:"Select All"})]}),r.length>0&&e.jsx("button",{onClick:()=>u([]),className:"text-sm text-gray-500 hover:text-red-500",children:"Clear selection"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:U.map(o=>e.jsx("button",{onClick:()=>d(o.value),disabled:g,className:`py-2 px-3 rounded-md text-sm font-medium transition-all ${m===o.value?"bg-vast-green text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o.label},o.value))})]}),r.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected items:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,10).map(o=>{const t=s.find(a=>a.id===o);return e.jsxs("span",{className:"badge badge-secondary flex items-center gap-1",children:[t?.name||o,e.jsx("button",{onClick:()=>N(o),className:"hover:text-red-500",children:"×"})]},o)}),r.length>10&&e.jsxs("span",{className:"badge badge-info",children:["+",r.length-10," more"]})]})]}),e.jsx("button",{onClick:h,disabled:g||r.length===0||b,className:"btn btn-primary w-full",children:b?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Preparing Download..."]}):e.jsxs(e.Fragment,{children:["Download ",r.length," item",r.length!==1?"s":""," as"," ",m.toUpperCase()]})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m==="fits"&&"Download raw FITS files individually.",m==="csv"&&"Export metadata as CSV spreadsheet.",m==="json"&&"Export metadata as JSON.",m==="zip"&&"Download all files in a single ZIP archive."]})]})]})},te=({filters:s,values:r,onChange:u,title:w="Filters",collapsible:c=!0,defaultCollapsed:g=!1,className:m=""})=>{const[d,b]=i.useState(g),[C,y]=i.useState({}),N=i.useCallback((t,a)=>{u({...r,[t]:a})},[r,u]),h=i.useCallback((t,a,l)=>{u({...r,[t]:[a,l]})},[r,u]),f=i.useCallback(()=>{const t={};s.forEach(a=>{a.defaultValue!==void 0&&(t[a.id]=a.defaultValue)}),u(t)},[s,u]);i.useCallback(t=>{y(a=>({...a,[t]:!a[t]}))},[]);const v=i.useMemo(()=>Object.entries(r).filter(([t,a])=>{const l=s.find(j=>j.id===t);return l?l.type==="range"&&Array.isArray(a)?a[0]!==l.min||a[1]!==l.max:l.defaultValue!==void 0?a!==l.defaultValue:a!==void 0&&a!==""&&a!==!1:!1}).length,[r,s]),o=t=>{const a=r[t.id];switch(t.type){case"range":{const l=Array.isArray(a)?a:[t.min??0,t.max??100];return e.jsx(X,{min:t.min??0,max:t.max??100,step:t.step??1,minValue:l[0],maxValue:l[1],label:t.label,unit:t.unit,histogram:t.histogram,onChange:(j,M)=>h(t.id,j,M),showInputs:!0},t.id)}case"select":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsxs("select",{value:String(a??""),onChange:l=>N(t.id,l.target.value||void 0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All"}),t.options?.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))]})]},t.id);case"checkbox":return e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!a,onChange:l=>N(t.id,l.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:t.label})]},t.id);case"text":return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t.label}),e.jsx("input",{type:"text",value:String(a??""),onChange:l=>N(t.id,l.target.value||void 0),placeholder:`Filter by ${t.label.toLowerCase()}...`,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},t.id);default:return null}};return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${m}`,children:[e.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${c?"cursor-pointer hover:bg-gray-50":""} ${d?"":"border-b border-gray-200"}`,onClick:c?()=>b(!d):void 0,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c&&e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${d?"":"rotate-90"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:w}),v>0&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-blue-700 bg-blue-100 rounded-full",children:v})]}),!d&&v>0&&e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),f()},className:"text-xs text-blue-600 hover:text-blue-800",children:"Reset all"})]}),!d&&e.jsx("div",{className:"p-4 space-y-4",children:s.map(t=>o(t))})]})},oe=()=>{const{data:s,isLoading:r,error:u}=O(),[w,c]=i.useState("list"),[g,m]=i.useState({}),d=[{id:"qa_grade",label:"QA Grade",type:"select",options:[{value:"good",label:"Good"},{value:"warn",label:"Warning"},{value:"fail",label:"Fail"}]},{id:"search",label:"Search",type:"text"}],b=V(n=>n.selectedImages),C=V(n=>n.toggleImageSelection),y=V(n=>n.selectAllImages),N=V(n=>n.clearImageSelection),h=i.useMemo(()=>Array.from(b),[b]),f=i.useCallback(n=>{n.length===0?N():y(n)},[N,y]),v=i.useCallback(async(n,S)=>{const D=`https://ronnie-unsectarian-antone.ngrok-free.dev/api/images/bulk-download?ids=${n.join(",")}&format=${S}`;window.open(D,"_blank")},[]),o=i.useMemo(()=>{if(!s)return[];let n=s;if(g.qa_grade&&(n=n.filter(S=>S.qa_grade===g.qa_grade)),g.search&&typeof g.search=="string"){const S=g.search.toLowerCase();n=n.filter($=>$.path?.toLowerCase().includes(S)||$.id.toLowerCase().includes(S))}return n},[s,g]),{sortDirection:t,handleSort:a,sortedData:l}=Q(o,"created_at","desc");if(r)return e.jsx(H,{label:"Loading images..."});if(u)return e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:["Failed to load images: ",u.message]});const j=i.useMemo(()=>l.map(n=>({id:n.id,name:n.path?.split("/").pop()||n.id,type:"FITS"})),[l]),M=i.useMemo(()=>{const n="https://ronnie-unsectarian-antone.ngrok-free.dev/api";return h.map(S=>`${n}/images/${S}/fits`)},[h]),z=i.useMemo(()=>h.map(n=>l.find($=>$.id===n)?.path?.split("/").pop()||n),[h,l]);return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Images"}),h.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[h.length," selected"]})]}),e.jsx("div",{className:"flex gap-2",children:h.length>=2&&h.length<=4&&e.jsx("button",{onClick:()=>c(w==="compare"?"list":"compare"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${w==="compare"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w==="compare"?"Back to List":"Compare Selected"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(te,{filters:d,values:g,onChange:m,title:"Filter Images",collapsible:!0,defaultCollapsed:!0})}),w==="compare"&&h.length>=2&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Image Comparison"}),e.jsx(Y,{fitsUrls:M,labels:z,columns:h.length<=2?2:h.length<=3?3:4,viewerSize:350,syncViews:!0})]})}),l.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(ee,{items:j,selectedIds:h,onSelectionChange:f,onDownload:v})}),l&&l.length>0?e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-10 px-3 py-3",children:e.jsx("input",{type:"checkbox",checked:h.length===l.length&&l.length>0,ref:n=>{n&&(n.indeterminate=h.length>0&&h.length<l.length)},onChange:()=>{h.length===l.length?N():y(l.map(n=>n.id))},className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx(L,{label:"Name",sortKey:"path",currentSortKey:sortKey,direction:t,onSort:a}),e.jsx(L,{label:"QA Grade",sortKey:"qa_grade",currentSortKey:sortKey,direction:t,onSort:a,className:"text-center"}),e.jsx(L,{label:"Created",sortKey:"created_at",currentSortKey:sortKey,direction:t,onSort:a,className:"text-right"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(n=>e.jsxs("tr",{className:b.has(n.id)?"bg-blue-50":"",children:[e.jsx("td",{className:"px-3",children:e.jsx("input",{type:"checkbox",checked:b.has(n.id),onChange:()=>C(n.id),className:"h-4 w-4 text-blue-600 rounded"})}),e.jsx("td",{children:e.jsx(Z,{to:`/images/${n.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:n.path?.split("/").pop()||n.id})}),e.jsx("td",{className:"text-center",children:n.qa_grade&&e.jsx("span",{className:`badge ${n.qa_grade==="good"?"badge-success":n.qa_grade==="warn"?"badge-warning":"badge-error"}`,children:n.qa_grade})}),e.jsx("td",{className:"text-right text-gray-500",children:n.created_at?new Date(n.created_at).toLocaleDateString():"—"})]},n.id))})]})}):e.jsx("p",{className:"text-gray-500",children:"No images found."})]})};export{oe as default};
//# sourceMappingURL=ImagesListPage-B0SazMnN.js.map
