{"version":3,"file":"ImagesListPage-CJOxVb34.js","sources":["../../src/components/download/BulkDownloadPanel.tsx","../../src/pages/ImagesListPage.tsx"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\n\nexport interface DownloadItem {\n  id: string;\n  name: string;\n  type?: string;\n}\n\nexport interface BulkDownloadPanelProps {\n  /** All available items for download */\n  items: DownloadItem[];\n  /** Currently selected item IDs */\n  selectedIds: string[];\n  /** Callback when selection changes */\n  onSelectionChange: (ids: string[]) => void;\n  /** Callback to trigger download */\n  onDownload: (ids: string[], format: DownloadFormat) => Promise<void>;\n  /** Custom class name */\n  className?: string;\n  /** Disable the panel */\n  disabled?: boolean;\n}\n\nexport type DownloadFormat = \"fits\" | \"csv\" | \"zip\" | \"json\";\n\nconst FORMAT_OPTIONS: { value: DownloadFormat; label: string }[] = [\n  { value: \"fits\", label: \"FITS\" },\n  { value: \"csv\", label: \"CSV\" },\n  { value: \"json\", label: \"JSON\" },\n  { value: \"zip\", label: \"ZIP Archive\" },\n];\n\n/**\n * Bulk download panel for selecting and exporting multiple items.\n */\nconst BulkDownloadPanel: React.FC<BulkDownloadPanelProps> = ({\n  items,\n  selectedIds,\n  onSelectionChange,\n  onDownload,\n  className = \"\",\n  disabled = false,\n}) => {\n  const [format, setFormat] = useState<DownloadFormat>(\"fits\");\n  const [isDownloading, setIsDownloading] = useState(false);\n\n  const handleSelectAll = useCallback(() => {\n    if (selectedIds.length === items.length) {\n      onSelectionChange([]);\n    } else {\n      onSelectionChange(items.map((i) => i.id));\n    }\n  }, [items, selectedIds.length, onSelectionChange]);\n\n  const handleToggleItem = useCallback(\n    (id: string) => {\n      if (selectedIds.includes(id)) {\n        onSelectionChange(selectedIds.filter((i) => i !== id));\n      } else {\n        onSelectionChange([...selectedIds, id]);\n      }\n    },\n    [selectedIds, onSelectionChange]\n  );\n\n  const handleDownload = useCallback(async () => {\n    if (selectedIds.length === 0) return;\n\n    setIsDownloading(true);\n    try {\n      await onDownload(selectedIds, format);\n    } finally {\n      setIsDownloading(false);\n    }\n  }, [selectedIds, format, onDownload]);\n\n  const isAllSelected = selectedIds.length === items.length && items.length > 0;\n  const isSomeSelected = selectedIds.length > 0 && selectedIds.length < items.length;\n\n  return (\n    <div className={`card ${className}`}>\n      <div className=\"card-header flex items-center justify-between\">\n        <h4 className=\"text-lg font-semibold\">Bulk Download</h4>\n        <span className=\"text-sm text-gray-500\">\n          {selectedIds.length} of {items.length} selected\n        </span>\n      </div>\n\n      <div className=\"card-body space-y-4\">\n        {/* Selection Controls */}\n        <div className=\"flex items-center gap-4\">\n          <label className=\"flex items-center gap-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={isAllSelected}\n              ref={(el) => {\n                if (el) el.indeterminate = isSomeSelected;\n              }}\n              onChange={handleSelectAll}\n              disabled={disabled || items.length === 0}\n              className=\"w-4 h-4 text-vast-green rounded border-gray-300 focus:ring-vast-green\"\n            />\n            <span className=\"text-sm\">Select All</span>\n          </label>\n\n          {selectedIds.length > 0 && (\n            <button\n              onClick={() => onSelectionChange([])}\n              className=\"text-sm text-gray-500 hover:text-red-500\"\n            >\n              Clear selection\n            </button>\n          )}\n        </div>\n\n        {/* Format Selection */}\n        <div className=\"form-group\">\n          <label className=\"form-label\">Export Format</label>\n          <div className=\"grid grid-cols-4 gap-2\">\n            {FORMAT_OPTIONS.map((opt) => (\n              <button\n                key={opt.value}\n                onClick={() => setFormat(opt.value)}\n                disabled={disabled}\n                className={`py-2 px-3 rounded-md text-sm font-medium transition-all ${\n                  format === opt.value\n                    ? \"bg-vast-green text-white shadow-md\"\n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                }`}\n              >\n                {opt.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Selected Items Preview */}\n        {selectedIds.length > 0 && (\n          <div className=\"bg-gray-50 rounded-lg p-3 max-h-40 overflow-y-auto\">\n            <p className=\"text-xs text-gray-500 mb-2\">Selected items:</p>\n            <div className=\"flex flex-wrap gap-1\">\n              {selectedIds.slice(0, 10).map((id) => {\n                const item = items.find((i) => i.id === id);\n                return (\n                  <span key={id} className=\"badge badge-secondary flex items-center gap-1\">\n                    {item?.name || id}\n                    <button onClick={() => handleToggleItem(id)} className=\"hover:text-red-500\">\n                      ×\n                    </button>\n                  </span>\n                );\n              })}\n              {selectedIds.length > 10 && (\n                <span className=\"badge badge-info\">+{selectedIds.length - 10} more</span>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Download Button */}\n        <button\n          onClick={handleDownload}\n          disabled={disabled || selectedIds.length === 0 || isDownloading}\n          className=\"btn btn-primary w-full\"\n        >\n          {isDownloading ? (\n            <span className=\"flex items-center justify-center gap-2\">\n              <span className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n              Preparing Download...\n            </span>\n          ) : (\n            <>\n              Download {selectedIds.length} item{selectedIds.length !== 1 ? \"s\" : \"\"} as{\" \"}\n              {format.toUpperCase()}\n            </>\n          )}\n        </button>\n\n        {/* Format Info */}\n        <div className=\"text-xs text-gray-500\">\n          {format === \"fits\" && \"Download raw FITS files individually.\"}\n          {format === \"csv\" && \"Export metadata as CSV spreadsheet.\"}\n          {format === \"json\" && \"Export metadata as JSON.\"}\n          {format === \"zip\" && \"Download all files in a single ZIP archive.\"}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BulkDownloadPanel;\n","import React, { useMemo, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useImages } from \"../hooks/useQueries\";\nimport { LoadingSpinner, SortableTableHeader, useTableSort } from \"../components/common\";\nimport { BulkDownloadPanel } from \"../components/download\";\nimport { useSelectionStore } from \"../stores/appStore\";\n\ninterface ImageItem {\n  id: string;\n  path?: string;\n  qa_grade?: string;\n  created_at?: string;\n}\n\n/**\n * List page showing all images with sortable table headers.\n */\nconst ImagesListPage: React.FC = () => {\n  const { data: images, isLoading, error } = useImages();\n  const { sortKey, sortDirection, handleSort, sortItems } = useTableSort<ImageItem>(\n    \"created_at\",\n    \"desc\"\n  );\n\n  // Multi-select state from store\n  const selectedImages = useSelectionStore((s) => s.selectedImages);\n  const toggleImageSelection = useSelectionStore((s) => s.toggleImageSelection);\n  const selectAllImages = useSelectionStore((s) => s.selectAllImages);\n  const clearImageSelection = useSelectionStore((s) => s.clearImageSelection);\n\n  const selectedIds = useMemo(() => Array.from(selectedImages), [selectedImages]);\n\n  const handleSelectionChange = useCallback(\n    (ids: string[]) => {\n      if (ids.length === 0) {\n        clearImageSelection();\n      } else {\n        selectAllImages(ids);\n      }\n    },\n    [clearImageSelection, selectAllImages]\n  );\n\n  const handleBulkDownload = useCallback(async (ids: string[], format: string) => {\n    const baseUrl = import.meta.env.VITE_API_URL || \"/api\";\n    const url = `${baseUrl}/images/bulk-download?ids=${ids.join(\",\")}&format=${format}`;\n    window.open(url, \"_blank\");\n  }, []);\n\n  const sortedImages = useMemo(() => {\n    if (!images) return [];\n    return sortItems(images, sortKey, sortDirection);\n  }, [images, sortKey, sortDirection, sortItems]);\n\n  if (isLoading) {\n    return <LoadingSpinner label=\"Loading images...\" />;\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\n        Failed to load images: {error.message}\n      </div>\n    );\n  }\n\n  // Prepare items for bulk download panel\n  const downloadItems = useMemo(\n    () =>\n      sortedImages.map((img) => ({\n        id: img.id,\n        name: img.path?.split(\"/\").pop() || img.id,\n        type: \"FITS\",\n      })),\n    [sortedImages]\n  );\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Images</h1>\n        {selectedIds.length > 0 && (\n          <span className=\"text-sm text-gray-500\">{selectedIds.length} selected</span>\n        )}\n      </div>\n\n      {/* Bulk Download Panel - show when items selected */}\n      {sortedImages.length > 0 && (\n        <div className=\"mb-6\">\n          <BulkDownloadPanel\n            items={downloadItems}\n            selectedIds={selectedIds}\n            onSelectionChange={handleSelectionChange}\n            onDownload={handleBulkDownload}\n          />\n        </div>\n      )}\n\n      {sortedImages && sortedImages.length > 0 ? (\n        <div className=\"card overflow-hidden\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th className=\"w-10 px-3 py-3\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedIds.length === sortedImages.length && sortedImages.length > 0}\n                    ref={(el) => {\n                      if (el)\n                        el.indeterminate =\n                          selectedIds.length > 0 && selectedIds.length < sortedImages.length;\n                    }}\n                    onChange={() => {\n                      if (selectedIds.length === sortedImages.length) {\n                        clearImageSelection();\n                      } else {\n                        selectAllImages(sortedImages.map((i) => i.id));\n                      }\n                    }}\n                    className=\"h-4 w-4 text-blue-600 rounded\"\n                  />\n                </th>\n                <SortableTableHeader\n                  label=\"Name\"\n                  sortKey=\"path\"\n                  currentSortKey={sortKey}\n                  direction={sortDirection}\n                  onSort={handleSort}\n                />\n                <SortableTableHeader\n                  label=\"QA Grade\"\n                  sortKey=\"qa_grade\"\n                  currentSortKey={sortKey}\n                  direction={sortDirection}\n                  onSort={handleSort}\n                  className=\"text-center\"\n                />\n                <SortableTableHeader\n                  label=\"Created\"\n                  sortKey=\"created_at\"\n                  currentSortKey={sortKey}\n                  direction={sortDirection}\n                  onSort={handleSort}\n                  className=\"text-right\"\n                />\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {sortedImages.map((image) => (\n                <tr key={image.id} className={selectedImages.has(image.id) ? \"bg-blue-50\" : \"\"}>\n                  <td className=\"px-3\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedImages.has(image.id)}\n                      onChange={() => toggleImageSelection(image.id)}\n                      className=\"h-4 w-4 text-blue-600 rounded\"\n                    />\n                  </td>\n                  <td>\n                    <Link\n                      to={`/images/${image.id}`}\n                      className=\"text-blue-600 hover:text-blue-800 font-medium\"\n                    >\n                      {image.path?.split(\"/\").pop() || image.id}\n                    </Link>\n                  </td>\n                  <td className=\"text-center\">\n                    {image.qa_grade && (\n                      <span\n                        className={`badge ${\n                          image.qa_grade === \"good\"\n                            ? \"badge-success\"\n                            : image.qa_grade === \"warn\"\n                            ? \"badge-warning\"\n                            : \"badge-error\"\n                        }`}\n                      >\n                        {image.qa_grade}\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"text-right text-gray-500\">\n                    {image.created_at ? new Date(image.created_at).toLocaleDateString() : \"—\"}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <p className=\"text-gray-500\">No images found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default ImagesListPage;\n"],"names":["FORMAT_OPTIONS","BulkDownloadPanel","items","selectedIds","onSelectionChange","onDownload","className","disabled","format","setFormat","useState","isDownloading","setIsDownloading","handleSelectAll","useCallback","i","handleToggleItem","id","handleDownload","isAllSelected","isSomeSelected","jsxs","jsx","el","opt","item","Fragment","ImagesListPage","images","isLoading","error","useImages","sortKey","sortDirection","handleSort","sortItems","useTableSort","selectedImages","useSelectionStore","s","toggleImageSelection","selectAllImages","clearImageSelection","useMemo","handleSelectionChange","ids","handleBulkDownload","url","sortedImages","LoadingSpinner","downloadItems","img","_a","SortableTableHeader","image","Link"],"mappings":"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"}