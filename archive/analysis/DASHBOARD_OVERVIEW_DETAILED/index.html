
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="http://code.deepsynoptic.org/dsa110-contimg/archive/analysis/DASHBOARD_OVERVIEW_DETAILED/" rel="canonical"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.31" name="generator"/>
<title>DSA-110 Continuum Imaging Pipeline - Comprehensive Dashboard Overview - DSA-110 Continuum Imaging Pipeline</title>
<link href="../../../assets/stylesheets/main.3cba04c6.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#dsa-110-continuum-imaging-pipeline-comprehensive-dashboard-overview">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="DSA-110 Continuum Imaging Pipeline" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="DSA-110 Continuum Imaging Pipeline">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DSA-110 Continuum Imaging Pipeline
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              DSA-110 Continuum Imaging Pipeline - Comprehensive Dashboard Overview
            
          </span>
</div>
</div>
</div>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/dsa110/dsa110-contimg" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DSA-110 Continuum Imaging Pipeline" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="DSA-110 Continuum Imaging Pipeline">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    DSA-110 Continuum Imaging Pipeline
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/dsa110/dsa110-contimg" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../DOCUMENTATION_QUICK_REFERENCE/">
<span class="md-ellipsis">
    Documentation Guide
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/">
<span class="md-ellipsis">
    Concepts
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/architecture/">
<span class="md-ellipsis">
    Architecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/DIRECTORY_ARCHITECTURE/">
<span class="md-ellipsis">
    Directory Architecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/modules/">
<span class="md-ellipsis">
    Modules
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/control-panel/">
<span class="md-ellipsis">
    Control Panel
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/aoflagger/">
<span class="md-ellipsis">
    AOFlagger
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/frontend_design/">
<span class="md-ellipsis">
    Frontend Design
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
<span class="md-ellipsis">
    Dashboard
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
            Dashboard
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/dashboard_mockups/">
<span class="md-ellipsis">
    Mockups
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/GLOSSARY/">
<span class="md-ellipsis">
    Glossary
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
<span class="md-ellipsis">
    Pipeline
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_10">
<span class="md-nav__icon md-icon"></span>
            Pipeline
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/pipeline_overview/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/pipeline_stage_architecture/">
<span class="md-ellipsis">
    Stage Architecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/pipeline_workflow_visualization/">
<span class="md-ellipsis">
    Workflow Visualization
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/pipeline_production_features/">
<span class="md-ellipsis">
    Production Features
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/pipeline_patterns/">
<span class="md-ellipsis">
    Patterns
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
<span class="md-ellipsis">
    Science
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_11_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_11">
<span class="md-nav__icon md-icon"></span>
            Science
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/science/photometry_normalization/">
<span class="md-ellipsis">
    Photometry Normalization
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/mcp_browser_server_setup/">
<span class="md-ellipsis">
    Browser MCP Server
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    Tutorials
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-ellipsis">
    Conversion
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            Conversion
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/HDF5_TO_MS_TUTORIAL/">
<span class="md-ellipsis">
    HDF5 to MS
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/simulation-tutorial/">
<span class="md-ellipsis">
    Simulation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/calibrate-apply/">
<span class="md-ellipsis">
    Calibrate and Apply
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/convert-standalone/">
<span class="md-ellipsis">
    Convert Standalone
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
<span class="md-ellipsis">
    Notebooks
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/notebooks/bandpass_calibration_test.ipynb">
<span class="md-ellipsis">
    Bandpass Calibration Test
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/notebooks/calibrator_helper.py">
<span class="md-ellipsis">
    Calibrator Helper
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/notebooks/CalibratorSearch.ipynb">
<span class="md-ellipsis">
    Calibrator Search
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tutorials/notebooks/ms_staging_workflow.ipynb">
<span class="md-ellipsis">
    MS Staging Workflow
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
<span class="md-ellipsis">
    How-To Guides
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/streaming/">
<span class="md-ellipsis">
    Streaming Guide
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/dashboard/">
<span class="md-ellipsis">
    Dashboard Guide
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/github_pages_walkthrough/">
<span class="md-ellipsis">
    GitHub Pages Setup
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    Quickstarts
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            Quickstarts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/quickstart/">
<span class="md-ellipsis">
    General
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/control-panel-quickstart/">
<span class="md-ellipsis">
    Control Panel
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/LINEAR_SETUP_QUICKSTART/">
<span class="md-ellipsis">
    Linear Setup
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
<span class="md-ellipsis">
    Testing
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_5">
<span class="md-nav__icon md-icon"></span>
            Testing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/FAST_TESTING/">
<span class="md-ellipsis">
    Fast Testing
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/PIPELINE_TESTING_GUIDE/">
<span class="md-ellipsis">
    Pipeline Guide
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/TEST_FLAG_SUBCOMMAND/">
<span class="md-ellipsis">
    Flag Subcommand
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/build-vp-from-h5/">
<span class="md-ellipsis">
    Build VP from h5
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
<span class="md-ellipsis">
    Calibration
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_7">
<span class="md-nav__icon md-icon"></span>
            Calibration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/CALIBRATION_DETAILED_PROCEDURE/">
<span class="md-ellipsis">
    Detailed Procedure
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/FIND_CALIBRATOR_TRANSIT_DATA/">
<span class="md-ellipsis">
    Find Calibrator Transit
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/IMAGE_0834_TRANSIT_5MIN/">
<span class="md-ellipsis">
    Image 0834 Transit 5min
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
<span class="md-ellipsis">
    Mosaic
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_9">
<span class="md-nav__icon md-icon"></span>
            Mosaic
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/mosaic_quickstart/">
<span class="md-ellipsis">
    Quickstart
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/mosaic/">
<span class="md-ellipsis">
    Complete Guide
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
<span class="md-ellipsis">
    Quality Assurance
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_10">
<span class="md-nav__icon md-icon"></span>
            Quality Assurance
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/QUALITY_ASSURANCE_SETUP/">
<span class="md-ellipsis">
    Setup
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/quicklook/">
<span class="md-ellipsis">
    Quick Look
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/reprocess/">
<span class="md-ellipsis">
    Reprocess
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/USING_ORCHESTRATOR_CLI/">
<span class="md-ellipsis">
    Using Orchestrator CLI
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/LINEAR_INTEGRATION/">
<span class="md-ellipsis">
    Linear Integration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/frontend-initial-setup/">
<span class="md-ellipsis">
    Frontend Initial Setup
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/PARAMETER_OPTIMIZATION_GUIDE/">
<span class="md-ellipsis">
    AOFlagger Parameter Optimization
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/downsampling_guide/">
<span class="md-ellipsis">
    Downsampling Guide
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_17" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_17" id="__nav_5_17_label" tabindex="0">
<span class="md-ellipsis">
    Conversion
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_17_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_17">
<span class="md-nav__icon md-icon"></span>
            Conversion
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/uvh5_to_ms_conversion/">
<span class="md-ellipsis">
    UVH5 to MS
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../how-to/troubleshooting/">
<span class="md-ellipsis">
    Troubleshooting
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
<span class="md-ellipsis">
    API
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
            API
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/api-endpoints/">
<span class="md-ellipsis">
    Endpoints
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1_2" id="__nav_6_1_2_label" tabindex="0">
<span class="md-ellipsis">
    Dashboard
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_6_1_2">
<span class="md-nav__icon md-icon"></span>
            Dashboard
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/dashboard_backend_api/">
<span class="md-ellipsis">
    API Reference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/dashboard_pages_and_features/">
<span class="md-ellipsis">
    Pages &amp; Features
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/backend_integration_snippets/">
<span class="md-ellipsis">
    Integration Snippets
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/calibration-overview/">
<span class="md-ellipsis">
    Calibration Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/cli/">
<span class="md-ellipsis">
    CLI
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/control-panel-cheatsheet/">
<span class="md-ellipsis">
    Control Panel Cheatsheet
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/database_schema/">
<span class="md-ellipsis">
    Database Schema
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/env/">
<span class="md-ellipsis">
    Environment Variables
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/CRITICAL_PYTHON_ENVIRONMENT/">
<span class="md-ellipsis">
    Critical Python Environment
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
<span class="md-ellipsis">
    Optimizations
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_8">
<span class="md-nav__icon md-icon"></span>
            Optimizations
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/optimizations/OPTIMIZATION_API/">
<span class="md-ellipsis">
    API
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reference/optimizations/PROFILING_GUIDE/">
<span class="md-ellipsis">
    Profiling Guide
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
<span class="md-ellipsis">
    Operations
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Operations
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
<span class="md-ellipsis">
    Deployment
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_1">
<span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/deploy-docker/">
<span class="md-ellipsis">
    Docker
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/deploy-systemd/">
<span class="md-ellipsis">
    systemd
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/port-management/">
<span class="md-ellipsis">
    Port Management
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/refant_quick_reference/">
<span class="md-ellipsis">
    Refant Quick Reference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/service_restart_fix/">
<span class="md-ellipsis">
    Service Restart Fix
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../operations/systemd-migration/">
<span class="md-ellipsis">
    Systemd Migration
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../contributing/">
<span class="md-ellipsis">
    Contributing
  </span>
</a>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
<span class="md-ellipsis">
    Archive
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_2">
<span class="md-nav__icon md-icon"></span>
            Archive
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../contributing/archive/CONTRIBUTING_TODO/">
<span class="md-ellipsis">
    Contributing to TODO
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../contributing/archive/rules/">
<span class="md-ellipsis">
    Rules
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#table-of-contents">
<span class="md-ellipsis">
      Table of Contents
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#executive-summary">
<span class="md-ellipsis">
      Executive Summary
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#system-architecture">
<span class="md-ellipsis">
      System Architecture
    </span>
</a>
<nav aria-label="System Architecture" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#high-level-architecture">
<span class="md-ellipsis">
      High-Level Architecture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#technology-stack">
<span class="md-ellipsis">
      Technology Stack
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#frontend-architecture-developer-focused">
<span class="md-ellipsis">
      Frontend Architecture (Developer-Focused)
    </span>
</a>
<nav aria-label="Frontend Architecture (Developer-Focused)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#project-structure">
<span class="md-ellipsis">
      Project Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-client-architecture">
<span class="md-ellipsis">
      API Client Architecture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#react-query-integration">
<span class="md-ellipsis">
      React Query Integration
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#component-patterns">
<span class="md-ellipsis">
      Component Patterns
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backend-api-architecture">
<span class="md-ellipsis">
      Backend API Architecture
    </span>
</a>
<nav aria-label="Backend API Architecture" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fastapi-application-structure">
<span class="md-ellipsis">
      FastAPI Application Structure
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-endpoint-organization">
<span class="md-ellipsis">
      API Endpoint Organization
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-access-layer">
<span class="md-ellipsis">
      Data Access Layer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pydantic-models">
<span class="md-ellipsis">
      Pydantic Models
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#database-schema-data-models">
<span class="md-ellipsis">
      Database Schema &amp; Data Models
    </span>
</a>
<nav aria-label="Database Schema &amp; Data Models" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#database-overview">
<span class="md-ellipsis">
      Database Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ingest-queue-database-ingestsqlite3">
<span class="md-ellipsis">
      Ingest Queue Database (ingest.sqlite3)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#products-database-productssqlite3">
<span class="md-ellipsis">
      Products Database (products.sqlite3)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#calibration-registry-cal_registrysqlite3">
<span class="md-ellipsis">
      Calibration Registry (cal_registry.sqlite3)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dashboard-pages-technical-deep-dive">
<span class="md-ellipsis">
      Dashboard Pages - Technical Deep Dive
    </span>
</a>
<nav aria-label="Dashboard Pages - Technical Deep Dive" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-dashboard-page-dashboard">
<span class="md-ellipsis">
      1. Dashboard Page (/dashboard)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-streaming-service-control-streaming">
<span class="md-ellipsis">
      2. Streaming Service Control (/streaming)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-control-page-control">
<span class="md-ellipsis">
      3. Control Page (/control)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-mosaic-gallery-mosaics">
<span class="md-ellipsis">
      4. Mosaic Gallery (/mosaics)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-source-monitoring-sources">
<span class="md-ellipsis">
      5. Source Monitoring (/sources)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-sky-view-sky">
<span class="md-ellipsis">
      6. Sky View (/sky)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-qa-visualization-qa">
<span class="md-ellipsis">
      7. QA Visualization (/qa)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scientific-context-astronomer-focused">
<span class="md-ellipsis">
      Scientific Context (Astronomer-Focused)
    </span>
</a>
<nav aria-label="Scientific Context (Astronomer-Focused)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-dsa-110">
<span class="md-ellipsis">
      What is DSA-110?
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extreme-scattering-events-ese">
<span class="md-ellipsis">
      Extreme Scattering Events (ESE)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#calibration-in-radio-astronomy">
<span class="md-ellipsis">
      Calibration in Radio Astronomy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mosaics-in-radio-astronomy">
<span class="md-ellipsis">
      Mosaics in Radio Astronomy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#measurement-sets-ms">
<span class="md-ellipsis">
      Measurement Sets (MS)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#source-monitoring">
<span class="md-ellipsis">
      Source Monitoring
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-flow-workflows">
<span class="md-ellipsis">
      Data Flow &amp; Workflows
    </span>
</a>
<nav aria-label="Data Flow &amp; Workflows" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#autonomous-streaming-workflow">
<span class="md-ellipsis">
      Autonomous Streaming Workflow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manual-job-workflow">
<span class="md-ellipsis">
      Manual Job Workflow
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ese-detection-workflow">
<span class="md-ellipsis">
      ESE Detection Workflow
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#real-time-updates-state-management">
<span class="md-ellipsis">
      Real-Time Updates &amp; State Management
    </span>
</a>
<nav aria-label="Real-Time Updates &amp; State Management" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#websocket-architecture">
<span class="md-ellipsis">
      WebSocket Architecture
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#react-query-state-management">
<span class="md-ellipsis">
      React Query State Management
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-reference-with-examples">
<span class="md-ellipsis">
      API Reference with Examples
    </span>
</a>
<nav aria-label="API Reference with Examples" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pipeline-status-endpoints">
<span class="md-ellipsis">
      Pipeline Status Endpoints
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#streaming-service-endpoints">
<span class="md-ellipsis">
      Streaming Service Endpoints
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#job-management-endpoints">
<span class="md-ellipsis">
      Job Management Endpoints
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#source-monitoring-endpoints">
<span class="md-ellipsis">
      Source Monitoring Endpoints
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#component-implementation-details">
<span class="md-ellipsis">
      Component Implementation Details
    </span>
</a>
<nav aria-label="Component Implementation Details" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#error-handling">
<span class="md-ellipsis">
      Error Handling
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#loading-states">
<span class="md-ellipsis">
      Loading States
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#form-handling">
<span class="md-ellipsis">
      Form Handling
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#production-readiness">
<span class="md-ellipsis">
      Production Readiness
    </span>
</a>
<nav aria-label="Production Readiness" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#current-status">
<span class="md-ellipsis">
      Current Status
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#known-limitations">
<span class="md-ellipsis">
      Known Limitations
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conclusion">
<span class="md-ellipsis">
      Conclusion
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="dsa-110-continuum-imaging-pipeline-comprehensive-dashboard-overview">DSA-110 Continuum Imaging Pipeline - Comprehensive Dashboard Overview<a class="headerlink" href="#dsa-110-continuum-imaging-pipeline-comprehensive-dashboard-overview" title="Permanent link">¶</a></h1>
<p><strong>Audience:</strong> Frontend Developers &amp; Radio Astronomers<br/>
<strong>Date:</strong> 2025-11-12<br/>
<strong>Status:</strong> Detailed technical and scientific overview</p>
<hr/>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">¶</a></h2>
<ol>
<li><a href="#executive-summary">Executive Summary</a></li>
<li><a href="#system-architecture">System Architecture</a></li>
<li><a href="#frontend-architecture-developer-focused">Frontend Architecture (Developer-Focused)</a></li>
<li><a href="#backend-api-architecture">Backend API Architecture</a></li>
<li><a href="#database-schema--data-models">Database Schema &amp; Data Models</a></li>
<li><a href="#dashboard-pages---technical-deep-dive">Dashboard Pages - Technical Deep Dive</a></li>
<li><a href="#scientific-context-astronomer-focused">Scientific Context (Astronomer-Focused)</a></li>
<li><a href="#data-flow--workflows">Data Flow &amp; Workflows</a></li>
<li><a href="#real-time-updates--state-management">Real-Time Updates &amp; State Management</a></li>
<li><a href="#api-reference-with-examples">API Reference with Examples</a></li>
<li><a href="#component-implementation-details">Component Implementation Details</a></li>
<li><a href="#production-readiness">Production Readiness</a></li>
</ol>
<hr/>
<h2 id="executive-summary">Executive Summary<a class="headerlink" href="#executive-summary" title="Permanent link">¶</a></h2>
<p>The DSA-110 Continuum Imaging Pipeline Dashboard is a production-grade web application serving as the primary interface for monitoring and controlling an autonomous radio astronomy data processing pipeline. The pipeline processes streaming radio interferometry data from the DSA-110 telescope array, converting raw visibility data (UVH5 format) into calibrated images and mosaics for scientific analysis.</p>
<p><strong>For Radio Astronomers:</strong> This dashboard provides real-time monitoring of the pipeline that processes your observations, detects extreme scattering events (ESE) in compact radio sources, and generates calibrated continuum images. You can monitor pipeline health, explore data products, and manually intervene when needed.</p>
<p><strong>For Frontend Developers:</strong> This is a modern React 18 + TypeScript application with 100+ REST API endpoints, WebSocket real-time updates, comprehensive error handling, and a sophisticated state management system. The codebase demonstrates production patterns for data-intensive scientific applications.</p>
<p><strong>Key Metrics:</strong>
- <strong>8 major pages</strong> with distinct functionality
- <strong>100+ REST API endpoints</strong> (FastAPI backend)
- <strong>50+ React components</strong> organized by domain
- <strong>4 SQLite databases</strong> for state management
- <strong>Real-time updates</strong> via WebSocket + HTTP polling fallback
- <strong>10-second refresh intervals</strong> for critical monitoring data</p>
<hr/>
<h2 id="system-architecture">System Architecture<a class="headerlink" href="#system-architecture" title="Permanent link">¶</a></h2>
<h3 id="high-level-architecture">High-Level Architecture<a class="headerlink" href="#high-level-architecture" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────────┐
│                    Browser (React Frontend)                      │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  React 18 + TypeScript + Material-UI v6                  │   │
│  │  ├── Pages (8 routes)                                    │   │
│  │  ├── Components (50+ reusable)                          │   │
│  │  ├── API Client (Axios + React Query)                    │   │
│  │  └── State Management (React Query + WebSocket)         │   │
│  └──────────────────────────────────────────────────────────┘   │
└───────────────────────────────┬─────────────────────────────────┘
                                 │ HTTP/REST + WebSocket
                                 │ Port 5173 (dev) / 8000 (prod)
┌───────────────────────────────▼─────────────────────────────────┐
│                    FastAPI Backend (Python)                       │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  API Routes (100+ endpoints)                             │   │
│  │  ├── Pipeline Status &amp; Monitoring                       │   │
│  │  ├── Streaming Service Control                          │   │
│  │  ├── Job Management (convert/calibrate/image/workflow)  │   │
│  │  ├── Mosaic Management                                  │   │
│  │  ├── Source Monitoring &amp; ESE Detection                 │   │
│  │  ├── QA Visualization                                  │   │
│  │  └── Data Browser                                       │   │
│  │                                                          │   │
│  │  Data Access Layer                                      │   │
│  │  ├── SQLite queries (queue, products, calibration)      │   │
│  │  ├── File system operations                            │   │
│  │  └── Streaming service manager                          │   │
│  └──────────────────────────────────────────────────────────┘   │
└───────────────────────────────┬─────────────────────────────────┘
                                 │
        ┌────────────────────────┼────────────────────────┐
        │                        │                        │
┌───────▼──────────┐  ┌──────────▼──────────┐  ┌─────────▼─────────┐
│  SQLite DBs      │  │  Streaming Service  │  │  Pipeline Jobs    │
│  - ingest.sqlite3│  │  Manager            │  │  - Conversion     │
│  - products.sqlite│  │  - Docker/Process   │  │  - Calibration    │
│  - cal_registry  │  │  - Config JSON      │  │  - Imaging        │
│  - catalogs      │  └────────────────────┘  │  - Mosaicking     │
└──────────────────┘                          └───────────────────┘
</code></pre></div>
<h3 id="technology-stack">Technology Stack<a class="headerlink" href="#technology-stack" title="Permanent link">¶</a></h3>
<p><strong>Frontend:</strong>
- <strong>React 18.3</strong> - UI framework with concurrent features
- <strong>TypeScript 5.x</strong> - Type safety throughout
- <strong>Vite 7</strong> - Build tool and dev server (HMR)
- <strong>Material-UI v6</strong> - Component library (MUI)
- <strong>TanStack React Query v5</strong> - Server state management
- <strong>React Router v6</strong> - Client-side routing
- <strong>Plotly.js</strong> - Scientific plotting (timeseries, pointing maps)
- <strong>AG Grid Community</strong> - High-performance data tables
- <strong>Axios</strong> - HTTP client with interceptors
- <strong>JS9</strong> - FITS image viewer (astronomy standard)</p>
<p><strong>Backend:</strong>
- <strong>FastAPI</strong> - Modern Python web framework
- <strong>Pydantic v2</strong> - Data validation and serialization
- <strong>SQLite3</strong> - Embedded database (4 databases)
- <strong>psutil</strong> - System metrics collection
- <strong>WebSocket</strong> - Real-time bidirectional communication
- <strong>Server-Sent Events (SSE)</strong> - Fallback for real-time updates</p>
<p><strong>Infrastructure:</strong>
- <strong>Docker</strong> - Containerization for streaming service
- <strong>Systemd</strong> - Service management (optional)
- <strong>CASA6</strong> - Radio astronomy data processing (Python environment)</p>
<hr/>
<h2 id="frontend-architecture-developer-focused">Frontend Architecture (Developer-Focused)<a class="headerlink" href="#frontend-architecture-developer-focused" title="Permanent link">¶</a></h2>
<h3 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>frontend/
├── src/
│   ├── api/                          # API client layer
│   │   ├── client.ts                # Axios instance with interceptors
│   │   ├── queries.ts               # React Query hooks (100+ hooks)
│   │   ├── types.ts                 # TypeScript interfaces
│   │   ├── websocket.ts             # WebSocket client
│   │   ├── circuitBreaker.ts        # Circuit breaker pattern
│   │   └── retry.ts                 # Retry logic utilities
│   │
│   ├── components/                   # Reusable UI components
│   │   ├── Health/                  # Health monitoring components
│   │   ├── Observing/                # Observation-related
│   │   ├── QA/                      # QA visualization
│   │   │   ├── DirectoryBrowser.tsx
│   │   │   ├── FITSViewer.tsx
│   │   │   ├── CasaTableViewer.tsx
│   │   │   └── QANotebookGenerator.tsx
│   │   ├── Sky/                     # Sky/FITS viewing
│   │   │   ├── SkyViewer.tsx        # JS9 integration
│   │   │   ├── ImageBrowser.tsx
│   │   │   ├── CatalogOverlayJS9.tsx
│   │   │   ├── ImageFittingTool.tsx
│   │   │   └── ProfileTool.tsx
│   │   ├── Sources/                 # Source-related
│   │   ├── Navigation.tsx           # Top navigation bar
│   │   ├── ESECandidatesPanel.tsx   # ESE detection display
│   │   ├── PointingVisualization.tsx # Telescope pointing map
│   │   └── MSTable.tsx              # Measurement Set table
│   │
│   ├── pages/                        # Page-level components (routes)
│   │   ├── DashboardPage.tsx        # Main monitoring page
│   │   ├── ControlPage.tsx          # Manual job execution
│   │   ├── StreamingPage.tsx        # Streaming service control
│   │   ├── MosaicGalleryPage.tsx    # Mosaic query/generation
│   │   ├── SourceMonitoringPage.tsx # Source flux monitoring
│   │   ├── SkyViewPage.tsx          # FITS image viewer
│   │   ├── QAVisualizationPage.tsx # QA data exploration
│   │   └── DataBrowserPage.tsx      # Data product browser
│   │
│   ├── stores/                       # State management
│   │   ├── dashboardState.ts        # Dashboard-specific state
│   │   └── dashboardStore.ts        # Global store (if needed)
│   │
│   ├── contexts/                      # React contexts
│   │   └── NotificationContext.tsx  # Toast notifications
│   │
│   ├── hooks/                         # Custom React hooks
│   │   ├── useLocalStorage.ts       # LocalStorage persistence
│   │   └── useSelectionState.ts     # Selection state management
│   │
│   ├── utils/                         # Utility functions
│   │   ├── errorUtils.ts            # Error classification
│   │   ├── logger.ts                # Logging utility
│   │   └── selectionLogic.ts        # MS selection logic
│   │
│   ├── theme/                         # MUI theme configuration
│   │   └── darkTheme.ts             # Dark theme for astronomy
│   │
│   ├── App.tsx                        # Root component
│   └── main.tsx                      # Entry point
│
├── public/                            # Static assets
│   ├── js9/                          # JS9 FITS viewer library
│   └── astroemw.js/wasm             # JS9 WebAssembly support
│
├── package.json                       # Dependencies
├── tsconfig.json                      # TypeScript config
├── vite.config.ts                     # Vite configuration
└── vitest.config.ts                   # Test configuration
</code></pre></div>
<h3 id="api-client-architecture">API Client Architecture<a class="headerlink" href="#api-client-architecture" title="Permanent link">¶</a></h3>
<p>The API client uses a sophisticated error handling and retry strategy:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/api/client.ts</span>

<span class="c1">// Circuit breaker pattern prevents cascading failures</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">circuitBreaker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCircuitBreaker</span><span class="p">({</span>
<span class="w">  </span><span class="nx">failureThreshold</span><span class="o">:</span><span class="w"> </span><span class="kt">5</span><span class="p">,</span><span class="w">        </span><span class="c1">// Open after 5 failures</span>
<span class="w">  </span><span class="nx">resetTimeout</span><span class="o">:</span><span class="w"> </span><span class="kt">30000</span><span class="p">,</span><span class="w">         </span><span class="c1">// 30 seconds cooldown</span>
<span class="w">  </span><span class="nx">monitoringPeriod</span><span class="o">:</span><span class="w"> </span><span class="kt">60000</span><span class="p">,</span><span class="w">     </span><span class="c1">// 1 minute window</span>
<span class="p">});</span>

<span class="c1">// Axios instance with interceptors</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">apiClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
<span class="w">  </span><span class="nx">baseURL</span><span class="o">:</span><span class="w"> </span><span class="kt">API_BASE_URL</span><span class="p">,</span>
<span class="w">  </span><span class="nx">timeout</span><span class="o">:</span><span class="w"> </span><span class="kt">30000</span><span class="p">,</span><span class="w">              </span><span class="c1">// 30 seconds (for long-running jobs)</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">'Content-Type'</span><span class="o">:</span><span class="w"> </span><span class="s1">'application/json'</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Request interceptor: Check circuit breaker</span>
<span class="nx">apiClient</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">config</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">circuitBreaker</span><span class="p">.</span><span class="nx">canAttempt</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">'Service temporarily unavailable'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">config</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Response interceptor: Retry logic with exponential backoff</span>
<span class="nx">apiClient</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">circuitBreaker</span><span class="p">.</span><span class="nx">recordSuccess</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="kt">AxiosError</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">classified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">classifyError</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Retry up to 3 times for retryable errors</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">classified</span><span class="p">.</span><span class="nx">retryable</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">retryCount</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mf">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">retryCount</span><span class="p">),</span><span class="w"> </span><span class="mf">10000</span><span class="p">);</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">delay</span><span class="p">));</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Error Classification:</strong>
- <strong>Network errors</strong> (ECONNREFUSED, ETIMEDOUT) → Retryable
- <strong>5xx server errors</strong> → Retryable
- <strong>4xx client errors</strong> → Not retryable
- <strong>Circuit breaker open</strong> → Not retryable</p>
<h3 id="react-query-integration">React Query Integration<a class="headerlink" href="#react-query-integration" title="Permanent link">¶</a></h3>
<p>React Query provides automatic caching, background refetching, and optimistic updates:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/api/queries.ts</span>

<span class="c1">// Pipeline status with WebSocket + polling fallback</span>
<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">usePipelineStatus</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nx">UseQueryResult</span><span class="o">&lt;</span><span class="nx">PipelineStatus</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wsClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getWebSocketClient</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">useRealtimeQuery</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="s1">'pipeline'</span><span class="p">,</span><span class="w"> </span><span class="s1">'status'</span><span class="p">],</span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">get</span><span class="o">&lt;</span><span class="nx">PipelineStatus</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">'/api/status'</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">wsClient</span><span class="p">,</span>
<span class="w">    </span><span class="mf">10000</span><span class="w"> </span><span class="c1">// Fallback polling: 10 seconds</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Mutation for creating jobs</span>
<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useCreateCalibrateJob</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQueryClient</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">useMutation</span><span class="p">({</span>
<span class="w">    </span><span class="nx">mutationFn</span><span class="o">:</span><span class="w"> </span><span class="kt">async</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="kt">CalibrateJobParams</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ms_path</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">post</span><span class="o">&lt;</span><span class="nx">Job</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">'/api/jobs/calibrate'</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">onSuccess</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Invalidate and refetch job list</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">({</span><span class="w"> </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'jobs'</span><span class="p">]</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Query Configuration:</strong>
- <strong>Stale time:</strong> 30 seconds (default)
- <strong>Cache time:</strong> 5 minutes
- <strong>Retry:</strong> Up to 3 times with exponential backoff
- <strong>Refetch on window focus:</strong> Disabled (prevents unnecessary requests)</p>
<h3 id="component-patterns">Component Patterns<a class="headerlink" href="#component-patterns" title="Permanent link">¶</a></h3>
<p><strong>Example: ESE Candidates Panel</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/components/ESECandidatesPanel.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">ESECandidatesPanel</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useESECandidates</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Auto-refresh every 10 seconds via React Query</span>
<span class="w">  </span><span class="c1">// WebSocket updates invalidate cache automatically</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">CircularProgress</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">activeCandidates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">candidates</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span>
<span class="w">    </span><span class="nx">c</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">c</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'active'</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="w"> </span><span class="nx">sx</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">p</span><span class="o">:</span><span class="w"> </span><span class="kt">3</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">variant</span><span class="o">=</span><span class="s2">"h5"</span><span class="o">&gt;</span>
<span class="w">        </span><span class="nx">ESE</span><span class="w"> </span><span class="nx">Candidates</span>
<span class="w">        </span><span class="p">{</span><span class="nx">activeCandidates</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Chip</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="p">{</span><span class="nx">activeCandidates</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="w"> </span><span class="nx">color</span><span class="o">=</span><span class="s2">"error"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">Table</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">candidates</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">candidate</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">TableRow</span>
<span class="w">            </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">candidate</span><span class="p">.</span><span class="nx">source_id</span><span class="p">}</span>
<span class="w">            </span><span class="nx">sx</span><span class="o">=</span><span class="p">{{</span>
<span class="w">              </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="kt">candidate.status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'active'</span><span class="w"> </span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="s1">'rgba(244, 67, 54, 0.05)'</span><span class="w"> </span>
<span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="s1">'inherit'</span><span class="p">,</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">          </span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="o">&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">fontFamily</span><span class="o">=</span><span class="s2">"monospace"</span><span class="o">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">candidate</span><span class="p">.</span><span class="nx">source_id</span><span class="p">}</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="w"> </span><span class="nx">align</span><span class="o">=</span><span class="s2">"right"</span><span class="o">&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">Typography</span>
<span class="w">                </span><span class="nx">fontWeight</span><span class="o">=</span><span class="s2">"bold"</span>
<span class="w">                </span><span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">candidate</span><span class="p">.</span><span class="nx">max_sigma_dev</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'error'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'warning'</span><span class="p">}</span>
<span class="w">              </span><span class="o">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">candidate</span><span class="p">.</span><span class="nx">max_sigma_dev</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">1</span><span class="p">)}</span><span class="nx">σ</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="cm">/* ... more cells ... */</span><span class="p">}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/TableRow&gt;</span>
<span class="w">        </span><span class="p">))}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Table&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Key Patterns:</strong>
- <strong>Conditional rendering</strong> based on loading/error states
- <strong>Type-safe</strong> props and data structures
- <strong>Material-UI</strong> components for consistent styling
- <strong>React Query</strong> for automatic data fetching and caching</p>
<hr/>
<h2 id="backend-api-architecture">Backend API Architecture<a class="headerlink" href="#backend-api-architecture" title="Permanent link">¶</a></h2>
<h3 id="fastapi-application-structure">FastAPI Application Structure<a class="headerlink" href="#fastapi-application-structure" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># src/dsa110_contimg/api/routes.py</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_app</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ApiConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FastAPI</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Factory for the monitoring API application."""</span>

    <span class="n">cfg</span> <span class="o">=</span> <span class="n">config</span> <span class="ow">or</span> <span class="n">ApiConfig</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">"DSA-110 Continuum Pipeline API"</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="s2">"0.1.0"</span>
    <span class="p">)</span>

    <span class="c1"># CORS middleware for frontend access</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_middleware</span><span class="p">(</span>
        <span class="n">CORSMiddleware</span><span class="p">,</span>
        <span class="n">allow_origins</span><span class="o">=</span><span class="p">[</span><span class="s2">"http://localhost:5173"</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:5173"</span><span class="p">],</span>
        <span class="n">allow_credentials</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span>
        <span class="n">allow_headers</span><span class="o">=</span><span class="p">[</span><span class="s2">"*"</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="c1"># WebSocket manager for real-time updates</span>
    <span class="nd">@app</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">"startup"</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_status_broadcaster</span><span class="p">():</span>
        <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_status</span><span class="p">():</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Broadcast every 10 seconds</span>
                <span class="c1"># Fetch and broadcast pipeline status, metrics, ESE candidates</span>
                <span class="k">await</span> <span class="n">manager</span><span class="o">.</span><span class="n">broadcast_status_update</span><span class="p">(</span><span class="n">create_status_update</span><span class="p">())</span>

        <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">broadcast_status</span><span class="p">())</span>

    <span class="c1"># Include routers</span>
    <span class="n">router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
    <span class="c1"># ... route definitions ...</span>
    <span class="n">app</span><span class="o">.</span><span class="n">include_router</span><span class="p">(</span><span class="n">router</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">app</span>
</code></pre></div>
<h3 id="api-endpoint-organization">API Endpoint Organization<a class="headerlink" href="#api-endpoint-organization" title="Permanent link">¶</a></h3>
<p>Endpoints are organized by functional domain:</p>
<p><strong>1. Pipeline Status &amp; Monitoring</strong> (<code>/api/status</code>, <code>/api/metrics/system</code>)
<strong>2. Streaming Service</strong> (<code>/api/streaming/*</code>)
<strong>3. Job Management</strong> (<code>/api/jobs/*</code>)
<strong>4. Measurement Sets</strong> (<code>/api/ms/*</code>)
<strong>5. Calibration</strong> (<code>/api/cal_tables/*</code>)
<strong>6. Mosaics</strong> (<code>/api/mosaics/*</code>)
<strong>7. Sources</strong> (<code>/api/sources/*</code>)
<strong>8. Images</strong> (<code>/api/images/*</code>)
<strong>9. QA Visualization</strong> (<code>/api/visualization/*</code>)
<strong>10. WebSocket</strong> (<code>/api/ws/status</code>)</p>
<h3 id="data-access-layer">Data Access Layer<a class="headerlink" href="#data-access-layer" title="Permanent link">¶</a></h3>
<p>The backend uses a clean separation between routes and data access:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># src/dsa110_contimg/api/data_access.py</span>

<span class="k">def</span><span class="w"> </span><span class="nf">fetch_queue_stats</span><span class="p">(</span><span class="n">queue_db</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QueueStats</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Fetch queue statistics from ingest database."""</span>
    <span class="k">with</span> <span class="n">closing</span><span class="p">(</span><span class="n">_connect</span><span class="p">(</span><span class="n">queue_db</span><span class="p">))</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"""</span>
<span class="s2">            SELECT </span>
<span class="s2">                COUNT(*) AS total,</span>
<span class="s2">                SUM(CASE WHEN state = 'pending' THEN 1 ELSE 0 END) AS pending,</span>
<span class="s2">                SUM(CASE WHEN state = 'in_progress' THEN 1 ELSE 0 END) AS in_progress,</span>
<span class="s2">                SUM(CASE WHEN state = 'failed' THEN 1 ELSE 0 END) AS failed,</span>
<span class="s2">                SUM(CASE WHEN state = 'completed' THEN 1 ELSE 0 END) AS completed,</span>
<span class="s2">                SUM(CASE WHEN state = 'collecting' THEN 1 ELSE 0 END) AS collecting</span>
<span class="s2">            FROM ingest_queue</span>
<span class="s2">        """</span><span class="p">)</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">QueueStats</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"total"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">pending</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"pending"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">in_progress</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"in_progress"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">failed</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"failed"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">completed</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"completed"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">collecting</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"collecting"</span><span class="p">]</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
<p><strong>Benefits:</strong>
- <strong>Testable</strong> - Data access functions can be unit tested
- <strong>Reusable</strong> - Same functions used by CLI and API
- <strong>Type-safe</strong> - Pydantic models ensure correct data structures</p>
<h3 id="pydantic-models">Pydantic Models<a class="headerlink" href="#pydantic-models" title="Permanent link">¶</a></h3>
<p>All API responses use Pydantic models for validation:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># src/dsa110_contimg/api/models.py</span>

<span class="k">class</span><span class="w"> </span><span class="nc">QueueStats</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">pending</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">in_progress</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">failed</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">collecting</span><span class="p">:</span> <span class="nb">int</span>

<span class="k">class</span><span class="w"> </span><span class="nc">QueueGroup</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">group_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">"Normalized observation timestamp"</span><span class="p">)</span>
    <span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="o">...</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"Queue state (collecting|pending|in_progress|completed|failed)"</span>
    <span class="p">)</span>
    <span class="n">received_at</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">last_update</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">subbands_present</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="o">...</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"Number of subbands ingested for this group"</span>
    <span class="p">)</span>
    <span class="n">expected_subbands</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="o">...</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"Expected subbands per group (usually 16)"</span>
    <span class="p">)</span>
    <span class="n">has_calibrator</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="kc">None</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"True if any calibrator was matched in beam"</span>
    <span class="p">)</span>
    <span class="n">matches</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CalibratorMatch</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="kc">None</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"Top matched calibrators for this group"</span>
    <span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PipelineStatus</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">queue</span><span class="p">:</span> <span class="n">QueueStats</span>
    <span class="n">recent_groups</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">QueueGroup</span><span class="p">]</span>
    <span class="n">calibration_sets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CalibrationSet</span><span class="p">]</span>
    <span class="n">matched_recent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="mi">0</span><span class="p">,</span> 
        <span class="n">description</span><span class="o">=</span><span class="s2">"Number of recent groups with calibrator matches"</span>
    <span class="p">)</span>
</code></pre></div>
<p><strong>Pydantic Benefits:</strong>
- <strong>Automatic validation</strong> - Invalid data rejected at API boundary
- <strong>Type coercion</strong> - Strings converted to appropriate types
- <strong>Documentation</strong> - Field descriptions appear in OpenAPI docs
- <strong>Serialization</strong> - Automatic JSON serialization</p>
<hr/>
<h2 id="database-schema-data-models">Database Schema &amp; Data Models<a class="headerlink" href="#database-schema-data-models" title="Permanent link">¶</a></h2>
<h3 id="database-overview">Database Overview<a class="headerlink" href="#database-overview" title="Permanent link">¶</a></h3>
<p>The pipeline uses <strong>4 SQLite databases</strong> for state management:</p>
<table>
<thead>
<tr>
<th>Database</th>
<th>Location</th>
<th>Purpose</th>
<th>Key Tables</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ingest.sqlite3</code></td>
<td><code>/data/dsa110-contimg/state/</code></td>
<td>Queue management</td>
<td><code>ingest_queue</code>, <code>subband_files</code>, <code>performance_metrics</code></td>
</tr>
<tr>
<td><code>products.sqlite3</code></td>
<td><code>/data/dsa110-contimg/state/</code></td>
<td>Data products</td>
<td><code>ms_index</code>, <code>images</code>, <code>photometry_timeseries</code>, <code>mosaics</code></td>
</tr>
<tr>
<td><code>cal_registry.sqlite3</code></td>
<td><code>/data/dsa110-contimg/state/</code></td>
<td>Calibration tracking</td>
<td><code>caltables</code></td>
</tr>
<tr>
<td><code>master_sources.sqlite3</code></td>
<td><code>/data/dsa110-contimg/state/catalogs/</code></td>
<td>Source catalog</td>
<td><code>sources</code>, <code>variability_stats</code>, <code>ese_candidates</code></td>
</tr>
</tbody>
</table>
<h3 id="ingest-queue-database-ingestsqlite3">Ingest Queue Database (<code>ingest.sqlite3</code>)<a class="headerlink" href="#ingest-queue-database-ingestsqlite3" title="Permanent link">¶</a></h3>
<p><strong>Table: <code>ingest_queue</code></strong>
Tracks observation groups through the pipeline lifecycle.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ingest_queue</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">group_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">              </span><span class="c1">-- YYYY-MM-DDTHH:MM:SS format</span>
<span class="w">    </span><span class="k">state</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                    </span><span class="c1">-- collecting|pending|in_progress|completed|failed</span>
<span class="w">    </span><span class="n">received_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">              </span><span class="c1">-- Unix timestamp</span>
<span class="w">    </span><span class="n">last_update</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">              </span><span class="c1">-- Unix timestamp</span>
<span class="w">    </span><span class="n">expected_subbands</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Usually 16 subbands per group</span>
<span class="w">    </span><span class="n">has_calibrator</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span><span class="w">                 </span><span class="c1">-- 0/1 boolean (NULL if not checked)</span>
<span class="w">    </span><span class="n">calibrators</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                       </span><span class="c1">-- JSON array of matched calibrators</span>
<span class="w">    </span><span class="n">retry_count</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">error_message</span><span class="w"> </span><span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_ingest_state</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">ingest_queue</span><span class="p">(</span><span class="k">state</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_ingest_received</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">ingest_queue</span><span class="p">(</span><span class="n">received_at</span><span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> Each row represents a 5-minute observation group. The <code>state</code> field tracks where the group is in processing: <code>collecting</code> means we're still waiting for all 16 subband files to arrive, <code>pending</code> means ready for processing, <code>in_progress</code> means currently being converted/calibrated/imaged, <code>completed</code> means successfully processed, and <code>failed</code> means an error occurred.</p>
<p><strong>For Developers:</strong> The <code>group_id</code> is a normalized timestamp (ISO format) that serves as the primary key. The <code>calibrators</code> field stores JSON, which is parsed by the API layer into <code>CalibratorMatch</code> objects.</p>
<p><strong>Table: <code>subband_files</code></strong>
Tracks individual subband files per observation group.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">subband_files</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">group_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">subband_idx</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">          </span><span class="c1">-- 0-15 (16 subbands total)</span>
<span class="w">    </span><span class="n">file_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">file_size</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">discovered_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">group_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">ingest_queue</span><span class="p">(</span><span class="n">group_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="p">(</span><span class="n">group_id</span><span class="p">,</span><span class="w"> </span><span class="n">subband_idx</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> DSA-110 observes in 16 frequency subbands simultaneously. Each subband is recorded as a separate file. The pipeline waits until all 16 subbands are present before processing a group.</p>
<p><strong>For Developers:</strong> The <code>UNIQUE(group_id, subband_idx)</code> constraint ensures we don't duplicate subband files. The <code>subband_idx</code> ranges from 0-15.</p>
<h3 id="products-database-productssqlite3">Products Database (<code>products.sqlite3</code>)<a class="headerlink" href="#products-database-productssqlite3" title="Permanent link">¶</a></h3>
<p><strong>Table: <code>ms_index</code></strong>
Tracks Measurement Set files (the intermediate data format between raw visibilities and images).</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ms_index</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">                  </span><span class="c1">-- Full filesystem path to MS</span>
<span class="w">    </span><span class="n">start_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                        </span><span class="c1">-- Start time (Modified Julian Date)</span>
<span class="w">    </span><span class="n">end_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                          </span><span class="c1">-- End time (MJD)</span>
<span class="w">    </span><span class="n">mid_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                          </span><span class="c1">-- Middle time (MJD) - used for calibration lookup</span>
<span class="w">    </span><span class="n">processed_at</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                     </span><span class="c1">-- When MS was created</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                           </span><span class="c1">-- converted|calibrated|imaged|mosaicked</span>
<span class="w">    </span><span class="n">stage</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- Processing stage</span>
<span class="w">    </span><span class="n">stage_updated_at</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">cal_applied</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">         </span><span class="c1">-- 0/1 boolean</span>
<span class="w">    </span><span class="n">imagename</span><span class="w"> </span><span class="nb">TEXT</span><span class="w">                         </span><span class="c1">-- Path to resulting image</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> A Measurement Set (MS) is the standard radio astronomy data format (CASA format). It contains visibility data (complex amplitudes) from the interferometer. The <code>mid_mjd</code> field is critical - it's used to look up which calibration solutions should be applied to this observation.</p>
<p><strong>For Developers:</strong> The <code>path</code> is the primary key. The <code>stage</code> field tracks processing progress: <code>converted</code> (UVH5 → MS), <code>calibrated</code> (calibration applied), <code>imaged</code> (MS → image), <code>mosaicked</code> (image → mosaic).</p>
<p><strong>Table: <code>images</code></strong>
Tracks continuum images produced from Measurement Sets.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                     </span><span class="c1">-- Path to FITS image file</span>
<span class="w">    </span><span class="n">ms_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                  </span><span class="c1">-- Source Measurement Set</span>
<span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                     </span><span class="c1">-- image|pbcor|residual|psf|pb</span>
<span class="w">    </span><span class="n">beam_major_arcsec</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                 </span><span class="c1">-- Synthesized beam major axis</span>
<span class="w">    </span><span class="n">beam_minor_arcsec</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                 </span><span class="c1">-- Synthesized beam minor axis</span>
<span class="w">    </span><span class="n">beam_pa_deg</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                       </span><span class="c1">-- Beam position angle</span>
<span class="w">    </span><span class="n">noise_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                          </span><span class="c1">-- Image noise level (Jy)</span>
<span class="w">    </span><span class="n">peak_flux_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                      </span><span class="c1">-- Peak flux in image (Jy)</span>
<span class="w">    </span><span class="n">pbcor</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w">                 </span><span class="c1">-- Primary-beam corrected flag</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> The <code>type</code> field indicates image type: <code>image</code> is the standard continuum image, <code>pbcor</code> is primary-beam corrected (accounts for sensitivity falloff away from pointing center), <code>residual</code> is the difference between data and model (used for quality assessment), <code>psf</code> is the point-spread function (beam pattern), and <code>pb</code> is the primary beam response pattern.</p>
<p><strong>For Developers:</strong> Images are stored as FITS files. The <code>noise_jy</code> field is computed during imaging and represents the RMS noise level, critical for source detection thresholds.</p>
<p><strong>Table: <code>photometry_timeseries</code></strong>
Flux measurements per source per epoch (for variability monitoring).</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">photometry_timeseries</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">source_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                </span><span class="c1">-- NVSS ID format: "NVSS J123456.7+420312"</span>
<span class="w">    </span><span class="n">ms_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">image_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">epoch_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                </span><span class="c1">-- Observation time (MJD)</span>
<span class="w">    </span><span class="n">flux_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                  </span><span class="c1">-- Measured flux (Jy)</span>
<span class="w">    </span><span class="n">flux_err_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                      </span><span class="c1">-- Flux uncertainty (Jy)</span>
<span class="w">    </span><span class="n">normalized_flux_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">               </span><span class="c1">-- Flux normalized to reference epoch</span>
<span class="w">    </span><span class="n">normalized_flux_err_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span>
<span class="w">    </span><span class="n">is_reference</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">        </span><span class="c1">-- Is this the reference epoch?</span>
<span class="w">    </span><span class="n">snr</span><span class="w"> </span><span class="nb">REAL</span><span class="w">                               </span><span class="c1">-- Signal-to-noise ratio</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_photometry_source</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">photometry_timeseries</span><span class="p">(</span><span class="n">source_id</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_photometry_epoch</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">photometry_timeseries</span><span class="p">(</span><span class="n">epoch_mjd</span><span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> This table stores the light curves (flux vs. time) for each monitored source. The <code>normalized_flux_jy</code> field normalizes all measurements to a reference epoch, making it easier to detect variability. The <code>snr</code> field helps filter out low-quality measurements.</p>
<p><strong>For Developers:</strong> This is a time-series database optimized for queries like "get all flux measurements for source X" or "get all sources observed at time Y". The <code>source_id</code> uses NVSS naming convention (survey + J2000 coordinates).</p>
<p><strong>Table: <code>variability_stats</code></strong>
Pre-computed variability metrics per source (for ESE detection).</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">variability_stats</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">source_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">n_epochs</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span><span class="w">                      </span><span class="c1">-- Number of observations</span>
<span class="w">    </span><span class="n">chi2_reduced</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                      </span><span class="c1">-- Reduced chi-squared (variability test)</span>
<span class="w">    </span><span class="n">fractional_variability</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">            </span><span class="c1">-- Fractional RMS variability</span>
<span class="w">    </span><span class="n">significance</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                      </span><span class="c1">-- Variability significance (sigma)</span>
<span class="w">    </span><span class="n">ese_score</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                         </span><span class="c1">-- ESE detection score</span>
<span class="w">    </span><span class="n">asymmetry_index</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                   </span><span class="c1">-- Light curve asymmetry</span>
<span class="w">    </span><span class="n">characteristic_timescale_days</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Variability timescale</span>
<span class="w">    </span><span class="n">peak_to_trough_amplitude</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">          </span><span class="c1">-- Maximum flux variation</span>
<span class="w">    </span><span class="n">last_updated</span><span class="w"> </span><span class="nb">REAL</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> These statistics are computed from the <code>photometry_timeseries</code> data. The <code>chi2_reduced</code> tests whether the source is consistent with constant flux (values &gt;5 indicate variability). The <code>ese_score</code> is a custom metric that identifies sources with ESE-like behavior (rapid flux increases followed by gradual decreases).</p>
<p><strong>For Developers:</strong> These are pre-computed aggregates to avoid expensive calculations on every query. The <code>significance</code> field is the key metric - sources with <code>significance &gt;= 5</code> are flagged as ESE candidates.</p>
<p><strong>Table: <code>ese_candidates</code></strong>
Flagged ESE candidate sources.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ese_candidates</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">source_id</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">first_detection_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">       </span><span class="c1">-- When variability first detected</span>
<span class="w">    </span><span class="n">last_detection_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">        </span><span class="c1">-- Most recent detection</span>
<span class="w">    </span><span class="n">max_sigma_dev</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">            </span><span class="c1">-- Maximum sigma deviation</span>
<span class="w">    </span><span class="n">current_flux_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                   </span><span class="c1">-- Current flux measurement</span>
<span class="w">    </span><span class="n">baseline_flux_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                  </span><span class="c1">-- Baseline (reference) flux</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- active|resolved|false_positive</span>
<span class="w">    </span><span class="n">notes</span><span class="w"> </span><span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_ese_status</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">ese_candidates</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_ese_source</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">ese_candidates</span><span class="p">(</span><span class="n">source_id</span><span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> This table tracks sources that have exceeded the 5σ variability threshold. The <code>status</code> field indicates: <code>active</code> (currently variable), <code>resolved</code> (variability has returned to baseline), or <code>false_positive</code> (manually flagged as not a real ESE).</p>
<p><strong>For Developers:</strong> This is the source of truth for the ESE Candidates panel on the dashboard. The <code>max_sigma_dev</code> field is displayed prominently in the UI.</p>
<p><strong>Table: <code>mosaics</code></strong>
Mosaic plans and metadata.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">mosaics</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">              </span><span class="c1">-- Mosaic identifier</span>
<span class="w">    </span><span class="k">method</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- Mosaic generation method</span>
<span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">built_at</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                          </span><span class="c1">-- When mosaic was actually built</span>
<span class="w">    </span><span class="n">output_path</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                       </span><span class="c1">-- Path to mosaic FITS file</span>
<span class="w">    </span><span class="n">n_tiles</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span><span class="w">                        </span><span class="c1">-- Number of input images</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- pending|in_progress|completed|failed</span>
<span class="w">    </span><span class="n">start_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                         </span><span class="c1">-- Start time (MJD)</span>
<span class="w">    </span><span class="n">end_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="p">,</span><span class="w">                           </span><span class="c1">-- End time (MJD)</span>
<span class="w">    </span><span class="n">source_count</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span><span class="w">                    </span><span class="c1">-- Number of sources detected</span>
<span class="w">    </span><span class="n">noise_jy</span><span class="w"> </span><span class="nb">REAL</span><span class="w">                           </span><span class="c1">-- Mosaic noise level (Jy)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> A mosaic combines multiple individual images (tiles) into a single larger image covering a wider area of sky. Mosaics are typically created from ~1 hour of observations (10 tiles × 5 minutes each).</p>
<p><strong>For Developers:</strong> The <code>status</code> field tracks mosaic generation progress. The <code>n_tiles</code> field indicates how many input images were combined.</p>
<h3 id="calibration-registry-cal_registrysqlite3">Calibration Registry (<code>cal_registry.sqlite3</code>)<a class="headerlink" href="#calibration-registry-cal_registrysqlite3" title="Permanent link">¶</a></h3>
<p><strong>Table: <code>caltables</code></strong>
Tracks calibration tables and their validity windows.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">caltables</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">set_name</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">                 </span><span class="c1">-- Logical set name (e.g., "bp_3c286_60238")</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span><span class="w">             </span><span class="c1">-- Full path to caltable file</span>
<span class="w">    </span><span class="n">table_type</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">               </span><span class="c1">-- K|BP|G (delay|bandpass|gain)</span>
<span class="w">    </span><span class="n">order_index</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">           </span><span class="c1">-- Application order (K=0, BP=1, G=2)</span>
<span class="w">    </span><span class="n">cal_field</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                         </span><span class="c1">-- Source/field used to solve</span>
<span class="w">    </span><span class="n">refant</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w">                            </span><span class="c1">-- Reference antenna</span>
<span class="w">    </span><span class="n">created_at</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">valid_start_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">         </span><span class="c1">-- Start of validity window (MJD)</span>
<span class="w">    </span><span class="n">valid_end_mjd</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">           </span><span class="c1">-- End of validity window (MJD)</span>
<span class="w">    </span><span class="n">status</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">'active'</span><span class="p">,</span><span class="w">           </span><span class="c1">-- active|retired|failed</span>
<span class="w">    </span><span class="n">notes</span><span class="w"> </span><span class="nb">TEXT</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_caltables_set</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">caltables</span><span class="p">(</span><span class="n">set_name</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_caltables_valid</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">caltables</span><span class="p">(</span><span class="n">valid_start_mjd</span><span class="p">,</span><span class="w"> </span><span class="n">valid_end_mjd</span><span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_caltables_status</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">caltables</span><span class="p">(</span><span class="n">status</span><span class="p">);</span>
</code></pre></div>
<p><strong>For Astronomers:</strong> Calibration tables correct for instrumental effects (antenna gains, bandpass response, delays). The <code>valid_start_mjd</code> and <code>valid_end_mjd</code> fields define when a calibration solution is valid - bandpass solutions are typically valid for ±12 hours around calibrator transit, while gain solutions are valid for ±30 minutes.</p>
<p><strong>For Developers:</strong> The registry is the <strong>authoritative source</strong> for calibration decisions. When applying calibration to a Measurement Set, the pipeline queries the registry for tables whose validity windows include the MS observation time (<code>mid_mjd</code>). The <code>order_index</code> ensures tables are applied in the correct order (K → BP → G).</p>
<hr/>
<h2 id="dashboard-pages-technical-deep-dive">Dashboard Pages - Technical Deep Dive<a class="headerlink" href="#dashboard-pages-technical-deep-dive" title="Permanent link">¶</a></h2>
<h3 id="1-dashboard-page-dashboard">1. Dashboard Page (<code>/dashboard</code>)<a class="headerlink" href="#1-dashboard-page-dashboard" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Main monitoring interface for pipeline health and status</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/DashboardPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">DashboardPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// React Query hooks for data fetching</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">status</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">usePipelineStatus</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">metrics</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useSystemMetrics</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Auto-refresh every 10 seconds via React Query</span>
<span class="w">  </span><span class="c1">// WebSocket updates invalidate cache automatically</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="w"> </span><span class="nx">maxWidth</span><span class="o">=</span><span class="s2">"xl"</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* Pipeline Status Panel */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">variant</span><span class="o">=</span><span class="s2">"h5"</span><span class="o">&gt;</span><span class="nx">Pipeline</span><span class="w"> </span><span class="nx">Status</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Box</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">Total</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">total</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">Pending</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">pending</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="cm">/* ... more queue stats ... */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>

<span class="w">        </span><span class="p">{</span><span class="cm">/* Recent Observations Table */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Table</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">recent_groups</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">group</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">TableRow</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">group_id</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">group_id</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">state</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="o">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">subbands_present</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">expected_subbands</span><span class="p">}</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">TableCell</span><span class="o">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">group</span><span class="p">.</span><span class="nx">has_calibrator</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'✓'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'—'</span><span class="p">}</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/TableRow&gt;</span>
<span class="w">          </span><span class="p">))}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Table&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* System Health Panel */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">variant</span><span class="o">=</span><span class="s2">"h5"</span><span class="o">&gt;</span><span class="nx">System</span><span class="w"> </span><span class="nx">Health</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Box</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">CPU</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">metrics</span><span class="o">?</span><span class="p">.</span><span class="nx">cpu_percent</span><span class="o">?</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">1</span><span class="p">)}</span><span class="o">%&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">Memory</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">metrics</span><span class="o">?</span><span class="p">.</span><span class="nx">mem_percent</span><span class="o">?</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">1</span><span class="p">)}</span><span class="o">%&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="cm">/* ... more metrics ... */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Pointing Visualization */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">PointingVisualization</span><span class="w"> </span>
<span class="w">        </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">500</span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="nx">showHistory</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="nx">historyDays</span><span class="o">=</span><span class="p">{</span><span class="mf">7</span><span class="p">}</span><span class="w"> </span>
<span class="w">      </span><span class="o">/&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* ESE Candidates Panel */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">ESECandidatesPanel</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints Used:</strong></p>
<ol>
<li>
<p><strong><code>GET /api/status</code></strong> - Pipeline queue statistics
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"queue"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"pending"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">130</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"collecting"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"recent_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"subbands_present"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"expected_subbands"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"has_calibrator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"calibration_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"set_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bp_3c286_60238"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"tables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/path/to/bp.cal"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/path/to/g.cal"</span><span class="p">],</span>
<span class="w">      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"matched_recent"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/metrics/system</code></strong> - System health metrics
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:30:00Z"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"cpu_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">45.2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"mem_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">62.8</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"mem_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">68719476736</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"mem_used"</span><span class="p">:</span><span class="w"> </span><span class="mi">43117412352</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"disk_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"disk_used"</span><span class="p">:</span><span class="w"> </span><span class="mi">3200000000000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"load_1"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.15</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"load_5"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.87</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"load_15"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.54</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/ese/candidates</code></strong> - ESE detection alerts
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"candidates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"source_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS J123456.7+420312"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"ra_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">188.736</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"dec_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.053</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"first_detection_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T12:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"last_detection_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"max_sigma_dev"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"current_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.125</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"baseline_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.085</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>For Astronomers:</strong> This page gives you a real-time view of pipeline health. The queue statistics tell you how many observations are waiting to be processed, currently processing, or completed. The ESE Candidates panel shows sources that have exceeded the 5σ variability threshold - these are potential extreme scattering events that need follow-up observation.</p>
<p><strong>For Developers:</strong> The page uses React Query's <code>useQuery</code> hooks which automatically handle caching, refetching, and error states. The WebSocket connection provides real-time updates without polling overhead.</p>
<h3 id="2-streaming-service-control-streaming">2. Streaming Service Control (<code>/streaming</code>)<a class="headerlink" href="#2-streaming-service-control-streaming" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Complete control interface for the autonomous streaming converter service</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/StreamingPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">StreamingPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Status queries (poll every 5 seconds)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">status</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStreamingStatus</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">health</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStreamingHealth</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStreamingConfig</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">metrics</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStreamingMetrics</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Mutations for control actions</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">startMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStartStreaming</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">stopMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useStopStreaming</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">restartMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useRestartStreaming</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateConfigMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useUpdateStreamingConfig</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleStart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">startMutation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">onSuccess</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">alert</span><span class="p">(</span><span class="sb">`Failed to start: </span><span class="si">${</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* Service Status Card */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Card</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Chip</span>
<span class="w">          </span><span class="nx">label</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">running</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'Running'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'Stopped'</span><span class="p">}</span>
<span class="w">          </span><span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">running</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'success'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'default'</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">pid</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">PID</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">status</span><span class="p">.</span><span class="nx">pid</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Typography&gt;}</span>
<span class="w">        </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">uptime_seconds</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">Uptime</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">formatUptime</span><span class="p">(</span><span class="nx">status</span><span class="p">.</span><span class="nx">uptime_seconds</span><span class="p">)}</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Card&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Resource Usage Card */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Card</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">cpu_percent</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Box</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">LinearProgress</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="p">.</span><span class="nx">cpu_percent</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">CPU</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">status</span><span class="p">.</span><span class="nx">cpu_percent</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">1</span><span class="p">)}</span><span class="o">%&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">        </span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">memory_mb</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="nx">Memory</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">status</span><span class="p">.</span><span class="nx">memory_mb</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">0</span><span class="p">)}</span><span class="w"> </span><span class="nx">MB</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Card&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Queue Statistics */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Card</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">metrics</span><span class="o">?</span><span class="p">.</span><span class="nx">queue_stats</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Stack</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">queue_stats</span><span class="p">).</span><span class="nx">map</span><span class="p">(([</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="p">])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">Box</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">state</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">state</span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">            </span><span class="p">))}</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Stack&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">        </span><span class="p">{</span><span class="nx">metrics</span><span class="o">?</span><span class="p">.</span><span class="nx">processing_rate_per_hour</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Processing</span><span class="w"> </span><span class="nx">Rate</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">processing_rate_per_hour</span><span class="p">}</span><span class="w"> </span><span class="nx">groups</span><span class="o">/</span><span class="nx">hour</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">        </span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Card&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Control Buttons */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Stack</span><span class="w"> </span><span class="nx">direction</span><span class="o">=</span><span class="s2">"row"</span><span class="w"> </span><span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mf">2</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleStart</span><span class="p">}</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">running</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">Start</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleStop</span><span class="p">}</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">running</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">Stop</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleRestart</span><span class="p">}</span><span class="w"> </span><span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">status</span><span class="o">?</span><span class="p">.</span><span class="nx">running</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="nx">Restart</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Stack&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>GET /api/streaming/status</code></strong> - Service status
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"running"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T10:00:00Z"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"uptime_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">16200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"cpu_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">35.2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"memory_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>POST /api/streaming/start</code></strong> - Start service
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Streaming service started"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/streaming/metrics</code></strong> - Processing metrics
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"queue_stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"pending"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"processing_rate_per_hour"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>For Astronomers:</strong> The streaming service automatically processes incoming observations. This page lets you start/stop the service, monitor its resource usage, and see how many observations are being processed per hour.</p>
<p><strong>For Developers:</strong> The streaming service manager (<code>StreamingServiceManager</code>) handles Docker container lifecycle or direct process management. Configuration is persisted to JSON (<code>state/streaming_config.json</code>) and survives API restarts.</p>
<h3 id="3-control-page-control">3. Control Page (<code>/control</code>)<a class="headerlink" href="#3-control-page-control" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Manual job execution and pipeline workflow control</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/ControlPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">ControlPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedMS</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedMS</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">activeTab</span><span class="p">,</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Data queries</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">msList</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMSList</span><span class="p">({</span><span class="w"> </span><span class="nx">scan</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">msMetadata</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMSMetadata</span><span class="p">(</span><span class="nx">selectedMS</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">calMatches</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCalibratorMatches</span><span class="p">(</span><span class="nx">selectedMS</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">existingTables</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useExistingCalTables</span><span class="p">(</span><span class="nx">selectedMS</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Mutations</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">calibrateMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCreateCalibrateJob</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">imageMutation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCreateImageJob</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleCalibrate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">calibrateMutation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
<span class="w">      </span><span class="nx">ms_path</span><span class="o">:</span><span class="w"> </span><span class="kt">selectedMS</span><span class="p">,</span>
<span class="w">      </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">        </span><span class="nx">refant</span><span class="o">:</span><span class="w"> </span><span class="s1">'103'</span><span class="p">,</span>
<span class="w">        </span><span class="nx">solve_bandpass</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">solve_gains</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">gain_solint</span><span class="o">:</span><span class="w"> </span><span class="s1">'inf'</span><span class="p">,</span>
<span class="w">        </span><span class="nx">gain_calmode</span><span class="o">:</span><span class="w"> </span><span class="s1">'ap'</span><span class="p">,</span>
<span class="w">        </span><span class="nx">auto_fields</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">        </span><span class="nx">min_pb</span><span class="o">:</span><span class="w"> </span><span class="kt">0.5</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Tabs</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">activeTab</span><span class="p">}</span><span class="w"> </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setActiveTab</span><span class="p">(</span><span class="nx">v</span><span class="p">)}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Measurement Sets"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Calibration"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Imaging"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Workflow"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Tabs&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* MS Selection */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">MSTable</span>
<span class="w">        </span><span class="nx">msList</span><span class="o">=</span><span class="p">{</span><span class="nx">msList</span><span class="o">?</span><span class="p">.</span><span class="nx">items</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[]}</span>
<span class="w">        </span><span class="nx">selectedMS</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedMS</span><span class="p">}</span>
<span class="w">        </span><span class="nx">onSelectMS</span><span class="o">=</span><span class="p">{</span><span class="nx">setSelectedMS</span><span class="p">}</span>
<span class="w">      </span><span class="o">/&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Calibration Form */</span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="nx">activeTab</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">TextField</span>
<span class="w">            </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Reference Antenna"</span>
<span class="w">            </span><span class="nx">value</span><span class="o">=</span><span class="s2">"103"</span>
<span class="w">            </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setRefant</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">FormControlLabel</span>
<span class="w">            </span><span class="nx">control</span><span class="o">=</span><span class="p">{</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">Checkbox</span>
<span class="w">                </span><span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">solveBandpass</span><span class="p">}</span>
<span class="w">                </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setSolveBandpass</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">)}</span>
<span class="w">              </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Solve Bandpass"</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleCalibrate</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="nx">Run</span><span class="w"> </span><span class="nx">Calibration</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>
<span class="w">      </span><span class="p">)}</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Calibration QA Panel */</span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="nx">selectedMS</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CalibrationQAPanel</span><span class="w"> </span><span class="nx">msPath</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedMS</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Job Types:</strong></p>
<ol>
<li><strong>Conversion Jobs</strong> - Convert UVH5 → Measurement Set</li>
<li><strong>Calibration Jobs</strong> - Solve for calibration solutions</li>
<li><strong>Apply Jobs</strong> - Apply calibration tables to data</li>
<li><strong>Imaging Jobs</strong> - Create continuum images from MS</li>
<li><strong>Workflow Jobs</strong> - End-to-end processing (convert → calibrate → image)</li>
</ol>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>POST /api/jobs/calibrate</code></strong> - Create calibration job
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"ms_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/scratch/dsa110-contimg/ms/2025-10-24T14:00:00.ms"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"refant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"solve_bandpass"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"solve_gains"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"gain_solint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inf"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"gain_calmode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ap"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"auto_fields"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"min_pb"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/jobs</code></strong> - List all jobs
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calibrate"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"ms_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/ms"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:01:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:05:00Z"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>For Astronomers:</strong> This page lets you manually run calibration and imaging when the autonomous pipeline needs intervention. You can select a Measurement Set, configure calibration parameters (reference antenna, solution intervals), and run calibration. The Calibration QA panel shows quality metrics to verify the calibration worked correctly.</p>
<p><strong>For Developers:</strong> Jobs are submitted asynchronously and tracked in a job queue. The API returns a job ID immediately, and the frontend polls for status updates. Job logs are available via <code>GET /api/jobs/{job_id}/logs</code>.</p>
<h3 id="4-mosaic-gallery-mosaics">4. Mosaic Gallery (<code>/mosaics</code>)<a class="headerlink" href="#4-mosaic-gallery-mosaics" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Time-range query interface for hour-long mosaics</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/MosaicGalleryPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">MosaicGalleryPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">startTime</span><span class="p">,</span><span class="w"> </span><span class="nx">setStartTime</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="nx">dayjs</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'hour'</span><span class="p">));</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">endTime</span><span class="p">,</span><span class="w"> </span><span class="nx">setEndTime</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="nx">dayjs</span><span class="p">());</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">queryRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">setQueryRequest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMosaicQuery</span><span class="p">(</span><span class="nx">queryRequest</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">createMosaic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCreateMosaic</span><span class="p">();</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setQueryRequest</span><span class="p">({</span>
<span class="w">      </span><span class="nx">start_time</span><span class="o">:</span><span class="w"> </span><span class="kt">startTime.toISOString</span><span class="p">(),</span>
<span class="w">      </span><span class="nx">end_time</span><span class="o">:</span><span class="w"> </span><span class="kt">endTime.toISOString</span><span class="p">(),</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">handleCreateMosaic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">createMosaic</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
<span class="w">      </span><span class="nx">start_time</span><span class="o">:</span><span class="w"> </span><span class="kt">startTime.toISOString</span><span class="p">(),</span>
<span class="w">      </span><span class="nx">end_time</span><span class="o">:</span><span class="w"> </span><span class="kt">endTime.toISOString</span><span class="p">(),</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* Time Range Selection */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">DateTimePicker</span>
<span class="w">          </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Start Time (UTC)"</span>
<span class="w">          </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">startTime</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">setStartTime</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">DateTimePicker</span>
<span class="w">          </span><span class="nx">label</span><span class="o">=</span><span class="s2">"End Time (UTC)"</span>
<span class="w">          </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">endTime</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">setEndTime</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleQuery</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Query</span><span class="w"> </span><span class="nx">Mosaics</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleCreateMosaic</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Create</span><span class="w"> </span><span class="nx">New</span><span class="w"> </span><span class="nx">Mosaic</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Mosaic Grid */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Grid</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mf">3</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">mosaics</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">mosaic</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Grid</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">Card</span><span class="o">&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">CardMedia</span><span class="o">&gt;</span>
<span class="w">                </span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">thumbnail_path</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="o">&lt;</span><span class="nx">img</span><span class="w"> </span><span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">thumbnail_path</span><span class="p">}</span><span class="w"> </span><span class="nx">alt</span><span class="o">=</span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">                </span><span class="p">)}</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/CardMedia&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">CardContent</span><span class="o">&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">variant</span><span class="o">=</span><span class="s2">"h6"</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Chip</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">status</span><span class="p">}</span><span class="w"> </span><span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">getStatusColor</span><span class="p">(</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">status</span><span class="p">)}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>
<span class="w">                  </span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">source_count</span><span class="p">}</span><span class="w"> </span><span class="nx">sources</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">noise_jy</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">}</span><span class="w"> </span><span class="nx">mJy</span><span class="w"> </span><span class="nx">noise</span>
<span class="w">                </span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/CardContent&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">CardActions</span><span class="o">&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Button</span><span class="o">&gt;</span><span class="nx">Download</span><span class="w"> </span><span class="nx">FITS</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">navigate</span><span class="p">(</span><span class="sb">`/mosaics/</span><span class="si">${</span><span class="nx">mosaic</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">)}</span><span class="o">&gt;</span>
<span class="w">                  </span><span class="nx">View</span>
<span class="w">                </span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">              </span><span class="o">&lt;</span><span class="err">/CardActions&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="err">/Card&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="w">        </span><span class="p">))}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>POST /api/mosaics/query</code></strong> - Query mosaics by time range
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T13:00:00Z"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span>
<span class="p">}</span>
</code></pre></div>
   Response:
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"mosaics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mosaic_2025-10-24T13:00:00_1h"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T13:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"source_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1250</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"noise_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"image_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"thumbnail_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/mosaics/1/thumbnail"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>POST /api/mosaics/create</code></strong> - Create new mosaic
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T13:00:00Z"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>For Astronomers:</strong> Mosaics combine multiple 5-minute images into a single 1-hour image covering a wider area. You can query existing mosaics by time range or create new ones. The mosaic status shows whether it's still being built (<code>in_progress</code>) or ready for analysis (<code>completed</code>).</p>
<p><strong>For Developers:</strong> Mosaic creation is asynchronous - the API returns immediately with a <code>pending</code> status, and the frontend polls for updates. The mosaic generation workflow processes groups of 10 Measurement Sets in a sliding window pattern.</p>
<h3 id="5-source-monitoring-sources">5. Source Monitoring (<code>/sources</code>)<a class="headerlink" href="#5-source-monitoring-sources" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Per-source flux timeseries monitoring and variability detection</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/SourceMonitoringPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">SourceMonitoringPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">sourceId</span><span class="p">,</span><span class="w"> </span><span class="nx">setSourceId</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">searchRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">setSearchRequest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useSourceSearch</span><span class="p">(</span><span class="nx">searchRequest</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">columnDefs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMemo</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">'source_id'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headerName</span><span class="o">:</span><span class="w"> </span><span class="s1">'Source ID'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="kt">200</span><span class="p">,</span>
<span class="w">      </span><span class="nx">pinned</span><span class="o">:</span><span class="w"> </span><span class="s1">'left'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">cellStyle</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">fontFamily</span><span class="o">:</span><span class="w"> </span><span class="s1">'monospace'</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">'mean_flux_jy'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headerName</span><span class="o">:</span><span class="w"> </span><span class="s1">'Mean Flux (mJy)'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">valueFormatter</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">'chi_sq_nu'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headerName</span><span class="o">:</span><span class="w"> </span><span class="s1">'χ²/ν'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">cellStyle</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="s1">'rgba(244, 67, 54, 0.1)'</span><span class="w"> </span><span class="p">};</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="s1">'is_variable'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">headerName</span><span class="o">:</span><span class="w"> </span><span class="s1">'Variable?'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">cellRenderer</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">params.value</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'#f44336'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'#4caf50'</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">{</span><span class="nx">params</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'✓ Yes'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'− No'</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">],</span><span class="w"> </span><span class="p">[]);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{</span><span class="cm">/* Search Interface */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">TextField</span>
<span class="w">          </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Source ID (e.g., NVSS J123456.7+420312)"</span>
<span class="w">          </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">sourceId</span><span class="p">}</span>
<span class="w">          </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setSourceId</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
<span class="w">          </span><span class="nx">onKeyPress</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'Enter'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">handleSearch</span><span class="p">()}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Button</span><span class="w"> </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSearch</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Search</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* AG Grid Table */</span><span class="p">}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">AgGridReact</span>
<span class="w">          </span><span class="nx">rowData</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">sources</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[]}</span>
<span class="w">          </span><span class="nx">columnDefs</span><span class="o">=</span><span class="p">{</span><span class="nx">columnDefs</span><span class="p">}</span>
<span class="w">          </span><span class="nx">pagination</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
<span class="w">          </span><span class="nx">paginationPageSize</span><span class="o">=</span><span class="p">{</span><span class="mf">20</span><span class="p">}</span>
<span class="w">          </span><span class="nx">loading</span><span class="o">=</span><span class="p">{</span><span class="nx">isLoading</span><span class="p">}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>

<span class="w">      </span><span class="p">{</span><span class="cm">/* Flux Timeseries Chart */</span><span class="p">}</span>
<span class="w">      </span><span class="p">{</span><span class="nx">selectedSource</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">FluxChartPanel</span><span class="w"> </span><span class="nx">sourceId</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedSource</span><span class="p">.</span><span class="nx">source_id</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="p">)}</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>POST /api/sources/search</code></strong> - Search sources
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"source_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS J123456.7+420312"</span>
<span class="p">}</span>
</code></pre></div>
   Response:
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"source_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS J123456.7+420312"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"ra_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">188.736</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"dec_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.053</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"mean_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.085</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"std_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.012</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"chi_sq_nu"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"is_variable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"flux_points"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">"mjd"</span><span class="p">:</span><span class="w"> </span><span class="mf">60238.5</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T12:00:00Z"</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.125</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"flux_err_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.008</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/sources/{source_id}/timeseries</code></strong> - Get flux timeseries
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"source_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS J123456.7+420312"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"flux_points"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"mjd"</span><span class="p">:</span><span class="w"> </span><span class="mf">60238.5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T12:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.125</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"flux_err_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.008</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img_123"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"mean_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.085</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"std_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.012</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"chi_sq_nu"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.3</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
</ol>
<p><strong>For Astronomers:</strong> This page lets you search for sources by NVSS ID and view their flux light curves. The <code>χ²/ν</code> (reduced chi-squared) statistic tests whether the source is consistent with constant flux - values &gt;5 indicate significant variability. Sources with <code>is_variable: true</code> are candidates for extreme scattering events.</p>
<p><strong>For Developers:</strong> AG Grid provides high-performance rendering for large datasets (10,000+ rows). The flux timeseries data is displayed using Plotly.js for interactive zooming and panning.</p>
<h3 id="6-sky-view-sky">6. Sky View (<code>/sky</code>)<a class="headerlink" href="#6-sky-view-sky" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> FITS image viewer and sky navigation</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/SkyViewPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">SkyViewPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedImage</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedImage</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="nx">ImageInfo</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">catalogOverlayVisible</span><span class="p">,</span><span class="w"> </span><span class="nx">setCatalogOverlayVisible</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">fitsUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">selectedImage</span>
<span class="w">    </span><span class="o">?</span><span class="w"> </span><span class="sb">`/api/images/</span><span class="si">${</span><span class="nx">selectedImage</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">/fits`</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Grid</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="nx">spacing</span><span class="o">=</span><span class="p">{</span><span class="mf">3</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="cm">/* Image Browser Sidebar */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Grid</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mf">12</span><span class="p">}</span><span class="w"> </span><span class="nx">md</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">ImageBrowser</span>
<span class="w">            </span><span class="nx">onSelectImage</span><span class="o">=</span><span class="p">{</span><span class="nx">setSelectedImage</span><span class="p">}</span>
<span class="w">            </span><span class="nx">selectedImageId</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedImage</span><span class="o">?</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
<span class="w">          </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Grid&gt;</span>

<span class="w">        </span><span class="p">{</span><span class="cm">/* Main Image Display */</span><span class="p">}</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Grid</span><span class="w"> </span><span class="nx">item</span><span class="w"> </span><span class="nx">xs</span><span class="o">=</span><span class="p">{</span><span class="mf">12</span><span class="p">}</span><span class="w"> </span><span class="nx">md</span><span class="o">=</span><span class="p">{</span><span class="mf">8</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="nx">Paper</span><span class="o">&gt;</span>
<span class="w">            </span><span class="p">{</span><span class="cm">/* JS9 FITS Viewer */</span><span class="p">}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">SkyViewer</span>
<span class="w">              </span><span class="nx">imagePath</span><span class="o">=</span><span class="p">{</span><span class="nx">fitsUrl</span><span class="p">}</span>
<span class="w">              </span><span class="nx">displayId</span><span class="o">=</span><span class="s2">"skyViewDisplay"</span>
<span class="w">              </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">600</span><span class="p">}</span>
<span class="w">            </span><span class="o">/&gt;</span>

<span class="w">            </span><span class="p">{</span><span class="cm">/* Catalog Overlay Toggle */</span><span class="p">}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">FormControlLabel</span>
<span class="w">              </span><span class="nx">control</span><span class="o">=</span><span class="p">{</span>
<span class="w">                </span><span class="o">&lt;</span><span class="nx">Switch</span>
<span class="w">                  </span><span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">catalogOverlayVisible</span><span class="p">}</span>
<span class="w">                  </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setCatalogOverlayVisible</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">)}</span>
<span class="w">                </span><span class="o">/&gt;</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">              </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Show Catalog Overlay"</span>
<span class="w">            </span><span class="o">/&gt;</span>

<span class="w">            </span><span class="p">{</span><span class="nx">catalogOverlayVisible</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span>
<span class="w">              </span><span class="o">&lt;</span><span class="nx">CatalogOverlayJS9</span>
<span class="w">                </span><span class="nx">displayId</span><span class="o">=</span><span class="s2">"skyViewDisplay"</span>
<span class="w">                </span><span class="nx">ra</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedImage</span><span class="p">.</span><span class="nx">center_ra_deg</span><span class="p">}</span>
<span class="w">                </span><span class="nx">dec</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedImage</span><span class="p">.</span><span class="nx">center_dec_deg</span><span class="p">}</span>
<span class="w">                </span><span class="nx">radius</span><span class="o">=</span><span class="p">{</span><span class="mf">1.5</span><span class="p">}</span>
<span class="w">                </span><span class="nx">catalog</span><span class="o">=</span><span class="s2">"all"</span>
<span class="w">              </span><span class="o">/&gt;</span>
<span class="w">            </span><span class="p">)}</span>

<span class="w">            </span><span class="p">{</span><span class="cm">/* Region Tools */</span><span class="p">}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">RegionTools</span>
<span class="w">              </span><span class="nx">displayId</span><span class="o">=</span><span class="s2">"skyViewDisplay"</span>
<span class="w">              </span><span class="nx">imagePath</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedImage</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span>
<span class="w">            </span><span class="o">/&gt;</span>

<span class="w">            </span><span class="p">{</span><span class="cm">/* Profile Tool */</span><span class="p">}</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nx">ProfileTool</span>
<span class="w">              </span><span class="nx">displayId</span><span class="o">=</span><span class="s2">"skyViewDisplay"</span>
<span class="w">              </span><span class="nx">imagePath</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedImage</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span>
<span class="w">            </span><span class="o">/&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="err">/Paper&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Grid&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Container&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>JS9 Integration:</strong></p>
<p>JS9 is a JavaScript FITS image viewer used throughout radio astronomy. The dashboard integrates JS9 for interactive FITS viewing:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/components/Sky/SkyViewer.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">SkyViewer</span><span class="p">({</span><span class="w"> </span><span class="nx">imagePath</span><span class="p">,</span><span class="w"> </span><span class="nx">displayId</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">SkyViewerProps</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">containerRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">JS9</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">imagePath</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Load FITS file into JS9 display</span>
<span class="w">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">JS9</span><span class="p">.</span><span class="nx">Load</span><span class="p">(</span><span class="nx">imagePath</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="kt">displayId</span><span class="p">,</span>
<span class="w">      </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="s1">'log'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">colormap</span><span class="o">:</span><span class="w"> </span><span class="s1">'grey'</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">imagePath</span><span class="p">,</span><span class="w"> </span><span class="nx">displayId</span><span class="p">]);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Box</span>
<span class="w">      </span><span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">containerRef</span><span class="p">}</span>
<span class="w">      </span><span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">displayId</span><span class="p">}</span>
<span class="w">      </span><span class="nx">sx</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s1">'100%'</span><span class="p">,</span><span class="w"> </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">600</span><span class="w"> </span><span class="p">}}</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>GET /api/images</code></strong> - List images
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/scratch/dsa110-contimg/images/img_001.fits"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"ms_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/scratch/dsa110-contimg/ms/ms_001.ms"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pbcor"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"beam_major_arcsec"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"noise_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0005</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"center_ra_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">188.736</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"center_dec_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.053</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/images/{image_id}/fits</code></strong> - Download FITS file
   Returns FITS file binary data with appropriate headers.</p>
</li>
</ol>
<p><strong>For Astronomers:</strong> This page provides an interactive FITS viewer (JS9) for examining continuum images. You can overlay catalog sources (NVSS, VLASS, FIRST) to identify known sources, draw regions for flux measurements, and extract profiles across sources.</p>
<p><strong>For Developers:</strong> JS9 is loaded from the <code>public/js9/</code> directory. The FITS files are served via the API with proper CORS headers. Catalog overlays are rendered as JS9 regions using the JS9 API.</p>
<h3 id="7-qa-visualization-qa">7. QA Visualization (<code>/qa</code>)<a class="headerlink" href="#7-qa-visualization-qa" title="Permanent link">¶</a></h3>
<p><strong>Purpose:</strong> Quality assurance data visualization and exploration</p>
<p><strong>Component Structure:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/pages/QAVisualizationPage.tsx</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">QAVisualizationPage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">tabValue</span><span class="p">,</span><span class="w"> </span><span class="nx">setTabValue</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">selectedFITSPath</span><span class="p">,</span><span class="w"> </span><span class="nx">setSelectedFITSPath</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="o">&lt;</span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">Box</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Tabs</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tabValue</span><span class="p">}</span><span class="w"> </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setTabValue</span><span class="p">(</span><span class="nx">v</span><span class="p">)}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Directory Browser"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"FITS Viewer"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"CASA Table Viewer"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Tab</span><span class="w"> </span><span class="nx">label</span><span class="o">=</span><span class="s2">"Notebook Generator"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Tabs&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">TabPanel</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tabValue</span><span class="p">}</span><span class="w"> </span><span class="nx">index</span><span class="o">=</span><span class="p">{</span><span class="mf">0</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">DirectoryBrowser</span>
<span class="w">          </span><span class="nx">onSelectFile</span><span class="o">=</span><span class="p">{(</span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="kr">type</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'fits'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nx">setSelectedFITSPath</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
<span class="w">              </span><span class="nx">setTabValue</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}}</span>
<span class="w">        </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/TabPanel&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">TabPanel</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tabValue</span><span class="p">}</span><span class="w"> </span><span class="nx">index</span><span class="o">=</span><span class="p">{</span><span class="mf">1</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">FITSViewer</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedFITSPath</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/TabPanel&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">TabPanel</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tabValue</span><span class="p">}</span><span class="w"> </span><span class="nx">index</span><span class="o">=</span><span class="p">{</span><span class="mf">2</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CasaTableViewer</span><span class="w"> </span><span class="nx">path</span><span class="o">=</span><span class="p">{</span><span class="nx">selectedTablePath</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/TabPanel&gt;</span>

<span class="w">      </span><span class="o">&lt;</span><span class="nx">TabPanel</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">tabValue</span><span class="p">}</span><span class="w"> </span><span class="nx">index</span><span class="o">=</span><span class="p">{</span><span class="mf">3</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">QANotebookGenerator</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/TabPanel&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API Endpoints:</strong></p>
<ol>
<li>
<p><strong><code>GET /api/visualization/browse</code></strong> - Browse directories
   <div class="highlight"><pre><span></span><code>GET /api/visualization/browse?path=/state/qa&amp;recursive=false
</code></pre></div>
   Response:
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/state/qa/my_ms"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image.fits"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/state/qa/my_ms/image.fits"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fits"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.5 MB"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"is_dir"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total_files"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"total_dirs"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="p">}</span>
</code></pre></div></p>
</li>
<li>
<p><strong><code>GET /api/visualization/fits/view</code></strong> - FITS viewer HTML
   <div class="highlight"><pre><span></span><code>GET /api/visualization/fits/view?path=/state/qa/my_ms/image.fits
</code></pre></div>
   Returns HTML with embedded JS9 viewer.</p>
</li>
<li>
<p><strong><code>GET /api/visualization/casatable/view</code></strong> - CASA table viewer HTML
   <div class="highlight"><pre><span></span><code>GET /api/visualization/casatable/view?path=/scratch/dsa110-contimg/ms/my_ms.ms
</code></pre></div>
   Returns HTML table viewer for CASA Measurement Set structure.</p>
</li>
</ol>
<p><strong>For Astronomers:</strong> This page lets you explore QA artifacts (calibration plots, flagging statistics, image quality metrics) generated during pipeline processing. You can browse directories, view FITS files, examine CASA table structures, and generate interactive Jupyter notebooks for detailed analysis.</p>
<p><strong>For Developers:</strong> The QA visualization endpoints serve HTML viewers that can be embedded in iframes or opened in new windows. The directory browser uses recursive directory scanning with pattern matching for filtering file types.</p>
<hr/>
<h2 id="scientific-context-astronomer-focused">Scientific Context (Astronomer-Focused)<a class="headerlink" href="#scientific-context-astronomer-focused" title="Permanent link">¶</a></h2>
<h3 id="what-is-dsa-110">What is DSA-110?<a class="headerlink" href="#what-is-dsa-110" title="Permanent link">¶</a></h3>
<p>The DSA-110 (Deep Synoptic Array 110) is a radio interferometer array consisting of 110 antennas observing at ~2.8 GHz. The telescope performs a continuous survey monitoring thousands of compact radio sources for variability, with a primary science goal of detecting extreme scattering events (ESE).</p>
<h3 id="extreme-scattering-events-ese">Extreme Scattering Events (ESE)<a class="headerlink" href="#extreme-scattering-events-ese" title="Permanent link">¶</a></h3>
<p><strong>What are ESEs?</strong> Extreme scattering events are rapid increases in radio flux followed by gradual decreases, caused by plasma clouds in the interstellar medium passing between Earth and a compact radio source. These events provide unique probes of the interstellar medium structure.</p>
<p><strong>Why 5σ threshold?</strong> The pipeline uses a 5σ (5 standard deviations) threshold for ESE detection. This means a source's flux must deviate from its baseline by more than 5 times the measurement uncertainty to be flagged as an ESE candidate. This threshold balances sensitivity (detecting real events) with false positive rate (avoiding noise fluctuations).</p>
<p><strong>Detection Algorithm:</strong> The pipeline computes variability statistics (<code>chi_sq_nu</code>, <code>significance</code>) from flux timeseries. Sources with <code>significance &gt;= 5</code> are flagged and displayed in the ESE Candidates panel.</p>
<h3 id="calibration-in-radio-astronomy">Calibration in Radio Astronomy<a class="headerlink" href="#calibration-in-radio-astronomy" title="Permanent link">¶</a></h3>
<p><strong>Why calibration is critical:</strong> Radio interferometers measure complex visibilities (amplitude and phase) that are corrupted by instrumental effects:
- <strong>Antenna gains</strong> - Each antenna has different sensitivity and phase response
- <strong>Bandpass response</strong> - Frequency-dependent gain variations
- <strong>Delays</strong> - Signal propagation delays between antennas</p>
<p><strong>Calibration process:</strong>
1. <strong>Bandpass calibration</strong> - Solve for frequency-dependent gains using a bright calibrator source (e.g., 3C286) at transit
2. <strong>Gain calibration</strong> - Solve for time-dependent antenna gains using calibrator observations
3. <strong>Application</strong> - Apply calibration solutions to target field observations</p>
<p><strong>Validity windows:</strong> Calibration solutions are valid for limited time ranges:
- <strong>Bandpass:</strong> ±12 hours around calibrator transit (changes slowly)
- <strong>Gain:</strong> ±30 minutes (changes rapidly with atmospheric conditions)</p>
<p>The calibration registry tracks these validity windows and automatically selects appropriate solutions for each observation.</p>
<h3 id="mosaics-in-radio-astronomy">Mosaics in Radio Astronomy<a class="headerlink" href="#mosaics-in-radio-astronomy" title="Permanent link">¶</a></h3>
<p><strong>What is a mosaic?</strong> A mosaic combines multiple individual images (tiles) into a single larger image covering a wider area of sky. Each tile is a 5-minute observation, and mosaics typically combine 10 tiles (50 minutes total) with 2-tile overlap between consecutive mosaics.</p>
<p><strong>Why mosaics?</strong> Radio interferometers have limited field of view (set by primary beam size). To cover larger areas, multiple pointings are required. Mosaics combine these pointings with proper weighting to create seamless larger images.</p>
<p><strong>Mosaic workflow:</strong>
1. Convert 10 Measurement Sets (5 minutes each)
2. Solve calibration on middle MS (5th of 10)
3. Apply calibration to all 10 MS files
4. Image each MS individually
5. Combine 10 images into weighted mosaic</p>
<h3 id="measurement-sets-ms">Measurement Sets (MS)<a class="headerlink" href="#measurement-sets-ms" title="Permanent link">¶</a></h3>
<p><strong>What is a Measurement Set?</strong> A Measurement Set is the standard radio astronomy data format (CASA format) containing:
- <strong>Visibility data</strong> - Complex amplitudes (amplitude + phase) for each baseline
- <strong>Metadata</strong> - Antenna positions, frequency setup, time stamps
- <strong>Flags</strong> - Data quality flags (bad data marked)</p>
<p><strong>Data flow:</strong> Raw telescope data (UVH5 format) → Measurement Set → Calibrated Measurement Set → Continuum Image → Mosaic</p>
<h3 id="source-monitoring">Source Monitoring<a class="headerlink" href="#source-monitoring" title="Permanent link">¶</a></h3>
<p><strong>Why monitor sources?</strong> The DSA-110 survey monitors thousands of compact radio sources for variability. Sources are identified from catalogs (NVSS, VLASS, FIRST) and tracked across multiple epochs.</p>
<p><strong>Flux measurements:</strong> For each source in each image, the pipeline measures:
- <strong>Peak flux</strong> - Maximum flux in source region
- <strong>Integrated flux</strong> - Total flux within source region
- <strong>Flux uncertainty</strong> - Measurement error (based on image noise)</p>
<p><strong>Variability detection:</strong> The pipeline computes statistics across epochs:
- <strong>Mean flux</strong> - Average flux across all epochs
- <strong>Standard deviation</strong> - Flux scatter
- <strong>χ²/ν</strong> - Reduced chi-squared (tests constant flux hypothesis)
- <strong>Significance</strong> - Variability significance in sigma units</p>
<hr/>
<h2 id="data-flow-workflows">Data Flow &amp; Workflows<a class="headerlink" href="#data-flow-workflows" title="Permanent link">¶</a></h2>
<h3 id="autonomous-streaming-workflow">Autonomous Streaming Workflow<a class="headerlink" href="#autonomous-streaming-workflow" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>┌─────────────────────────────────────────────────────────────┐
│  1. HDF5 Group Detection (16 subband files)                 │
│     Input: /data/incoming/*.hdf5                            │
│     Action: Register group in ingest_queue                  │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  2. HDF5 → MS Conversion                                    │
│     Input: 16 subband HDF5 files                            │
│     Output: Single Measurement Set                         │
│     Register: ms_index (stage="converted")                 │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  3. Group Formation (10 MS files)                           │
│     Trigger: 10 MS files with stage="converted"             │
│     Action: Form group, select calibration MS (5th of 10)   │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  4. Calibration Solving                                     │
│     Input: 5th MS (middle by time)                          │
│     Check: Registry for existing valid solutions            │
│     If not found: Solve bandpass + gains                    │
│     Register: cal_registry (validity windows)               │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  5. Calibration Application                                 │
│     Input: All 10 MS files                                  │
│     Query: Registry for valid solutions per MS              │
│     Action: Apply calibration tables                        │
│     Update: ms_index (stage="calibrated", cal_applied=1)   │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  6. Individual Imaging                                     │
│     Input: 10 calibrated MS files                           │
│     Action: Image each MS individually                      │
│     Output: 10 FITS images                                 │
│     Register: images table                                 │
│     Update: ms_index (stage="imaged")                      │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  7. Mosaic Generation                                       │
│     Input: 10 individual images (tiles)                     │
│     Action: Create weighted mosaic                          │
│     Output: Single mosaic FITS file                        │
│     Register: mosaics table                                │
│     Update: ms_index (stage="mosaicked")                   │
└───────────────────────────┬─────────────────────────────────┘
                            │
┌───────────────────────────▼─────────────────────────────────┐
│  8. Sliding Window for Next Mosaic                          │
│     Trigger: 8 additional MS files (total 18)              │
│     Action: Last 2 MS from previous → first 2 of next     │
│     Repeat: Steps 4-7 for new group                        │
└─────────────────────────────────────────────────────────────┘
</code></pre></div>
<h3 id="manual-job-workflow">Manual Job Workflow<a class="headerlink" href="#manual-job-workflow" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>User Action (Dashboard) → API Request → Job Queue → Pipeline Execution → Status Updates

1. User selects MS and configures parameters
2. Frontend sends POST /api/jobs/calibrate
3. Backend creates job record, returns job ID
4. Background worker processes job
5. Frontend polls GET /api/jobs/{job_id} for status
6. Job completes, status updates to "completed"
7. User views results in dashboard
</code></pre></div>
<h3 id="ese-detection-workflow">ESE Detection Workflow<a class="headerlink" href="#ese-detection-workflow" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>1. Photometry Pipeline
   - Extract flux measurements from images
   - Store in photometry_timeseries table

2. Variability Analysis
   - Compute statistics (mean, std, chi²/ν)
   - Store in variability_stats table

3. ESE Candidate Detection
   - Query: significance &gt;= 5
   - Insert into ese_candidates table

4. Dashboard Display
   - Frontend queries GET /api/ese/candidates
   - Displays in ESE Candidates panel
   - Auto-refresh every 10 seconds
</code></pre></div>
<hr/>
<h2 id="real-time-updates-state-management">Real-Time Updates &amp; State Management<a class="headerlink" href="#real-time-updates-state-management" title="Permanent link">¶</a></h2>
<h3 id="websocket-architecture">WebSocket Architecture<a class="headerlink" href="#websocket-architecture" title="Permanent link">¶</a></h3>
<p>The dashboard uses WebSocket for real-time updates with HTTP polling fallback:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/api/websocket.ts</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">createWebSocketClient</span><span class="p">(</span><span class="nx">config</span><span class="o">:</span><span class="w"> </span><span class="kt">WebSocketConfig</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">WebSocketClient</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">ws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WebSocket</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>

<span class="w">  </span><span class="nx">ws</span><span class="p">.</span><span class="nx">onopen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'WebSocket connected'</span><span class="p">);</span>
<span class="w">    </span><span class="nx">client</span><span class="p">.</span><span class="nx">connected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nx">ws</span><span class="p">.</span><span class="nx">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Handle different message types</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'status_update'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Update React Query cache</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">([</span><span class="s1">'pipeline'</span><span class="p">,</span><span class="w"> </span><span class="s1">'status'</span><span class="p">],</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">pipeline_status</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">([</span><span class="s1">'system'</span><span class="p">,</span><span class="w"> </span><span class="s1">'metrics'</span><span class="p">],</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">metrics</span><span class="p">);</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">([</span><span class="s1">'ese'</span><span class="p">,</span><span class="w"> </span><span class="s1">'candidates'</span><span class="p">],</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ese_candidates</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nx">ws</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Fallback to HTTP polling</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">'WebSocket error, falling back to polling'</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">client</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Backend WebSocket Broadcast:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># src/dsa110_contimg/api/routes.py</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">"startup"</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_status_broadcaster</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_status</span><span class="p">():</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Broadcast every 10 seconds</span>

            <span class="c1"># Fetch current status</span>
            <span class="n">pipeline_status</span> <span class="o">=</span> <span class="n">fetch_pipeline_status</span><span class="p">()</span>
            <span class="n">metrics</span> <span class="o">=</span> <span class="n">fetch_system_metrics</span><span class="p">()</span>
            <span class="n">ese_candidates</span> <span class="o">=</span> <span class="n">fetch_ese_candidates</span><span class="p">()</span>

            <span class="c1"># Broadcast to all connected clients</span>
            <span class="k">await</span> <span class="n">manager</span><span class="o">.</span><span class="n">broadcast</span><span class="p">({</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"status_update"</span><span class="p">,</span>
                <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"pipeline_status"</span><span class="p">:</span> <span class="n">pipeline_status</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
                    <span class="s2">"metrics"</span><span class="p">:</span> <span class="n">metrics</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
                    <span class="s2">"ese_candidates"</span><span class="p">:</span> <span class="n">ese_candidates</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
                <span class="p">}</span>
            <span class="p">})</span>

    <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">broadcast_status</span><span class="p">())</span>
</code></pre></div>
<h3 id="react-query-state-management">React Query State Management<a class="headerlink" href="#react-query-state-management" title="Permanent link">¶</a></h3>
<p>React Query provides automatic caching and background refetching:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Query configuration</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">QueryClient</span><span class="p">({</span>
<span class="w">  </span><span class="nx">defaultOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">queries</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">staleTime</span><span class="o">:</span><span class="w"> </span><span class="kt">30000</span><span class="p">,</span><span class="w">        </span><span class="c1">// Data considered fresh for 30 seconds</span>
<span class="w">      </span><span class="nx">cacheTime</span><span class="o">:</span><span class="w"> </span><span class="kt">300000</span><span class="p">,</span><span class="w">        </span><span class="c1">// Cache kept for 5 minutes</span>
<span class="w">      </span><span class="nx">refetchOnWindowFocus</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span><span class="w">  </span><span class="c1">// Don't refetch on window focus</span>
<span class="w">      </span><span class="nx">retry</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">failureCount</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">failureCount</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">isRetryableError</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">retryDelay</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">attemptIndex</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mf">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">attemptIndex</span><span class="p">),</span><span class="w"> </span><span class="mf">10000</span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>Query Hooks Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">usePipelineStatus</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">useQuery</span><span class="p">({</span>
<span class="w">    </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'pipeline'</span><span class="p">,</span><span class="w"> </span><span class="s1">'status'</span><span class="p">],</span>
<span class="w">    </span><span class="nx">queryFn</span><span class="o">:</span><span class="w"> </span><span class="kt">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/api/status'</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">refetchInterval</span><span class="o">:</span><span class="w"> </span><span class="kt">10000</span><span class="p">,</span><span class="w">  </span><span class="c1">// Poll every 10 seconds</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Mutation Hooks Pattern:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">useStartStreaming</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">queryClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useQueryClient</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">useMutation</span><span class="p">({</span>
<span class="w">    </span><span class="nx">mutationFn</span><span class="o">:</span><span class="w"> </span><span class="kt">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">apiClient</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/api/streaming/start'</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">onSuccess</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Invalidate streaming status to refetch</span>
<span class="w">      </span><span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">({</span><span class="w"> </span><span class="nx">queryKey</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'streaming'</span><span class="p">,</span><span class="w"> </span><span class="s1">'status'</span><span class="p">]</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<hr/>
<h2 id="api-reference-with-examples">API Reference with Examples<a class="headerlink" href="#api-reference-with-examples" title="Permanent link">¶</a></h2>
<h3 id="pipeline-status-endpoints">Pipeline Status Endpoints<a class="headerlink" href="#pipeline-status-endpoints" title="Permanent link">¶</a></h3>
<p><strong><code>GET /api/status</code></strong>
Returns pipeline queue statistics and recent observations.</p>
<p><strong>Request:</strong>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>http://localhost:8000/api/status
</code></pre></div></p>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"queue"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"pending"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"in_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">130</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"collecting"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"recent_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"received_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:05:00Z"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"subbands_present"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"expected_subbands"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"has_calibrator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3C286"</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"ra_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">202.784</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"dec_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">30.509</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"sep_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"weighted_flux"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.5</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"calibration_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"set_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bp_3c286_60238"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"tables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">"/scratch/dsa110-contimg/cal/bp_3c286_60238.bpcal"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"/scratch/dsa110-contimg/cal/bp_3c286_60238.gpcal"</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"matched_recent"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>For Astronomers:</strong> The <code>queue</code> object shows how many observations are in each processing stage. The <code>recent_groups</code> array shows the last 20 observation groups with their processing state. The <code>calibration_sets</code> array shows active calibration solutions available for use.</p>
<p><strong>For Developers:</strong> This endpoint queries the <code>ingest_queue</code> and <code>cal_registry</code> databases. The response is cached for 10 seconds to reduce database load. WebSocket updates invalidate this cache automatically.</p>
<h3 id="streaming-service-endpoints">Streaming Service Endpoints<a class="headerlink" href="#streaming-service-endpoints" title="Permanent link">¶</a></h3>
<p><strong><code>GET /api/streaming/status</code></strong>
Returns current streaming service status and resource usage.</p>
<p><strong>Request:</strong>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>http://localhost:8000/api/streaming/status
</code></pre></div></p>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"running"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T10:00:00Z"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"uptime_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">16200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"cpu_percent"</span><span class="p">:</span><span class="w"> </span><span class="mf">35.2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"memory_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong><code>POST /api/streaming/start</code></strong>
Starts the streaming converter service.</p>
<p><strong>Request:</strong>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8000/api/streaming/start
</code></pre></div></p>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Streaming service started"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>For Developers:</strong> The streaming service manager detects whether Docker is available and uses Docker containers if possible, otherwise falls back to direct process execution. Configuration is persisted to <code>state/streaming_config.json</code>.</p>
<h3 id="job-management-endpoints">Job Management Endpoints<a class="headerlink" href="#job-management-endpoints" title="Permanent link">¶</a></h3>
<p><strong><code>POST /api/jobs/calibrate</code></strong>
Creates a calibration job.</p>
<p><strong>Request:</strong>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8000/api/jobs/calibrate<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">'{</span>
<span class="s1">    "ms_path": "/scratch/dsa110-contimg/ms/2025-10-24T14:00:00.ms",</span>
<span class="s1">    "params": {</span>
<span class="s1">      "field": "",</span>
<span class="s1">      "refant": "103",</span>
<span class="s1">      "solve_bandpass": true,</span>
<span class="s1">      "solve_gains": true,</span>
<span class="s1">      "gain_solint": "inf",</span>
<span class="s1">      "gain_calmode": "ap",</span>
<span class="s1">      "auto_fields": true,</span>
<span class="s1">      "min_pb": 0.5</span>
<span class="s1">    }</span>
<span class="s1">  }'</span>
</code></pre></div></p>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calibrate"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"ms_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/scratch/dsa110-contimg/ms/2025-10-24T14:00:00.ms"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span>
<span class="w">  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T14:00:00Z"</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>For Astronomers:</strong> This endpoint lets you manually run calibration when the autonomous pipeline needs intervention. The <code>refant</code> parameter specifies the reference antenna (usually "103" for DSA-110). The <code>gain_solint</code> parameter controls solution interval ("inf" means one solution for entire observation).</p>
<p><strong>For Developers:</strong> Jobs are processed asynchronously by background workers. The API returns immediately with a job ID, and clients poll <code>GET /api/jobs/{job_id}</code> for status updates.</p>
<h3 id="source-monitoring-endpoints">Source Monitoring Endpoints<a class="headerlink" href="#source-monitoring-endpoints" title="Permanent link">¶</a></h3>
<p><strong><code>POST /api/sources/search</code></strong>
Searches for sources by ID or coordinates.</p>
<p><strong>Request:</strong>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://localhost:8000/api/sources/search<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">'{</span>
<span class="s1">    "source_id": "NVSS J123456.7+420312"</span>
<span class="s1">  }'</span>
</code></pre></div></p>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"source_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS J123456.7+420312"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"ra_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">188.736</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"dec_deg"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.053</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NVSS"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"mean_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.085</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"std_flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.012</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"chi_sq_nu"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"is_variable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"flux_points"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">"mjd"</span><span class="p">:</span><span class="w"> </span><span class="mf">60238.5</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-24T12:00:00Z"</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"flux_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.125</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"flux_err_jy"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.008</span><span class="p">,</span>
<span class="w">          </span><span class="nt">"image_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img_123"</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong>For Astronomers:</strong> This endpoint returns source information including flux timeseries. The <code>chi_sq_nu</code> field tests whether the source is consistent with constant flux (values &gt;5 indicate variability). The <code>flux_points</code> array contains the light curve data.</p>
<p><strong>For Developers:</strong> This endpoint queries the <code>master_sources</code> and <code>photometry_timeseries</code> databases. The response includes pre-computed variability statistics from the <code>variability_stats</code> table.</p>
<hr/>
<h2 id="component-implementation-details">Component Implementation Details<a class="headerlink" href="#component-implementation-details" title="Permanent link">¶</a></h2>
<h3 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">¶</a></h3>
<p>The dashboard uses a comprehensive error handling strategy:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// frontend/src/utils/errorUtils.ts</span>

<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">classifyError</span><span class="p">(</span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="kt">AxiosError</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">ErrorClassification</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Network error</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'network'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">retryable</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">      </span><span class="nx">userMessage</span><span class="o">:</span><span class="w"> </span><span class="s1">'Network error. Please check your connection.'</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">status</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Server error - retryable</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'server'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">retryable</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">      </span><span class="nx">userMessage</span><span class="o">:</span><span class="w"> </span><span class="s1">'Server error. Please try again.'</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">404</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'not_found'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">retryable</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
<span class="w">      </span><span class="nx">userMessage</span><span class="o">:</span><span class="w"> </span><span class="s1">'Resource not found.'</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ... more classifications ...</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="loading-states">Loading States<a class="headerlink" href="#loading-states" title="Permanent link">¶</a></h3>
<p>Components use consistent loading state patterns:</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">MyComponent</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">isLoading</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useMyQuery</span><span class="p">();</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Box</span><span class="w"> </span><span class="nx">display</span><span class="o">=</span><span class="s2">"flex"</span><span class="w"> </span><span class="nx">justifyContent</span><span class="o">=</span><span class="s2">"center"</span><span class="w"> </span><span class="nx">p</span><span class="o">=</span><span class="p">{</span><span class="mf">4</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">CircularProgress</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">Typography</span><span class="w"> </span><span class="nx">sx</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">ml</span><span class="o">:</span><span class="w"> </span><span class="kt">2</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="err">/Typography&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Box&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Alert</span><span class="w"> </span><span class="nx">severity</span><span class="o">=</span><span class="s2">"error"</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">{</span><span class="nx">getUserFriendlyMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">)}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/Alert&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Alert</span><span class="w"> </span><span class="nx">severity</span><span class="o">=</span><span class="s2">"info"</span><span class="o">&gt;</span><span class="nx">No</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="nx">available</span><span class="o">&lt;</span><span class="err">/Alert&gt;;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Render component with data</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="cm">/* ... */</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="form-handling">Form Handling<a class="headerlink" href="#form-handling" title="Permanent link">¶</a></h3>
<p>Forms use controlled components with validation:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">formData</span><span class="p">,</span><span class="w"> </span><span class="nx">setFormData</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">({</span>
<span class="w">  </span><span class="nx">refant</span><span class="o">:</span><span class="w"> </span><span class="s1">'103'</span><span class="p">,</span>
<span class="w">  </span><span class="nx">solve_bandpass</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">solve_gains</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">handleSubmit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">mutation</span><span class="p">.</span><span class="nx">mutateAsync</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="w">    </span><span class="nx">showSuccess</span><span class="p">(</span><span class="s1">'Job submitted successfully'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">showError</span><span class="p">(</span><span class="nx">getUserFriendlyMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">form</span><span class="w"> </span><span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">TextField</span>
<span class="w">      </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">refant</span><span class="p">}</span>
<span class="w">      </span><span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setFormData</span><span class="p">({</span><span class="w"> </span><span class="p">...</span><span class="nx">formData</span><span class="p">,</span><span class="w"> </span><span class="nx">refant</span><span class="o">:</span><span class="w"> </span><span class="kt">e.target.value</span><span class="w"> </span><span class="p">})}</span>
<span class="w">      </span><span class="nx">error</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">formData</span><span class="p">.</span><span class="nx">refant</span><span class="p">}</span>
<span class="w">      </span><span class="nx">helperText</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">formData</span><span class="p">.</span><span class="nx">refant</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">'Reference antenna required'</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">}</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="p">{</span><span class="cm">/* ... more fields ... */</span><span class="p">}</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/form&gt;</span>
<span class="p">);</span>
</code></pre></div>
<hr/>
<h2 id="production-readiness">Production Readiness<a class="headerlink" href="#production-readiness" title="Permanent link">¶</a></h2>
<h3 id="current-status">Current Status<a class="headerlink" href="#current-status" title="Permanent link">¶</a></h3>
<p><strong>Implemented Features:</strong>
- ✓ Complete dashboard UI (8 pages)
- ✓ 100+ API endpoints
- ✓ Real-time updates (WebSocket + polling)
- ✓ Streaming service control
- ✓ Manual job execution
- ✓ Data exploration (mosaics, sources, images)
- ✓ QA visualization</p>
<p><strong>Testing Status:</strong>
- Unit tests for critical components
- Integration tests for API endpoints
- End-to-end workflow testing needed</p>
<p><strong>Performance:</strong>
- API response times: &lt;100ms for most endpoints
- Frontend rendering: Optimized with React Query caching
- Database queries: Indexed for fast lookups</p>
<h3 id="known-limitations">Known Limitations<a class="headerlink" href="#known-limitations" title="Permanent link">¶</a></h3>
<ol>
<li><strong>Mosaic Generation:</strong> End-to-end workflow needs validation</li>
<li><strong>Error Handling:</strong> Some error messages could be more informative</li>
<li><strong>Mobile Responsiveness:</strong> Some pages need mobile optimization</li>
<li><strong>Documentation:</strong> API documentation needs completion</li>
</ol>
<h3 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">¶</a></h3>
<ol>
<li><strong>End-to-End Testing:</strong> Validate complete streaming → mosaic workflow</li>
<li><strong>Performance Optimization:</strong> Optimize slow database queries</li>
<li><strong>Error Handling:</strong> Improve error messages and recovery</li>
<li><strong>Documentation:</strong> Complete API documentation and user guides</li>
</ol>
<hr/>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">¶</a></h2>
<p>The DSA-110 Continuum Imaging Pipeline Dashboard provides a comprehensive, production-ready interface for monitoring and controlling an autonomous radio astronomy data processing pipeline. With 100+ API endpoints, 8 major pages, and extensive visualization capabilities, the dashboard serves both frontend developers (with modern React patterns and TypeScript type safety) and radio astronomers (with scientific context and domain-specific features).</p>
<p><strong>Key Strengths:</strong>
- Modern technology stack (React 18, TypeScript, FastAPI)
- Comprehensive error handling and retry logic
- Real-time updates via WebSocket
- Extensive data exploration capabilities
- Scientific accuracy (proper calibration workflows, ESE detection)</p>
<p><strong>Areas for Enhancement:</strong>
- End-to-end workflow validation
- Performance optimization
- Enhanced error recovery
- Expanded documentation</p>
<p>The dashboard is ready for production deployment with focused testing and validation of the end-to-end streaming → mosaic workflow.</p>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.indexes", "content.code.copy", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "0.1.0"}</script>
<script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
<script src="../../../javascripts/mathjax.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../../javascripts/mermaid-zoom.js"></script>
</body>
</html>