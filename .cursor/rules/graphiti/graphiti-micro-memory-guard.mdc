---
description: Minimal always-on memory guard to avoid unnecessary tool calls.
globs:
  - "**/*"
alwaysApply: true
---

If and only if the task involves long-term context (e.g., preferences, procedures, data lineage, run metadata, or knowledge graph updates), briefly search existing memory/graph first and save new facts at the end. Otherwise, ignore this rule and proceed normally.

When applicable, prefer:
- search_nodes for Preferences/Procedures/Requirements relevant to the task
- search_facts for lineage (CONSUMES/PRODUCES/INFORMED_BY/DEPENDS_ON)
- add_episode for task-level events; add_triplet for explicit facts
