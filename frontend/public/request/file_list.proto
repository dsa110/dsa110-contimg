syntax = "proto3";
package CARTA;

import "defs.proto";
import "enums.proto";

// FILE_LIST_REQUEST:
// Requests the list of available files for a given directory.
// Backend responds with FILE_LIST_RESPONSE
message FileListRequest {
    // Required directory name
    string directory = 1;
    // Filter mode to use when showing the file list
    FileListFilterMode filter_mode = 2;
}

// FILE_LIST_RESPONSE
// Response for FILE_LIST_REQUEST.
// Gives a list of available files, as well as subdirectories. If FileListFilterMode is set to AllFiles, the file types of files and the item counts of subdirectories will not be included, and CASA files will be treated as subdirectories. If FileListFilterMode is set to AllFiles and the requested directory is a CASA file, the list of files will contain only the file itself, and the list of subdirectories will be empty.
message FileListResponse {
    // Defines whether the FILE_LIST_REQUEST was successful
    bool success = 1;
    // Error message (if applicable)
    string message = 2;
    // Directory of listing
    string directory = 3;
    // Directory parent (null/empty if top-level)
    string parent = 4;
    // List of available image files with sizes and modification dates. File types are included if FileListFilterMode is not AllFiles, or if the requested directory in AllFiles mode is a single CASA file.
    repeated FileInfo files = 5;
    // List of subdirectories with modification dates. If FileListFilterMode is not AllFiles, item counts are also included.
    repeated DirectoryInfo subdirectories = 6;
    bool cancel = 7;
}

message StopFileList {
    FileListType file_list_type = 1;
}