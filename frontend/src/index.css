@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom component classes */
@layer base {
  body {
    @apply bg-gray-50 text-gray-900;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200;
  }

  .btn:focus {
    @apply outline-none ring-2 ring-blue-500;
  }

  .btn-primary {
    @apply bg-blue-600 text-white hover:bg-blue-700;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300;
  }

  .btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-error {
    @apply bg-red-100 text-red-800;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800;
  }

  .badge-gray {
    @apply bg-gray-100 text-gray-800;
  }

  /* Table styles */
  .table {
    @apply min-w-full divide-y divide-gray-200;
  }

  .table th {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50;
  }

  .table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }

  .table tbody tr {
    @apply bg-white border-b border-gray-200 hover:bg-gray-50;
  }

  /* Input styles */
  .input {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm;
  }

  /* Link styles */
  .link {
    @apply text-blue-600 hover:text-blue-800 hover:underline;
  }

  /* Sticky sidebar for detail pages */
  .sticky-sidebar {
    @apply space-y-6;
  }

  /* External link with icon */
  .external-link {
    @apply inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline;
  }

  .external-link::after {
    content: "";
    @apply inline-block w-3 h-3 bg-current;
    -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14'/%3E%3C/svg%3E")
      center/contain no-repeat;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14'/%3E%3C/svg%3E")
      center/contain no-repeat;
  }
}

/* Custom utility classes */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Sticky sidebar behavior - responsive */
@media (min-width: 1024px) {
  .sticky-sidebar {
    position: sticky;
    top: 1.5rem;
    max-height: calc(100vh - 3rem);
    overflow-y: auto;
  }
}

/* Rating/Action card responsive behavior */
/* Desktop (â‰¥1059px): Rating card sticky on right */
@media (min-width: 1059px) {
  .rating-side-card {
    position: sticky;
    top: 1rem;
    max-width: 350px;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
  }
}

/* Mobile (<1059px): Rating card moves to top, full width */
@media (max-width: 1058px) {
  .rating-card-container {
    order: -1;
    position: sticky;
    top: 0;
    z-index: 50;
    width: 100%;
    background: white;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid theme('colors.gray.200');
  }
}

/* Loading spinner animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 0.75s linear infinite;
}

/* Widget styles */
.widget-container {
  @apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
}

.widget-header {
  @apply px-4 py-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between;
}

.widget-title {
  @apply text-sm font-medium text-gray-700;
}

.widget-body {
  @apply p-4;
}

/* Aladin Lite overrides */
.aladin-container .aladin-fov,
.aladin-container .aladin-location {
  font-size: 11px !important;
}

/* Range slider track */
input[type="range"]::-webkit-slider-runnable-track {
  @apply bg-transparent;
}

input[type="range"]::-moz-range-track {
  @apply bg-transparent;
}
