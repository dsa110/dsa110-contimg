# Current Status Summary

## Completed :check_mark:

1. **TIME Conversion Bug Fixed**
   - Fixed `_fix_field_phase_centers_from_times()` to use format detection
   - Fixed `api/routes.py` and `test_utils.py`
   - Phase centers corrected in MS file (RA: ~170° → ~128°)

2. **Docker Environment Created**
   - Built with Python 3.11.13
   - All core packages working (NumPy, Astropy, SciPy, CuPy)
   - Volume mounting functional
   - Ready for CubiCal (once installed)

3. **CASA Calibration Checked**
   - Status: Did not complete (no calibration tables found)
   - Can re-run later if needed

## Current Blocker: CubiCal Installation

**Issue**: `sharedarray` dependency has invalid version string

```
packaging.version.InvalidVersion: Invalid version: "b'3.1.0-2-gdc90bd2\\n'"
```

**Attempts Made**:

- :check_mark: With Montblanc support: Failed
- :check_mark: Without Montblanc: Failed (same error)
- ⏳ Installing sharedarray separately: In progress

## Next Steps

### Option 1: Fix sharedarray (Recommended)

1. Clone sharedarray repository
2. Fix version string in setup.py
3. Install from local fixed source
4. Then install CubiCal

### Option 2: Use Alternative Installation Method

- Try installing from conda-forge (if available)
- Use pre-built Docker image with CubiCal
- Install older CubiCal version that works

### Option 3: Proceed Without CubiCal for Now

- Focus on CPU optimizations (hierarchical calibration)
- Revisit CubiCal when sharedarray issue is resolved
- Document the blocker for future work

## Recommendation

Since CubiCal installation is blocked by a dependency issue, we have two paths:

1. **Short-term**: Focus on CPU calibration optimizations (hierarchical
   calibration, parallel SPW processing) which don't require CubiCal
2. **Long-term**: Fix sharedarray issue or find alternative CubiCal installation
   method

The Docker environment is ready - we just need to resolve the CubiCal
installation blocker.
