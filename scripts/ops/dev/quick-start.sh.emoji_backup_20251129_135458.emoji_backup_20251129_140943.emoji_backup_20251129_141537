#!/bin/bash
# Quick Start Script for New Developers
# This automates the entire setup process

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

echo ":rocket: DSA-110 Project Quick Start"
echo "================================"
echo ""

# Step 1: Validate environment
echo "Step 1: Validating environment..."
if ! "$SCRIPT_DIR/validate-environment.sh" 2>/dev/null; then
    echo ""
    echo ":warning_sign::variation_selector-16:  Some issues found. Attempting to fix..."
    echo ""
fi

# Step 2: Auto-fix common issues
echo "Step 2: Auto-fixing common issues..."
"$SCRIPT_DIR/auto-fix-common-issues.sh" || true

# Step 3: Setup developer environment
echo ""
echo "Step 3: Setting up developer environment..."
source "$SCRIPT_DIR/developer-setup.sh"

# Step 4: Final validation
echo ""
echo "Step 4: Final validation..."
"$SCRIPT_DIR/validate-environment.sh"

echo ""
echo ":white_heavy_check_mark: Quick start complete!"
echo ""
echo "Next steps:"
echo "  1. Read: docs/how-to/CRITICAL_HANDOVER_WARNINGS.md"
echo "  2. Read: docs/how-to/AUTOMATION_GUIDE.md"
echo "  3. Run tests: ./scripts/run-tests.sh smoke"
echo ""
echo "To enable automation in future sessions, add to ~/.bashrc:"
echo "  source $SCRIPT_DIR/developer-setup.sh"
