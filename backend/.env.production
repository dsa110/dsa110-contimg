# =============================================================================
# DSA-110 PRODUCTION CONFIGURATION
# =============================================================================
# Copy this file to .env and customize for your environment
# WARNING: Never commit secrets to version control!

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
DSA110_ENV=production

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DSA110_DB_BACKEND=postgresql
DSA110_DB_PG_HOST=localhost
DSA110_DB_PG_PORT=5433
DSA110_DB_PG_DATABASE=dsa110
DSA110_DB_PG_USER=dsa110
# IMPORTANT: Change this password in production!
DSA110_DB_PG_PASSWORD=CHANGE_ME_IN_PRODUCTION
DSA110_DB_PG_POOL_MIN=2
DSA110_DB_PG_POOL_MAX=10

# -----------------------------------------------------------------------------
# Authentication (REQUIRED for production)
# -----------------------------------------------------------------------------
# Set to false to enable JWT authentication
DSA110_AUTH_DISABLED=false

# JWT Secret - MUST be unique per deployment
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
DSA110_JWT_SECRET=CHANGE_ME_GENERATE_NEW_SECRET

# -----------------------------------------------------------------------------
# ABSURD Task Queue
# -----------------------------------------------------------------------------
ABSURD_ENABLED=true
ABSURD_DATABASE_URL=postgresql://dsa110:CHANGE_ME_IN_PRODUCTION@localhost:5433/dsa110
ABSURD_QUEUE_NAME=dsa110-pipeline
ABSURD_WORKER_CONCURRENCY=4
ABSURD_WORKER_POLL_INTERVAL=1.0
ABSURD_TASK_TIMEOUT=3600
ABSURD_MAX_RETRIES=3
ABSURD_DLQ_ENABLED=true
ABSURD_DLQ_QUEUE_NAME=dsa110-pipeline-dlq

# -----------------------------------------------------------------------------
# Worker API Heartbeat Configuration
# -----------------------------------------------------------------------------
# Base URL for API heartbeat endpoint (workers -> API communication)
# Use internal hostname/IP for production, not localhost if workers run elsewhere
ABSURD_API_BASE_URL=http://lxd110h17:8000

# Heartbeat interval in seconds (default: 10.0)
ABSURD_API_HEARTBEAT_INTERVAL=10.0

# -----------------------------------------------------------------------------
# Redis Cache (Optional)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# LOG_LEVEL=INFO
# LOG_FORMAT=json
