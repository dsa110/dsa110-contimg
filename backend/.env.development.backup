# PostgreSQL Configuration for DSA-110 Pipeline
# Copy to .env and customize, or source before docker-compose

# Database credentials
POSTGRES_DB=dsa110
POSTGRES_USER=dsa110
POSTGRES_PASSWORD=dsa110_dev_password

# Connection settings for the API
DSA110_DB_BACKEND=postgresql
DSA110_DB_PG_HOST=localhost
DSA110_DB_PG_PORT=5433
DSA110_DB_PG_DATABASE=dsa110
DSA110_DB_PG_USER=dsa110
DSA110_DB_PG_PASSWORD=dsa110_dev_password

# Connection pool settings
DSA110_DB_PG_POOL_MIN=2
DSA110_DB_PG_POOL_MAX=10

# For Docker networking (api-pg service uses this)
# When running in Docker, the host is the service name
# DSA110_DB_PG_HOST=postgres

# =============================================================================
# ABSURD Workflow Manager Configuration
# =============================================================================
# Enable/disable ABSURD task queue system
ABSURD_ENABLED=true

# PostgreSQL connection for ABSURD (uses same database as pipeline)
ABSURD_DATABASE_URL=postgresql://dsa110:dsa110_dev_password@localhost:5433/dsa110

# Queue configuration
ABSURD_QUEUE_NAME=dsa110-pipeline
ABSURD_WORKER_CONCURRENCY=4
ABSURD_WORKER_POLL_INTERVAL=1.0

# Task execution settings
ABSURD_TASK_TIMEOUT=3600
ABSURD_MAX_RETRIES=3

# Dead letter queue for failed tasks
ABSURD_DLQ_ENABLED=true
ABSURD_DLQ_QUEUE_NAME=dsa110-pipeline-dlq
DSA110_JWT_SECRET=bd2ac7ddaa5b04ab1b6d1d7d1538c036ab339b356e0d9554b91a33264baf93a0

# API Base URL for worker heartbeats (allows workers to register with API monitor)
ABSURD_API_BASE_URL=http://localhost:8000
ABSURD_API_HEARTBEAT_INTERVAL=10.0
DSA110_AUTH_DISABLED=true
DSA110_ENV=development
